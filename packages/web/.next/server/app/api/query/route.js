/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/query/route";
exports.ids = ["app/api/query/route"];
exports.modules = {

/***/ "(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Fsheirraza%2Fakhai%2Fpackages%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsheirraza%2Fakhai%2Fpackages%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Fsheirraza%2Fakhai%2Fpackages%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsheirraza%2Fakhai%2Fpackages%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _Users_sheirraza_akhai_packages_web_app_api_query_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/query/route.ts */ \"(rsc)/./app/api/query/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/query/route\",\n        pathname: \"/api/query\",\n        filename: \"route\",\n        bundlePath: \"app/api/query/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/Users/sheirraza/akhai/packages/web/app/api/query/route.ts\",\n    nextConfigOutput,\n    userland: _Users_sheirraza_akhai_packages_web_app_api_query_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/query/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuNS45X3JlYWN0LWRvbUAxOS4yLjNfcmVhY3RAMTkuMi4zX19yZWFjdEAxOS4yLjMvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyL2luZGV4LmpzP25hbWU9YXBwJTJGYXBpJTJGcXVlcnklMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnF1ZXJ5JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcXVlcnklMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZzaGVpcnJhemElMkZha2hhaSUyRnBhY2thZ2VzJTJGd2ViJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnNoZWlycmF6YSUyRmFraGFpJTJGcGFja2FnZXMlMkZ3ZWImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QmaXNHbG9iYWxOb3RGb3VuZEVuYWJsZWQ9ISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNkO0FBQ1M7QUFDTztBQUNLO0FBQ21DO0FBQ2pEO0FBQ087QUFDZjtBQUNzQztBQUN6QjtBQUNNO0FBQ0M7QUFDaEI7QUFDcUI7QUFDdkY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYSxPQUFvQyxJQUFJLENBQUU7QUFDdkQs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Q0E7QUFDQTtBQUNBLDZDQUE2QywwRkFBcUI7QUFDbEU7QUFDQSxrQkFBa0IsNkVBQVk7QUFDOUI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ04sNkJBQTZCLDZGQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJGQUFtQjtBQUNyRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2RUFBWTtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgeyBnZXRSZXF1ZXN0TWV0YSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IE5leHRSZXF1ZXN0QWRhcHRlciwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9uZXh0LXJlcXVlc3RcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0UmV2YWxpZGF0ZVJlYXNvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2luc3RydW1lbnRhdGlvbi91dGlsc1wiO1xuaW1wb3J0IHsgc2VuZFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc2VuZC1yZXNwb25zZVwiO1xuaW1wb3J0IHsgZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzLCB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRDYWNoZUNvbnRyb2xIZWFkZXIgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvY2FjaGUtY29udHJvbFwiO1xuaW1wb3J0IHsgSU5GSU5JVEVfQ0FDSEUsIE5FWFRfQ0FDSEVfVEFHU19IRUFERVIgfSBmcm9tIFwibmV4dC9kaXN0L2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IE5vRmFsbGJhY2tFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9uby1mYWxsYmFjay1lcnJvci5leHRlcm5hbFwiO1xuaW1wb3J0IHsgQ2FjaGVkUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVzcG9uc2UtY2FjaGVcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc2hlaXJyYXphL2FraGFpL3BhY2thZ2VzL3dlYi9hcHAvYXBpL3F1ZXJ5L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9xdWVyeS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3F1ZXJ5XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9xdWVyeS9yb3V0ZVwiXG4gICAgfSxcbiAgICBkaXN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfRElTVF9ESVIgfHwgJycsXG4gICAgcmVsYXRpdmVQcm9qZWN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfUFJPSkVDVF9ESVIgfHwgJycsXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvc2hlaXJyYXphL2FraGFpL3BhY2thZ2VzL3dlYi9hcHAvYXBpL3F1ZXJ5L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMsIGN0eCkge1xuICAgIHZhciBfbmV4dENvbmZpZ19leHBlcmltZW50YWw7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvcXVlcnkvcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBpc0RyYWZ0TW9kZSwgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcmVzb2x2ZWRQYXRobmFtZSB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IGlzSXNyID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSB8fCBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgIGlmIChpc0lzciAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdO1xuICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09IGZhbHNlICYmICFpc1ByZXJlbmRlcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKGlzSXNyICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgICAgICAvLyBlbnN1cmUgL2luZGV4IGFuZCAvIGlzIG5vcm1hbGl6ZWQgdG8gb25lIGtleVxuICAgICAgICBjYWNoZUtleSA9IGNhY2hlS2V5ID09PSAnL2luZGV4JyA/ICcvJyA6IGNhY2hlS2V5O1xuICAgIH1cbiAgICBjb25zdCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUxcbiAgICByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAvLyBJZiB0aGlzIGlzIG5vdCBTU0cgb3IgZG9lcyBub3QgaGF2ZSBzdGF0aWMgcGF0aHMsIHRoZW4gaXQgc3VwcG9ydHNcbiAgICAvLyBkeW5hbWljIEhUTUwuXG4gICAgIWlzSXNyO1xuICAgIC8vIFRoaXMgaXMgYSByZXZhbGlkYXRpb24gcmVxdWVzdCBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWNcbiAgICAvLyBwYWdlIGFuZCBpdCBpcyBub3QgYmVpbmcgcmVzdW1lZCBmcm9tIGEgcG9zdHBvbmVkIHJlbmRlciBhbmRcbiAgICAvLyBpdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IHRoZW4gaXQgaXMgYSByZXZhbGlkYXRpb25cbiAgICAvLyByZXF1ZXN0LlxuICAgIGNvbnN0IGlzUmV2YWxpZGF0ZSA9IGlzSXNyICYmICFzdXBwb3J0c0R5bmFtaWNSZXNwb25zZTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgY2FjaGVDb21wb25lbnRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNhY2hlQ29tcG9uZW50cyksXG4gICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX25leHRDb25maWdfZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjcmVhdGUgYSBjYWNoZUVudHJ5IGZvciBJU1JcbiAgICAgICAgICAgIGlmICghaXNJc3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGFwcC1yb3V0ZSByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7Y2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDFcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhjYWNoZUVudHJ5LnZhbHVlLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKCEoZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc0lzcikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShORVhUX0NBQ0hFX1RBR1NfSEVBREVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGNhY2hlIGNvbnRyb2wgaXMgYWxyZWFkeSBzZXQgb24gdGhlIHJlc3BvbnNlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBvdmVycmlkZSBpdCB0byBhbGxvdyB1c2VycyB0byBjdXN0b21pemUgaXQgdmlhIG5leHQuY29uZmlnXG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSAmJiAhaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgZ2V0Q2FjaGVDb250cm9sSGVhZGVyKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIE5vRmFsbGJhY2tFcnJvcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogbm9ybWFsaXplZFNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldGhyb3cgc28gdGhhdCB3ZSBjYW4gaGFuZGxlIHNlcnZpbmcgZXJyb3IgcGFnZVxuICAgICAgICAvLyBJZiB0aGlzIGlzIGR1cmluZyBzdGF0aWMgZ2VuZXJhdGlvbiwgdGhyb3cgdGhlIGVycm9yIGFnYWluLlxuICAgICAgICBpZiAoaXNJc3IpIHRocm93IGVycjtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZW5kIGEgNTAwIHJlc3BvbnNlLlxuICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgc3RhdHVzOiA1MDBcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Fsheirraza%2Fakhai%2Fpackages%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsheirraza%2Fakhai%2Fpackages%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/../core/dist/AkhAISystem.js":
/*!***********************************!*\
  !*** ../core/dist/AkhAISystem.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.AkhAISystem = void 0;\nconst ModelAlignment_js_1 = __webpack_require__(/*! ./models/ModelAlignment.js */ \"(rsc)/../core/dist/models/ModelAlignment.js\");\nconst ModelProviderFactory_js_1 = __webpack_require__(/*! ./models/ModelProviderFactory.js */ \"(rsc)/../core/dist/models/ModelProviderFactory.js\");\nconst CostTracker_js_1 = __webpack_require__(/*! ./utils/CostTracker.js */ \"(rsc)/../core/dist/utils/CostTracker.js\");\nconst WebSearch_js_1 = __webpack_require__(/*! ./tools/WebSearch.js */ \"(rsc)/../core/dist/tools/WebSearch.js\");\nconst system_prompts_js_1 = __webpack_require__(/*! ./prompts/system-prompts.js */ \"(rsc)/../core/dist/prompts/system-prompts.js\");\n/**\n * AkhAISystem\n *\n * Super Research Engine with Multi-AI Consensus\n *\n * Features:\n * - Multi-AI consensus with 4 advisors + Mother Base\n * - Automated verification loops (max 3 rounds, 2 min each)\n * - Flow A: Mother Base Decision\n * - Flow B: Sub-Agent Execution (Direct)\n *\n * Architecture:\n * ```\n * Mother Base (Your choice)\n *      \n *      \n * Advisor Layer (4 AIs)\n *  Slot 1: Configurable (Technical)\n *  Slot 2: Configurable (Strategic)\n *  Slot 3: OpenRouter (Fixed)\n *  Slot 4: Redactor (= Mother Base)\n *      \n *      \n * Sub-Agents (= Mother Base)\n * ```\n *\n * Usage:\n * ```typescript\n * const akhai = new AkhAISystem('anthropic');\n *\n * // Set API keys\n * akhai.setApiKeys({\n *   anthropic: 'sk-ant-...',\n *   deepseek: 'sk-...',\n *   openrouter: 'sk-or-...'\n * });\n *\n * // Setup Mother Base\n * akhai.setupMotherBase('claude-sonnet-4-20250514');\n *\n * // Setup Advisor Layer (Slots 1-2, Slot 3 is always OpenRouter, Slot 4 is Mother Base)\n * akhai.setupAdvisorLayer('deepseek', 'qwen');\n *\n * // Register sub-agents\n * akhai.registerSubAgent('CodingAgent');\n * akhai.registerSubAgent('ResearchAgent');\n *\n * // Flow A: Mother Base Decision\n * const result = await akhai.executeMotherBaseFlow('Analyze system architecture');\n *\n * // Flow B: Sub-Agent Execution\n * const agentResult = await akhai.executeSubAgentFlow('Build feature', 'CodingAgent');\n * ```\n */ class AkhAISystem {\n    /**\n     * Create a new AkhAI system\n     *\n     * @param motherBaseFamily - Model family for Mother Base (any of 10 families)\n     */ constructor(motherBaseFamily){\n        this.webSearch = null;\n        // Mother Base\n        this.motherBaseProvider = null;\n        this.motherBaseModel = null;\n        // Advisor Layer (4 slots)\n        this.advisorProviders = new Map();\n        this.redactorProvider = null;\n        this.advisorLayerConfig = null;\n        // Sub-Agents\n        this.subAgentProviders = new Map();\n        this.alignmentManager = new ModelAlignment_js_1.ModelAlignmentManager(motherBaseFamily);\n        this.providerFactory = new ModelProviderFactory_js_1.ModelProviderFactory();\n        this.costTracker = new CostTracker_js_1.CostTracker();\n        console.log(`\\n AkhAI System Initialized`);\n        console.log(`   Mother Base Family: ${motherBaseFamily}`);\n        console.log(`   Available for Advisor Slots 1-2: ${this.alignmentManager.getAvailableBrainstormerFamilies().join(', ')}`);\n        console.log(`   Fixed Slot 3: ${ModelAlignment_js_1.FIXED_BRAINSTORMER_SLOT_3}`);\n    }\n    /**\n     * Set API keys for model providers\n     *\n     * @param keys - Map of model family to API key\n     *\n     * @example\n     * ```typescript\n     * akhai.setApiKeys({\n     *   anthropic: 'sk-ant-...',\n     *   openai: 'sk-...',\n     *   deepseek: 'sk-...',\n     *   openrouter: 'sk-or-...'\n     * });\n     * ```\n     */ setApiKeys(keys) {\n        Object.entries(keys).forEach(([family, key])=>{\n            if (key) {\n                this.providerFactory.setApiKey(family, key);\n            }\n        });\n        const keysSet = Object.keys(keys).length;\n        console.log(`\\n API Keys Configured: ${keysSet} provider(s)`);\n    }\n    /**\n     * Set Brave Search API key for web search capabilities\n     *\n     * @param key - Brave Search API key\n     *\n     * @example\n     * ```typescript\n     * akhai.setWebSearchKey('BSA...');\n     * ```\n     */ setWebSearchKey(key) {\n        this.webSearch = new WebSearch_js_1.WebSearch(key);\n        console.log(`\\n Web Search Configured (Brave API)`);\n    }\n    /**\n     * Search the web for live information\n     *\n     * @param query - Search query\n     * @param count - Number of results (default: 5)\n     * @returns Formatted search results string for AI context\n     */ async searchWeb(query, count = 5) {\n        if (!this.webSearch) {\n            return '[Web search not configured. Set API key with setWebSearchKey()]';\n        }\n        try {\n            const results = await this.webSearch.search(query, count);\n            return this.webSearch.formatForContext(results);\n        } catch (error) {\n            console.error('Web search error:', error);\n            return `[Web search failed: ${error instanceof Error ? error.message : 'Unknown error'}]`;\n        }\n    }\n    /**\n     * Setup Mother Base\n     *\n     * Mother Base is the primary decision-maker and final authority.\n     * It uses the family specified in the constructor.\n     *\n     * @param model - Optional specific model to use (default: provider's default)\n     *\n     * @example\n     * ```typescript\n     * akhai.setupMotherBase('claude-sonnet-4-20250514');\n     * ```\n     */ setupMotherBase(model) {\n        const family = this.alignmentManager.getMotherBaseFamily();\n        const config = this.providerFactory.getProviderConfig(family);\n        const selectedModel = model || config.defaultModel;\n        this.motherBaseModel = selectedModel;\n        this.motherBaseProvider = this.providerFactory.createProvider({\n            family,\n            model: selectedModel\n        });\n        console.log(`\\n Mother Base Ready`);\n        console.log(`   Family: ${family}`);\n        console.log(`   Model: ${selectedModel}`);\n    }\n    /**\n     * Setup Advisor Layer\n     *\n     * The Advisor Layer consists of 4 slots:\n     * - Slot 1: User-configured brainstormer (must differ from Mother Base)\n     * - Slot 2: User-configured brainstormer (must differ from Mother Base)\n     * - Slot 3: OpenRouter (FIXED - ensures diversity)\n     * - Slot 4: Redactor using Mother Base family (synthesizes advisor outputs)\n     *\n     * @param slot1Family - Model family for slot 1 (technical perspective)\n     * @param slot2Family - Model family for slot 2 (strategic perspective)\n     * @returns Resolved advisor layer configuration\n     *\n     * @example\n     * ```typescript\n     * // Mother Base: anthropic\n     * akhai.setupAdvisorLayer('deepseek', 'qwen');\n     * // Result:\n     * // Slot 1: deepseek (brainstormer)\n     * // Slot 2: qwen (brainstormer)\n     * // Slot 3: openrouter (brainstormer, fixed)\n     * // Slot 4: anthropic (redactor, aligned with Mother Base)\n     * ```\n     */ setupAdvisorLayer(slot1Family, slot2Family) {\n        // Get advisor layer configuration (validates rules)\n        const config = this.alignmentManager.getAdvisorLayerConfig(slot1Family, slot2Family);\n        this.advisorLayerConfig = config;\n        // Create providers for slots 1-3 (brainstormers)\n        this.advisorProviders.set(1, this.providerFactory.createProvider({\n            family: config.slot1.family\n        }));\n        this.advisorProviders.set(2, this.providerFactory.createProvider({\n            family: config.slot2.family\n        }));\n        this.advisorProviders.set(3, this.providerFactory.createProvider({\n            family: config.slot3.family\n        }));\n        // Create provider for slot 4 (redactor, uses Mother Base family)\n        this.redactorProvider = this.providerFactory.createProvider({\n            family: config.slot4.family\n        });\n        console.log(`\\n Advisor Layer Ready`);\n        console.log(`   Slot 1 (Brainstormer): ${config.slot1.family}`);\n        console.log(`   Slot 2 (Brainstormer): ${config.slot2.family}`);\n        console.log(`   Slot 3 (Brainstormer): ${config.slot3.family} (fixed)`);\n        console.log(`   Slot 4 (Redactor): ${config.slot4.family} (aligned with Mother Base)`);\n        return config;\n    }\n    /**\n     * Register a Sub-Agent\n     *\n     * Sub-Agents are specialized workers that execute tasks.\n     * They always use the same family as Mother Base (aligned).\n     *\n     * @param name - Unique name for the sub-agent\n     *\n     * @example\n     * ```typescript\n     * akhai.registerSubAgent('CodingAgent');\n     * akhai.registerSubAgent('ResearchAgent');\n     * akhai.registerSubAgent('AnalysisAgent');\n     * ```\n     */ registerSubAgent(name) {\n        if (this.subAgentProviders.has(name)) {\n            console.warn(`  Sub-Agent '${name}' already registered, skipping`);\n            return;\n        }\n        const family = this.alignmentManager.getSubAgentFamily();\n        this.subAgentProviders.set(name, this.providerFactory.createProvider({\n            family\n        }));\n        console.log(`\\n Sub-Agent Registered: ${name}`);\n        console.log(`   Family: ${family} (aligned with Mother Base)`);\n    }\n    /**\n     * List all registered sub-agents\n     *\n     * @returns Array of sub-agent names\n     */ listSubAgents() {\n        return Array.from(this.subAgentProviders.keys());\n    }\n    /**\n     * Get system status\n     *\n     * @returns Status object with initialization state\n     */ getStatus() {\n        return {\n            motherBase: {\n                initialized: this.motherBaseProvider !== null,\n                family: this.alignmentManager.getMotherBaseFamily(),\n                model: this.motherBaseModel\n            },\n            advisorLayer: {\n                initialized: this.advisorLayerConfig !== null,\n                config: this.advisorLayerConfig\n            },\n            subAgents: {\n                count: this.subAgentProviders.size,\n                agents: this.listSubAgents()\n            }\n        };\n    }\n    /**\n     * Ask Mother Base directly\n     *\n     * Utility method for direct Mother Base queries without consensus.\n     *\n     * @param request - Completion request\n     * @returns Mother Base response\n     * @throws Error if Mother Base not initialized\n     */ async askMotherBase(request) {\n        if (!this.motherBaseProvider) {\n            throw new Error('Mother Base not initialized. Call setupMotherBase() first.');\n        }\n        const response = await this.motherBaseProvider.complete(request);\n        // Track usage\n        if (response.usage) {\n            this.costTracker.addUsage(response.family, response.model, response.usage.inputTokens, response.usage.outputTokens);\n        }\n        return response;\n    }\n    /**\n     * Get cost tracking report\n     *\n     * Returns detailed information about API usage and costs.\n     *\n     * @returns Cost tracking data including total cost, token usage, and per-provider breakdown\n     */ getCostReport() {\n        const providerUsage = this.costTracker.getUsageByProvider();\n        const totalTokens = this.costTracker.getTotalTokens();\n        const totalCost = this.costTracker.getTotalCost();\n        return {\n            totalCost,\n            totalTokens,\n            providerUsage: Array.from(providerUsage.values()),\n            formattedReport: this.costTracker.getReport()\n        };\n    }\n    /**\n     * Reset cost tracking\n     *\n     * Clears all usage history and resets cost counters to zero.\n     */ resetCostTracking() {\n        this.costTracker.reset();\n    }\n    /**\n     * Print system summary\n     */ printSummary() {\n        console.log(`\\n${'='.repeat(60)}`);\n        console.log(' AkhAI System Summary');\n        console.log('='.repeat(60));\n        const status = this.getStatus();\n        console.log(`\\n Mother Base:`);\n        console.log(`   Status: ${status.motherBase.initialized ? ' Ready' : ' Not initialized'}`);\n        console.log(`   Family: ${status.motherBase.family}`);\n        console.log(`   Model: ${status.motherBase.model || 'Not set'}`);\n        console.log(`\\n Advisor Layer:`);\n        console.log(`   Status: ${status.advisorLayer.initialized ? ' Ready' : ' Not initialized'}`);\n        if (status.advisorLayer.config) {\n            const cfg = status.advisorLayer.config;\n            console.log(`   Slot 1: ${cfg.slot1.family} (${cfg.slot1.role})`);\n            console.log(`   Slot 2: ${cfg.slot2.family} (${cfg.slot2.role})`);\n            console.log(`   Slot 3: ${cfg.slot3.family} (${cfg.slot3.role}, fixed)`);\n            console.log(`   Slot 4: ${cfg.slot4.family} (${cfg.slot4.role}, aligned)`);\n        }\n        console.log(`\\n Sub-Agents:`);\n        console.log(`   Count: ${status.subAgents.count}`);\n        if (status.subAgents.count > 0) {\n            status.subAgents.agents.forEach((agent, i)=>{\n                console.log(`   ${i + 1}. ${agent}`);\n            });\n        }\n        console.log(`\\n${'='.repeat(60)}\\n`);\n    }\n    // ============================================================================\n    // CONSENSUS METHODS\n    // ============================================================================\n    /**\n     * Execute internal consensus among brainstormers (max 3 rounds, 2 min each)\n     *\n     * The advisor layer (slots 1-3) debates the query until consensus is reached\n     * or maximum rounds are exhausted. The redactor (slot 4) checks consensus.\n     *\n     * @param query - The query to reach consensus on\n     * @param context - Optional context (feedback from Mother Base or Sub-Agent)\n     * @returns Consensus result with all rounds and final positions\n     *\n     * @example\n     * ```typescript\n     * const consensus = await akhai.executeInternalConsensus(\n     *   'What is the best database for real-time chat?',\n     *   { fromMotherBase: 'Consider scalability' }\n     * );\n     * ```\n     */ async executeInternalConsensus(query, context, callbacks) {\n        if (this.advisorProviders.size === 0 || !this.redactorProvider) {\n            throw new Error('Advisor Layer not initialized. Call setupAdvisorLayer() first.');\n        }\n        // Search the web for latest information (only on first round)\n        let webContext = '';\n        if (this.webSearch) {\n            console.log('\\n    Searching web for latest information...');\n            try {\n                const searchResults = await this.searchWeb(query, 5);\n                webContext = `\\n\\n=== Latest Web Research (${new Date().toISOString().split('T')[0]}) ===\\n${searchResults}\\n`;\n                console.log(`    Web search complete`);\n            } catch (error) {\n                console.log(`     Web search failed: ${error}`);\n            }\n        }\n        const maxRounds = 3;\n        const rounds = [];\n        let consensusReachedAt = null;\n        console.log('\\n    Internal Consensus (max 3 rounds, 2 min each)...');\n        for(let round = 1; round <= maxRounds; round++){\n            console.log(`\\n   Round ${round}/${maxRounds}`);\n            const responses = [];\n            // Get responses from all 3 brainstormer slots\n            for (const [slot, provider] of this.advisorProviders){\n                // Notify advisor start\n                callbacks?.onAdvisorStart?.(slot, provider.family, round);\n                const prompt = this.buildRoundPrompt(round, query + webContext, rounds.length > 0 ? rounds[rounds.length - 1].responses.map((r)=>`[Slot ${r.slot}]: ${r.response}`).join('\\n') : '', context?.fromMotherBase ? `Mother Base feedback: ${context.fromMotherBase}` : context?.fromSubAgent ? `${context.fromSubAgent.agent} feedback: ${context.fromSubAgent.feedback}` : '');\n                // Get appropriate system prompt based on slot\n                const systemPrompt = slot === 1 ? (0, system_prompts_js_1.getSystemPrompt)('slot1') : slot === 2 ? (0, system_prompts_js_1.getSystemPrompt)('slot2') : (0, system_prompts_js_1.getSystemPrompt)('slot3');\n                // Graceful fallback: If advisor fails, use fallback response instead of failing entire query\n                let response;\n                try {\n                    response = await provider.complete({\n                        messages: [\n                            {\n                                role: 'user',\n                                content: prompt\n                            }\n                        ],\n                        systemPrompt\n                    });\n                    // Track usage\n                    if (response.usage) {\n                        this.costTracker.addUsage(response.family, response.model, response.usage.inputTokens, response.usage.outputTokens);\n                    }\n                    responses.push({\n                        slot,\n                        family: response.family,\n                        response: response.content\n                    });\n                    // Notify advisor complete\n                    callbacks?.onAdvisorComplete?.(slot, response.family, round, response.content);\n                    console.log(`      Slot ${slot} (${response.family}): ${response.content.substring(0, 60)}...`);\n                } catch (error) {\n                    console.error(`        Slot ${slot} (${provider.family}) failed:`, error.message);\n                    console.log(`      Using fallback response for slot ${slot}`);\n                    // Use fallback response - still include in consensus\n                    const fallbackContent = `[${provider.family} temporarily unavailable - skipped this round due to: ${error.message}]`;\n                    responses.push({\n                        slot,\n                        family: provider.family,\n                        response: fallbackContent\n                    });\n                    // Notify with fallback\n                    callbacks?.onAdvisorComplete?.(slot, provider.family, round, fallbackContent);\n                }\n            }\n            // Check if consensus reached\n            const consensusReached = await this.checkConsensus(responses);\n            // Notify consensus check\n            callbacks?.onConsensusCheck?.(round, consensusReached);\n            rounds.push({\n                round,\n                responses,\n                consensusReached\n            });\n            // Notify round complete\n            callbacks?.onRoundComplete?.(round, maxRounds);\n            if (consensusReached) {\n                consensusReachedAt = round;\n                console.log(`    Consensus reached at round ${round}`);\n                break;\n            }\n            if (round === maxRounds) {\n                console.log('     Max rounds reached - forcing conclusion');\n            }\n        }\n        return {\n            rounds,\n            totalRounds: rounds.length,\n            consensusReachedAt,\n            finalConsensus: rounds[rounds.length - 1].responses.map((r)=>({\n                    slot: r.slot,\n                    family: r.family,\n                    finalPosition: r.response\n                }))\n        };\n    }\n    /**\n     * Check if consensus is reached among responses\n     *\n     * Uses the redactor to analyze responses and determine if there's agreement.\n     *\n     * @param responses - Array of responses from brainstormers\n     * @returns true if consensus reached, false otherwise\n     * @private\n     */ async checkConsensus(responses) {\n        if (!this.redactorProvider) {\n            return false;\n        }\n        const input = responses.map((r)=>`[Slot ${r.slot}]:\\n${r.response}`).join('\\n\\n');\n        const check = await this.redactorProvider.complete({\n            messages: [\n                {\n                    role: 'user',\n                    content: input\n                }\n            ],\n            systemPrompt: 'Analyze the responses. Reply ONLY \"CONSENSUS\" if they agree on the core recommendation, or \"NO_CONSENSUS\" if they fundamentally disagree.'\n        });\n        // Track usage\n        if (check.usage) {\n            this.costTracker.addUsage(check.family, check.model, check.usage.inputTokens, check.usage.outputTokens);\n        }\n        return check.content.trim().toUpperCase() === 'CONSENSUS';\n    }\n    /**\n     * Build prompt for a consensus round\n     *\n     * Constructs the prompt based on round number and previous context.\n     *\n     * @param round - Current round number\n     * @param query - Original query\n     * @param prevContext - Previous round responses\n     * @param extContext - External context (Mother Base or Sub-Agent feedback)\n     * @returns Prompt string\n     * @private\n     */ buildRoundPrompt(round, query, prevContext, extContext) {\n        let prompt = `Query: ${query}`;\n        if (extContext) {\n            prompt += `\\n\\n${extContext}`;\n        }\n        if (round === 1) {\n            return prompt + '\\n\\nThis is round 1. Provide your initial perspective and end with [AGREE] if you support the conclusion or [DISAGREE] if you have concerns.';\n        }\n        return `${prompt}\\n\\nPrevious responses:\\n${prevContext}\\n\\n` + `This is round ${round}. Refine your position considering others' views. End with [AGREE] or [DISAGREE].`;\n    }\n    /**\n     * Redact (synthesize) advisor outputs into a single recommendation\n     *\n     * The redactor (slot 4, uses Mother Base family) synthesizes the\n     * brainstormers' outputs into a coherent recommendation.\n     *\n     * @param inputs - Array of advisor outputs with slot and family info\n     * @returns Redacted output with family and synthesized content\n     *\n     * @example\n     * ```typescript\n     * const redacted = await akhai.redact([\n     *   { slot: 1, family: 'deepseek', response: 'Use PostgreSQL for reliability' },\n     *   { slot: 2, family: 'qwen', response: 'Consider Redis for speed' },\n     *   { slot: 3, family: 'openrouter', response: 'Hybrid approach with both' }\n     * ]);\n     * ```\n     */ async redact(inputs, callbacks) {\n        if (!this.redactorProvider) {\n            throw new Error('Redactor not initialized. Call setupAdvisorLayer() first.');\n        }\n        // Notify redactor start\n        callbacks?.onRedactorStart?.();\n        const content = inputs.map((i)=>`[Slot ${i.slot} - ${i.family}]:\\n${i.response}`).join('\\n\\n---\\n\\n');\n        const result = await this.redactorProvider.complete({\n            messages: [\n                {\n                    role: 'user',\n                    content\n                }\n            ],\n            systemPrompt: (0, system_prompts_js_1.getSystemPrompt)('redactor')\n        });\n        // Track usage\n        if (result.usage) {\n            this.costTracker.addUsage(result.family, result.model, result.usage.inputTokens, result.usage.outputTokens);\n        }\n        console.log(`\\n    Redactor (${result.family}): ${result.content.substring(0, 80)}...`);\n        // Notify redactor complete\n        callbacks?.onRedactorComplete?.(result.content, result.family);\n        return {\n            family: result.family,\n            synthesizedOutput: result.content\n        };\n    }\n    // ============================================================================\n    // FLOW METHODS\n    // ============================================================================\n    /**\n     * Execute Flow A: Mother Base Decision\n     *\n     * Flow: User  Mother Base  Layer(1-3)  Redactor  Mother Base\n     *\n     * Process:\n     * 1. Mother Base receives query\n     * 2. Advisor Layer reaches consensus (max 3 rounds, 2 min each)\n     * 3. Redactor synthesizes advisor outputs\n     * 4. Mother Base reviews and approves or requests revision\n     * 5. Repeat steps 2-4 until approval or max exchanges (3)\n     *\n     * @param query - The query or task for Mother Base to decide on\n     * @returns Flow A result with consensus, redactor output, and Mother Base exchanges\n     *\n     * @example\n     * ```typescript\n     * const result = await akhai.executeMotherBaseFlow(\n     *   'Should we use microservices or monolith for our new app?'\n     * );\n     * console.log(`Decision: ${result.finalDecision}`);\n     * console.log(`Approved at exchange: ${result.approvedAt}`);\n     * ```\n     */ async executeMotherBaseFlow(query, callbacks) {\n        if (!this.motherBaseProvider) {\n            throw new Error('Mother Base not initialized. Call setupMotherBase() first.');\n        }\n        if (this.advisorProviders.size === 0 || !this.redactorProvider) {\n            throw new Error('Advisor Layer not initialized. Call setupAdvisorLayer() first.');\n        }\n        console.log('\\n FLOW A: Mother Base Decision');\n        console.log(`   Path: User  Mother Base  Layer(1-3)  Redactor  Mother Base`);\n        console.log(`   Query: ${query}`);\n        const maxExchanges = 3;\n        const exchanges = [];\n        let feedback;\n        let approvedAt = null;\n        let lastConsensus;\n        let lastRedactorOutput = '';\n        for(let exchange = 1; exchange <= maxExchanges; exchange++){\n            console.log(`\\n   ${''.repeat(60)}`);\n            console.log(`   Exchange ${exchange}/${maxExchanges}`);\n            console.log(`   ${''.repeat(60)}`);\n            // Step 1: Advisor Layer consensus\n            const consensus = await this.executeInternalConsensus(query, {\n                fromMotherBase: feedback\n            }, callbacks);\n            lastConsensus = consensus;\n            // Step 2: Redactor synthesizes\n            const redacted = await this.redact(consensus.finalConsensus.map((p)=>({\n                    slot: p.slot,\n                    family: p.family,\n                    response: p.finalPosition\n                })), callbacks);\n            lastRedactorOutput = redacted.synthesizedOutput;\n            // Step 3: Mother Base reviews\n            console.log('\\n    Redactor  Mother Base');\n            const mbResponse = await this.askMotherBase({\n                messages: [\n                    {\n                        role: 'user',\n                        content: `Query: ${query}\\n\\n` + `Advisor Output:\\n${redacted.synthesizedOutput}\\n\\n` + `Review this recommendation. Reply \"APPROVE\" if acceptable, or \"REVISION: [feedback]\" if changes needed.`\n                    }\n                ],\n                systemPrompt: (0, system_prompts_js_1.getSystemPrompt)('mother-base')\n            });\n            console.log(`    Mother Base: ${mbResponse.content.substring(0, 80)}...`);\n            const approved = !mbResponse.content.toUpperCase().includes('REVISION');\n            exchanges.push({\n                advisorOutput: redacted.synthesizedOutput,\n                motherBaseResponse: mbResponse.content,\n                approved\n            });\n            // Notify Mother Base review\n            callbacks?.onMotherBaseReview?.(exchange, approved, mbResponse.content);\n            if (approved) {\n                approvedAt = exchange;\n                console.log(`\\n    APPROVED at exchange ${exchange}`);\n                break;\n            }\n            if (exchange === maxExchanges) {\n                console.log('\\n     Max exchanges reached - forcing decision');\n            } else {\n                console.log('     REVISION requested');\n                feedback = mbResponse.content;\n            }\n        }\n        console.log('\\n Flow A Complete');\n        console.log(`   Total Exchanges: ${exchanges.length}`);\n        console.log(`   Approved: ${approvedAt !== null ? 'Yes' : 'No (forced)'}`);\n        return {\n            layerConsensus: lastConsensus,\n            redactorOutput: lastRedactorOutput,\n            motherBaseExchanges: exchanges,\n            totalMotherBaseExchanges: exchanges.length,\n            approvedAt,\n            finalDecision: exchanges[exchanges.length - 1].motherBaseResponse\n        };\n    }\n    /**\n     * Execute Flow B: Sub-Agent Execution (DIRECT)\n     *\n     * Flow: User  Sub-Agent  Layer(1-3)  Redactor  Sub-Agent  Mother Base\n     *\n     * Process:\n     * Phase 1: Sub-Agent  Advisor Layer (max 3 exchanges)\n     *   1. Advisor Layer reaches consensus (max 3 rounds, 2 min each)\n     *   2. Redactor synthesizes advisor outputs\n     *   3. Sub-Agent executes based on guidance\n     *   4. Repeat until Sub-Agent completes or max exchanges\n     *\n     * Phase 2: Sub-Agent  Mother Base Approval (max 3 exchanges)\n     *   1. Sub-Agent submits work to Mother Base\n     *   2. Mother Base approves or requests revision\n     *   3. Repeat until approval or max exchanges\n     *\n     * @param query - The task for the Sub-Agent to execute\n     * @param agentName - Name of the Sub-Agent to use\n     * @returns Flow B result with both phases' exchanges and final output\n     *\n     * @example\n     * ```typescript\n     * const result = await akhai.executeSubAgentFlow(\n     *   'Build a REST API endpoint for user registration',\n     *   'CodingAgent'\n     * );\n     * console.log(`Final Output: ${result.finalOutput}`);\n     * console.log(`Sub-Agent completed: ${result.subAgentCompletedAt !== null}`);\n     * console.log(`Mother Base approved: ${result.motherBaseApproval.approvedAt !== null}`);\n     * ```\n     */ async executeSubAgentFlow(query, agentName, callbacks) {\n        if (!this.motherBaseProvider) {\n            throw new Error('Mother Base not initialized. Call setupMotherBase() first.');\n        }\n        if (this.advisorProviders.size === 0 || !this.redactorProvider) {\n            throw new Error('Advisor Layer not initialized. Call setupAdvisorLayer() first.');\n        }\n        const agentProvider = this.subAgentProviders.get(agentName);\n        if (!agentProvider) {\n            throw new Error(`Sub-Agent '${agentName}' not registered. Available: ${this.listSubAgents().join(', ')}`);\n        }\n        console.log(`\\n FLOW B: Sub-Agent Execution (${agentName}) - DIRECT`);\n        console.log(`   Path: User  ${agentName}  Layer(1-3)  Redactor  ${agentName}  Mother Base`);\n        console.log(`   Task: ${query}`);\n        const maxExchanges = 3;\n        const subAgentExchanges = [];\n        let subAgentFeedback;\n        let subAgentCompletedAt = null;\n        let lastConsensus;\n        let lastRedactorOutput = '';\n        let lastSubAgentWork = '';\n        // ========================================================================\n        // PHASE 1: Sub-Agent  Advisor Layer\n        // ========================================================================\n        console.log('\\n   ');\n        console.log('   PHASE 1: Sub-Agent  Advisor Layer');\n        console.log('   ');\n        for(let exchange = 1; exchange <= maxExchanges; exchange++){\n            console.log(`\\n    Exchange ${exchange}/${maxExchanges} `);\n            // Step 1: Advisor Layer consensus\n            const consensus = await this.executeInternalConsensus(query, {\n                fromSubAgent: subAgentFeedback\n            }, callbacks);\n            lastConsensus = consensus;\n            // Step 2: Redactor synthesizes\n            const redacted = await this.redact(consensus.finalConsensus.map((p)=>({\n                    slot: p.slot,\n                    family: p.family,\n                    response: p.finalPosition\n                })), callbacks);\n            lastRedactorOutput = redacted.synthesizedOutput;\n            // Step 3: Sub-Agent executes\n            console.log(`\\n    Redactor  ${agentName}`);\n            // Notify sub-agent start\n            callbacks?.onSubAgentStart?.(agentName, exchange);\n            const agentResponse = await agentProvider.complete({\n                messages: [\n                    {\n                        role: 'user',\n                        content: `Guidance:\\n${redacted.synthesizedOutput}\\n\\nExecute task: ${query}\\n\\nReply with your work or \"NEED: [clarification]\" if you need more guidance.`\n                    }\n                ],\n                systemPrompt: (0, system_prompts_js_1.getSystemPrompt)('mother-base')\n            });\n            // Track usage\n            if (agentResponse.usage) {\n                this.costTracker.addUsage(agentResponse.family, agentResponse.model, agentResponse.usage.inputTokens, agentResponse.usage.outputTokens);\n            }\n            console.log(`    ${agentName}: ${agentResponse.content.substring(0, 80)}...`);\n            lastSubAgentWork = agentResponse.content;\n            const complete = !agentResponse.content.toUpperCase().includes('NEED') && !agentResponse.content.toUpperCase().includes('CLARIF');\n            // Notify sub-agent complete\n            callbacks?.onSubAgentComplete?.(agentName, exchange, agentResponse.content, complete);\n            subAgentExchanges.push({\n                guidance: redacted.synthesizedOutput,\n                agentResponse: agentResponse.content,\n                complete\n            });\n            if (complete) {\n                subAgentCompletedAt = exchange;\n                console.log(`\\n    ${agentName} completed work`);\n                break;\n            }\n            if (exchange === maxExchanges) {\n                console.log(`\\n     Max exchanges reached - forcing completion`);\n            } else {\n                console.log(`     ${agentName} needs clarification`);\n                subAgentFeedback = {\n                    agent: agentName,\n                    feedback: agentResponse.content\n                };\n            }\n        }\n        // ========================================================================\n        // PHASE 2: Sub-Agent  Mother Base Approval\n        // ========================================================================\n        console.log('\\n   ');\n        console.log('   PHASE 2: Sub-Agent  Mother Base Approval');\n        console.log('   ');\n        const approvalExchanges = [];\n        let approvedAt = null;\n        let currentWork = lastSubAgentWork;\n        for(let exchange = 1; exchange <= maxExchanges; exchange++){\n            console.log(`\\n    Approval ${exchange}/${maxExchanges} `);\n            console.log(`\\n    ${agentName}  Mother Base`);\n            const mbResponse = await this.askMotherBase({\n                messages: [\n                    {\n                        role: 'user',\n                        content: `${agentName} work:\\n${currentWork}\\n\\n` + `Review this work. Reply \"APPROVE\" if acceptable, or \"REVISION: [feedback]\" if changes needed.`\n                    }\n                ],\n                systemPrompt: (0, system_prompts_js_1.getSystemPrompt)('mother-base')\n            });\n            console.log(`    Mother Base: ${mbResponse.content.substring(0, 80)}...`);\n            const approved = !mbResponse.content.toUpperCase().includes('REVISION');\n            // Notify Mother Base review\n            callbacks?.onMotherBaseReview?.(exchange, approved, mbResponse.content);\n            approvalExchanges.push({\n                subAgentWork: currentWork,\n                motherBaseResponse: mbResponse.content,\n                approved\n            });\n            if (approved) {\n                approvedAt = exchange;\n                console.log('\\n    Mother Base APPROVED');\n                break;\n            }\n            if (exchange === maxExchanges) {\n                console.log('\\n     Max exchanges reached - forcing approval');\n            } else {\n                console.log('     REVISION requested');\n                const revision = await agentProvider.complete({\n                    messages: [\n                        {\n                            role: 'user',\n                            content: `Revise based on: ${mbResponse.content}\\n\\nOriginal: ${currentWork}`\n                        }\n                    ],\n                    systemPrompt: (0, system_prompts_js_1.getSystemPrompt)('mother-base')\n                });\n                // Track usage\n                if (revision.usage) {\n                    this.costTracker.addUsage(revision.family, revision.model, revision.usage.inputTokens, revision.usage.outputTokens);\n                }\n                currentWork = revision.content;\n                console.log(`    ${agentName} (revised): ${currentWork.substring(0, 80)}...`);\n            }\n        }\n        console.log('\\n Flow B Complete');\n        console.log(`   Phase 1 Exchanges: ${subAgentExchanges.length}`);\n        console.log(`   Phase 2 Exchanges: ${approvalExchanges.length}`);\n        console.log(`   Sub-Agent Completed: ${subAgentCompletedAt !== null ? 'Yes' : 'No (forced)'}`);\n        console.log(`   Mother Base Approved: ${approvedAt !== null ? 'Yes' : 'No (forced)'}`);\n        return {\n            layerConsensus: lastConsensus,\n            redactorOutput: lastRedactorOutput,\n            subAgentExchanges,\n            totalSubAgentExchanges: subAgentExchanges.length,\n            subAgentCompletedAt,\n            motherBaseApproval: {\n                exchanges: approvalExchanges,\n                totalExchanges: approvalExchanges.length,\n                approvedAt\n            },\n            finalOutput: approvalExchanges[approvalExchanges.length - 1].motherBaseResponse\n        };\n    }\n}\nexports.AkhAISystem = AkhAISystem; //# sourceMappingURL=AkhAISystem.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L0FraEFJU3lzdGVtLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBVUEsaUlBQThGO0FBQzlGLG1KQUF3RjtBQUN4RixzSEFBcUQ7QUFDckQsZ0hBQWlEO0FBQ2pELG1JQUE4RDtBQUU5RDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FxREcsQ0FDSCxNQUFhLFdBQVc7SUFrQnRCOzs7O09BSUcsQ0FDSCxZQUFZLGdCQUE2QjthQW5CakMsU0FBUyxHQUFxQixJQUFJLENBQUM7UUFFM0MsY0FBYzthQUNOLGtCQUFrQixHQUEwQixJQUFJLENBQUM7YUFDakQsZUFBZSxHQUFrQixJQUFJLENBQUM7UUFFOUMsMEJBQTBCO2FBQ2xCLGdCQUFnQixHQUFnQyxJQUFJLEdBQUcsRUFBRSxDQUFDO2FBQzFELGdCQUFnQixHQUEwQixJQUFJLENBQUM7YUFDL0Msa0JBQWtCLEdBQWdDLElBQUksQ0FBQztRQUUvRCxhQUFhO2FBQ0wsaUJBQWlCLEdBQWdDLElBQUksR0FBRyxFQUFFLENBQUM7UUFRakUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUkseUNBQXFCLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksOENBQW9CLEVBQUUsQ0FBQztRQUNsRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksNEJBQVcsRUFBRSxDQUFDO1FBRXJDLE9BQU8sQ0FBQyxHQUFHLENBQUMsK0JBQStCLENBQUMsQ0FBQztRQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixnQkFBZ0IsRUFBRSxDQUFDLENBQUM7UUFDMUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1Q0FBdUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGdDQUFnQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxSCxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQiw2Q0FB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UUFBUSxDQUN2QixRQUFRLENBQUMsTUFBTSxFQUNmLFFBQVEsQ0FBQyxLQUFLLEVBQ2QsUUFBUSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQzFCLFFBQVEsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUM1QixDQUFDO2dCQUNKLENBQUM7Z0JBRUQsV0FBVyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7Z0JBQy9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxTQUFTLGVBQWUsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2xGLENBQUM7UUFDSCxDQUFDO1FBRUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ25DLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDakUsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsaUJBQWlCLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUNqRSxPQUFPLENBQUMsR0FBRyxDQUFDLDJCQUEyQixtQkFBbUIsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQztRQUMvRixPQUFPLENBQUMsR0FBRyxDQUFDLDRCQUE0QixVQUFVLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUM7UUFFdkYsT0FBTztZQUNMLGNBQWMsRUFBRSxhQUFhO1lBQzdCLGNBQWMsRUFBRSxrQkFBa0I7WUFDbEMsaUJBQWlCO1lBQ2pCLHNCQUFzQixFQUFFLGlCQUFpQixDQUFDLE1BQU07WUFDaEQsbUJBQW1CO1lBQ25CLGtCQUFrQixFQUFFO2dCQUNsQixTQUFTLEVBQUUsaUJBQWlCO2dCQUM1QixjQUFjLEVBQUUsaUJBQWlCLENBQUMsTUFBTTtnQkFDeEMsVUFBVTthQUNYO1lBQ0QsV0FBVyxFQUFFLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxrQkFBa0I7U0FDaEYsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQTk3QkQsa0NBODdCQyIsInNvdXJjZXMiOlsiL1VzZXJzL3NoZWlycmF6YS9ha2hhaS9wYWNrYWdlcy9zcmMvQWtoQUlTeXN0ZW0udHMiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/AkhAISystem.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/index.js":
/*!*****************************!*\
  !*** ../core/dist/index.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * @akhai/core\n *\n * Super Research Engine with Multi-AI Consensus\n *\n * Features:\n * - Multi-AI consensus with 4 advisors + Mother Base\n * - Automated verification loops (max 3 rounds, 2 min each)\n * - Flow A: Mother Base Decision\n * - Flow B: Sub-Agent Execution (Direct)\n *\n * Usage:\n * ```typescript\n * import { createAkhAI, ModelFamily } from '@akhai/core';\n *\n * const akhai = createAkhAI('anthropic');\n *\n * akhai.setApiKeys({\n *   anthropic: 'sk-ant-...',\n *   deepseek: 'sk-...',\n *   openrouter: 'sk-or-...'\n * });\n *\n * akhai.setupMotherBase('claude-sonnet-4-20250514');\n * akhai.setupAdvisorLayer('deepseek', 'qwen');\n * akhai.registerSubAgent('CodingAgent');\n *\n * // Flow A: Mother Base Decision\n * const result = await akhai.executeMotherBaseFlow('Analyze architecture');\n *\n * // Flow B: Sub-Agent Execution\n * const agentResult = await akhai.executeSubAgentFlow('Build feature', 'CodingAgent');\n * ```\n *\n * @packageDocumentation\n */ Object.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.AkhAISystem = exports.analyzeQuery = exports.selectMethodology = exports.MethodologySelector = exports.QuorumManager = exports.LivingDatabase = exports.FlashBroadcaster = exports.FlashContextBuilder = exports.GTPExecutor = exports.createProviderFromFamily = exports.ModelProviderFactory = exports.ALL_MODEL_FAMILIES = exports.FIXED_BRAINSTORMER_SLOT_3 = exports.ModelAlignmentManager = void 0;\nexports.createAkhAI = createAkhAI;\n// ============================================================================\n// MODEL ALIGNMENT\n// ============================================================================\nvar ModelAlignment_js_1 = __webpack_require__(/*! ./models/ModelAlignment.js */ \"(rsc)/../core/dist/models/ModelAlignment.js\");\nObject.defineProperty(exports, \"ModelAlignmentManager\", ({\n    enumerable: true,\n    get: function() {\n        return ModelAlignment_js_1.ModelAlignmentManager;\n    }\n}));\nObject.defineProperty(exports, \"FIXED_BRAINSTORMER_SLOT_3\", ({\n    enumerable: true,\n    get: function() {\n        return ModelAlignment_js_1.FIXED_BRAINSTORMER_SLOT_3;\n    }\n}));\nObject.defineProperty(exports, \"ALL_MODEL_FAMILIES\", ({\n    enumerable: true,\n    get: function() {\n        return ModelAlignment_js_1.ALL_MODEL_FAMILIES;\n    }\n}));\n// ============================================================================\n// MODEL PROVIDER FACTORY\n// ============================================================================\nvar ModelProviderFactory_js_1 = __webpack_require__(/*! ./models/ModelProviderFactory.js */ \"(rsc)/../core/dist/models/ModelProviderFactory.js\");\nObject.defineProperty(exports, \"ModelProviderFactory\", ({\n    enumerable: true,\n    get: function() {\n        return ModelProviderFactory_js_1.ModelProviderFactory;\n    }\n}));\nObject.defineProperty(exports, \"createProviderFromFamily\", ({\n    enumerable: true,\n    get: function() {\n        return ModelProviderFactory_js_1.createProviderFromFamily;\n    }\n}));\n// ============================================================================\n// GTP (GENERATIVE THOUGHTS PROCESS)\n// ============================================================================\nvar index_js_1 = __webpack_require__(/*! ./methodologies/gtp/index.js */ \"(rsc)/../core/dist/methodologies/gtp/index.js\");\nObject.defineProperty(exports, \"GTPExecutor\", ({\n    enumerable: true,\n    get: function() {\n        return index_js_1.GTPExecutor;\n    }\n}));\nObject.defineProperty(exports, \"FlashContextBuilder\", ({\n    enumerable: true,\n    get: function() {\n        return index_js_1.FlashContextBuilder;\n    }\n}));\nObject.defineProperty(exports, \"FlashBroadcaster\", ({\n    enumerable: true,\n    get: function() {\n        return index_js_1.FlashBroadcaster;\n    }\n}));\nObject.defineProperty(exports, \"LivingDatabase\", ({\n    enumerable: true,\n    get: function() {\n        return index_js_1.LivingDatabase;\n    }\n}));\nObject.defineProperty(exports, \"QuorumManager\", ({\n    enumerable: true,\n    get: function() {\n        return index_js_1.QuorumManager;\n    }\n}));\nvar selector_js_1 = __webpack_require__(/*! ./methodologies/selector.js */ \"(rsc)/../core/dist/methodologies/selector.js\");\nObject.defineProperty(exports, \"MethodologySelector\", ({\n    enumerable: true,\n    get: function() {\n        return selector_js_1.MethodologySelector;\n    }\n}));\nObject.defineProperty(exports, \"selectMethodology\", ({\n    enumerable: true,\n    get: function() {\n        return selector_js_1.selectMethodology;\n    }\n}));\nObject.defineProperty(exports, \"analyzeQuery\", ({\n    enumerable: true,\n    get: function() {\n        return selector_js_1.analyzeQuery;\n    }\n}));\n// ============================================================================\n// MAIN SYSTEM\n// ============================================================================\nvar AkhAISystem_js_1 = __webpack_require__(/*! ./AkhAISystem.js */ \"(rsc)/../core/dist/AkhAISystem.js\");\nObject.defineProperty(exports, \"AkhAISystem\", ({\n    enumerable: true,\n    get: function() {\n        return AkhAISystem_js_1.AkhAISystem;\n    }\n}));\n// ============================================================================\n// FACTORY FUNCTION (DEFAULT EXPORT)\n// ============================================================================\nconst AkhAISystem_js_2 = __webpack_require__(/*! ./AkhAISystem.js */ \"(rsc)/../core/dist/AkhAISystem.js\");\n/**\n * Create a new AkhAI system instance\n *\n * This is the recommended way to create an AkhAI system.\n *\n * @param motherBaseFamily - Model family for Mother Base (any of 10 families)\n * @returns AkhAI system instance\n *\n * @example\n * ```typescript\n * import { createAkhAI } from '@akhai/core';\n *\n * const akhai = createAkhAI('anthropic');\n * ```\n */ function createAkhAI(motherBaseFamily) {\n    return new AkhAISystem_js_2.AkhAISystem(motherBaseFamily);\n}\n/**\n * Default export: createAkhAI factory function\n *\n * @example\n * ```typescript\n * import createAkhAI from '@akhai/core';\n *\n * const akhai = createAkhAI('anthropic');\n * ```\n */ exports[\"default\"] = createAkhAI; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FtQ0c7Ozs7QUErR0gsa0NBRUM7QUFyRkQsK0VBQStFO0FBQy9FLGtCQUFrQjtBQUNsQiwrRUFBK0U7QUFFL0UsK0hBSW9DO0FBSGxDO0lBQUE7SUFBQTtRQUFBLGdEQUFxQjtJQUFBO0FBQUE7QUFDckI7SUFBQTtJQUFBO1FBQUEsb0RBQXlCO0lBQUE7QUFBQTtBQUN6QjtJQUFBO0lBQUE7UUFBQSw2Q0FBa0I7SUFBQTtBQUFBO0FBR3BCLCtFQUErRTtBQUMvRSx5QkFBeUI7QUFDekIsK0VBQStFO0FBRS9FLGlKQUkwQztBQUh4QztJQUFBO0lBQUE7UUFBQSxxREFBb0I7SUFBQTtBQUFBO0FBQ3BCO0lBQUE7SUFBQTtRQUFBLHlEQUF3QjtJQUFBO0FBQUE7QUFJMUIsK0VBQStFO0FBQy9FLG9DQUFvQztBQUNwQywrRUFBK0U7QUFFL0UsMEhBTXNDO0FBTHBDO0lBQUE7SUFBQTtRQUFBLDZCQUFXO0lBQUE7QUFBQTtBQUNYO0lBQUE7SUFBQTtRQUFBLHFDQUFtQjtJQUFBO0FBQUE7QUFDbkI7SUFBQTtJQUFBO1FBQUEsa0NBQWdCO0lBQUE7QUFBQTtBQUNoQjtJQUFBO0lBQUE7UUFBQSxnQ0FBYztJQUFBO0FBQUE7QUFDZDtJQUFBO0lBQUE7UUFBQSwrQkFBYTtJQUFBO0FBQUE7QUFHZiwySEFJcUM7QUFIbkM7SUFBQTtJQUFBO1FBQUEsd0NBQW1CO0lBQUE7QUFBQTtBQUNuQjtJQUFBO0lBQUE7UUFBQSxzQ0FBaUI7SUFBQTtBQUFBO0FBQ2pCO0lBQUE7SUFBQTtRQUFBLGlDQUFZO0lBQUE7QUFBQTtBQW9CZCwrRUFBK0U7QUFDL0UsY0FBYztBQUNkLCtFQUErRTtBQUUvRSx3R0FBK0M7QUFBdEM7SUFBQTtJQUFBO1FBQUEsbUNBQVc7SUFBQTtBQUFBO0FBRXBCLCtFQUErRTtBQUMvRSxvQ0FBb0M7QUFDcEMsK0VBQStFO0FBRS9FLDBHQUErQztBQUcvQzs7Ozs7Ozs7Ozs7Ozs7R0FjRyxDQUNILFNBQWdCLFdBQVcsQ0FBQyxnQkFBNkI7SUFDdkQsT0FBTyxJQUFJLDRCQUFXLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUMzQyxDQUFDO0FBRUQ7Ozs7Ozs7OztHQVNHLENBQ0gscUJBQWUsV0FBVyxDQUFDIiwic291cmNlcyI6WyIvVXNlcnMvc2hlaXJyYXphL2FraGFpL3BhY2thZ2VzL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/index.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/methodologies/gtp/FlashBroadcaster.js":
/*!**********************************************************!*\
  !*** ../core/dist/methodologies/gtp/FlashBroadcaster.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Flash Broadcaster\n *\n * Broadcasts Flash Context Frame to ALL advisors SIMULTANEOUSLY using Promise.allSettled().\n * This is the core of GTP's parallel architecture - achieving 3x speedup over sequential execution.\n *\n * Critical: Uses Promise.allSettled() for TRUE parallelism, not sequential awaits!\n */ Object.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.FlashBroadcaster = void 0;\nconst FlashContextBuilder_js_1 = __webpack_require__(/*! ./FlashContextBuilder.js */ \"(rsc)/../core/dist/methodologies/gtp/FlashContextBuilder.js\");\nclass FlashBroadcaster {\n    constructor(){\n        this.advisorTimeout = 90000; // 90 seconds per advisor\n        this.contextBuilder = new FlashContextBuilder_js_1.FlashContextBuilder();\n    }\n    /**\n     * Broadcast Flash Context Frame to all advisors in parallel\n     *\n     * @param frame - Flash context frame to broadcast\n     * @param advisorProviders - All advisor providers\n     * @param callbacks - Progress callbacks\n     * @returns Broadcast result with all responses\n     */ async broadcast(frame, advisorProviders, callbacks) {\n        console.log(`[FlashBroadcaster]  Broadcasting to ${advisorProviders.length} advisors simultaneously`);\n        const startTime = Date.now();\n        // Notify broadcast start\n        callbacks?.onFlashBroadcast?.(advisorProviders.length);\n        // Create promises for all advisors (TRUE PARALLELISM)\n        const advisorPromises = advisorProviders.map(({ slot, family, provider })=>{\n            // Notify individual advisor start\n            const task = frame.advisorTasks.find((t)=>t.slot === slot);\n            if (task) {\n                callbacks?.onAdvisorStart?.(slot, family, task.role);\n            }\n            return this.callAdvisorWithTimeout(slot, family, provider, frame, callbacks);\n        });\n        // Execute ALL advisors in parallel using Promise.allSettled\n        // This is CRITICAL - allSettled ensures failed advisors don't block others\n        console.log(`[FlashBroadcaster]  Executing ${advisorPromises.length} advisors in PARALLEL...`);\n        const results = await Promise.allSettled(advisorPromises);\n        const duration = Date.now() - startTime;\n        console.log(`[FlashBroadcaster]  Broadcast complete in ${(duration / 1000).toFixed(2)}s`);\n        // Process results\n        const responses = [];\n        let successCount = 0;\n        let failureCount = 0;\n        results.forEach((result, index)=>{\n            if (result.status === 'fulfilled') {\n                const advisorResult = result.value;\n                responses.push(advisorResult.response);\n                if (advisorResult.response.status === 'complete') {\n                    successCount++;\n                    console.log(`[FlashBroadcaster]    Slot ${advisorResult.slot} succeeded`);\n                } else {\n                    failureCount++;\n                    console.log(`[FlashBroadcaster]    Slot ${advisorResult.slot} failed: ${advisorResult.response.error}`);\n                }\n                // Notify callback based on status\n                if (advisorResult.response.status === 'complete') {\n                    callbacks?.onAdvisorComplete?.(advisorResult.response);\n                } else {\n                    callbacks?.onAdvisorFailed?.(advisorResult.response.slot, advisorResult.response.family, advisorResult.response.error || 'Unknown error');\n                }\n            } else {\n                // Promise itself was rejected (shouldn't happen with our error handling, but just in case)\n                const advisor = advisorProviders[index];\n                const errorResponse = {\n                    slot: advisor.slot,\n                    family: advisor.family,\n                    role: frame.advisorTasks.find((t)=>t.slot === advisor.slot)?.role || 'technical',\n                    content: '',\n                    confidence: 0,\n                    keyPoints: [],\n                    status: 'failed',\n                    error: result.reason?.message || 'Promise rejection',\n                    timing: {\n                        startTime,\n                        endTime: Date.now(),\n                        duration: Date.now() - startTime\n                    }\n                };\n                responses.push(errorResponse);\n                failureCount++;\n                console.log(`[FlashBroadcaster]    Slot ${advisor.slot} rejected: ${errorResponse.error}`);\n                callbacks?.onAdvisorFailed?.(advisor.slot, advisor.family, errorResponse.error || 'Unknown error');\n            }\n        });\n        console.log(`[FlashBroadcaster]  Results: ${successCount} succeeded, ${failureCount} failed`);\n        return {\n            responses,\n            successCount,\n            failureCount,\n            duration\n        };\n    }\n    /**\n     * Call individual advisor with timeout protection\n     *\n     * @param slot - Advisor slot number\n     * @param family - Model family\n     * @param provider - Model provider\n     * @param frame - Flash context frame\n     * @param callbacks - Progress callbacks\n     * @returns Advisor call result\n     */ async callAdvisorWithTimeout(slot, family, provider, frame, callbacks) {\n        const startTime = Date.now();\n        const task = frame.advisorTasks.find((t)=>t.slot === slot);\n        if (!task) {\n            throw new Error(`No task found for slot ${slot}`);\n        }\n        // Create advisor-specific prompt\n        const prompt = this.contextBuilder.toPrompt(frame, slot);\n        console.log(`[FlashBroadcaster]  Slot ${slot} (${family}/${task.role}) starting...`);\n        try {\n            // Race between advisor call and timeout\n            const response = await Promise.race([\n                this.callAdvisor(provider, prompt, task.role),\n                this.createTimeoutPromise(this.advisorTimeout, slot, family)\n            ]);\n            const endTime = Date.now();\n            const duration = endTime - startTime;\n            console.log(`[FlashBroadcaster]  Slot ${slot} completed in ${(duration / 1000).toFixed(2)}s`);\n            // Extract key points from response\n            const keyPoints = this.extractKeyPoints(response.content);\n            const advisorResponse = {\n                slot,\n                family,\n                role: task.role,\n                content: response.content,\n                confidence: this.extractConfidence(response.content),\n                keyPoints,\n                status: 'complete',\n                usage: response.usage,\n                timing: {\n                    startTime,\n                    endTime,\n                    duration\n                }\n            };\n            return {\n                slot,\n                response: advisorResponse\n            };\n        } catch (error) {\n            const endTime = Date.now();\n            const duration = endTime - startTime;\n            const isTimeout = error.message?.includes('timeout');\n            const status = isTimeout ? 'timeout' : 'failed';\n            console.error(`[FlashBroadcaster]  Slot ${slot} ${status}: ${error.message}`);\n            const advisorResponse = {\n                slot,\n                family,\n                role: task.role,\n                content: '',\n                confidence: 0,\n                keyPoints: [],\n                status,\n                error: error.message || 'Unknown error',\n                timing: {\n                    startTime,\n                    endTime,\n                    duration\n                }\n            };\n            return {\n                slot,\n                response: advisorResponse\n            };\n        }\n    }\n    /**\n     * Call advisor provider\n     */ async callAdvisor(provider, prompt, role) {\n        const systemPrompt = role ? `You are a ${role} analyst in a multi-AI consensus system. Provide focused, insightful analysis from your unique perspective.` : 'You are an analyst in a multi-AI consensus system. Provide focused, insightful analysis.';\n        const response = await provider.complete({\n            messages: [\n                {\n                    role: 'user',\n                    content: prompt\n                }\n            ],\n            systemPrompt\n        });\n        return {\n            content: response.content,\n            usage: response.usage\n        };\n    }\n    /**\n     * Create timeout promise\n     */ createTimeoutPromise(timeoutMs, slot, family) {\n        return new Promise((_, reject)=>{\n            setTimeout(()=>{\n                reject(new Error(`Advisor timeout after ${timeoutMs}ms (Slot ${slot}, ${family})`));\n            }, timeoutMs);\n        });\n    }\n    /**\n     * Extract key points from response content\n     */ extractKeyPoints(content) {\n        const points = [];\n        // Look for bullet points\n        const bulletMatches = content.match(/^[\\-\\*]\\s+(.+)$/gm);\n        if (bulletMatches) {\n            points.push(...bulletMatches.map((m)=>m.replace(/^[\\-\\*]\\s+/, '').trim()));\n        }\n        // Look for numbered points\n        const numberedMatches = content.match(/^\\d+\\.\\s+(.+)$/gm);\n        if (numberedMatches) {\n            points.push(...numberedMatches.map((m)=>m.replace(/^\\d+\\.\\s+/, '').trim()));\n        }\n        // Look for bold statements (markdown)\n        const boldMatches = content.match(/\\*\\*([^*]+)\\*\\*/g);\n        if (boldMatches) {\n            points.push(...boldMatches.map((m)=>m.replace(/\\*\\*/g, '').trim()));\n        }\n        // Deduplicate and limit\n        const uniquePoints = Array.from(new Set(points));\n        // Return top 5 most substantial points (by length)\n        return uniquePoints.filter((p)=>p.length > 10) // Filter out very short points\n        .sort((a, b)=>b.length - a.length).slice(0, 5);\n    }\n    /**\n     * Extract confidence level from response\n     */ extractConfidence(content) {\n        // Look for confidence markers\n        const confidenceMatch = content.match(/confidence:\\s*(high|medium|low)/i);\n        if (confidenceMatch) {\n            const level = confidenceMatch[1].toLowerCase();\n            switch(level){\n                case 'high':\n                    return 0.9;\n                case 'medium':\n                    return 0.6;\n                case 'low':\n                    return 0.3;\n            }\n        }\n        // Default to medium confidence\n        return 0.6;\n    }\n    /**\n     * Set advisor timeout\n     *\n     * @param timeoutMs - Timeout in milliseconds\n     */ setAdvisorTimeout(timeoutMs) {\n        this.advisorTimeout = timeoutMs;\n        console.log(`[FlashBroadcaster] Advisor timeout set to ${timeoutMs}ms`);\n    }\n}\nexports.FlashBroadcaster = FlashBroadcaster; //# sourceMappingURL=FlashBroadcaster.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L21ldGhvZG9sb2dpZXMvZ3RwL0ZsYXNoQnJvYWRjYXN0ZXIuanMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7O0dBT0c7Ozs7QUFXSCxvSkFBK0Q7QUFtQi9ELE1BQWEsZ0JBQWdCO0lBSTNCO2FBRlEsY0FBYyxHQUFXLEtBQUssQ0FBQyxDQUFDLHlCQUF5QjtRQUcvRCxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksNENBQW1CLEVBQUUsQ0FBQztJQUNsRCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRyxDQUNILEtBQUssQ0FBQyxTQUFTLENBQ2IsS0FBd0IsRUFDeEIsZ0JBQW1DLEVBQ25DLFNBQXdCO1FBRXhCLE9BQU8sQ0FBQyxHQUFHLENBQUMseUNBQXlDLGdCQUFnQixDQUFDLE1BQU0sMEJBQTBCLENBQUMsQ0FBQztRQUV4RyxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFN0IseUJBQXlCO1FBQ3pCLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRXZELHNEQUFzRDtRQUN0RCxNQUFNLGVBQWUsR0FBRyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRTtZQUMxRSxrQ0FBa0M7WUFDbEMsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxDQUFDO1lBQzNELElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ1QsU0FBUyxFQUFFLGNBQWMsRUFBRSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3ZELENBQUM7WUFFRCxPQUFPLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFB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QUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzlFLENBQUM7UUFFRCxzQ0FBc0M7UUFDdEMsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3RELElBQUksV0FBVyxFQUFFLENBQUM7WUFDaEIsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3RFLENBQUM7UUFFRCx3QkFBd0I7UUFDeEIsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBRWpELG1EQUFtRDtRQUNuRCxPQUFPLFlBQVksQ0FDaEIsTUFBTSxFQUFDLENBQUMsQ0FBQyxFQUFFLENBQUUsQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLENBQUMsK0JBQStCO1NBQzFELElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBRyxDQUFELENBQUcsTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FDbkMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNqQixDQUFDO0lBRUQ7O09BRUcsQ0FDSyxpQkFBaUIsQ0FBQyxPQUFlO1FBQ3ZDLDhCQUE4QjtRQUM5QixNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLGtDQUFrQyxDQUFDLENBQUM7UUFFMUUsSUFBSSxlQUFlLEVBQUUsQ0FBQztZQUNwQixNQUFNLEtBQUssR0FBRyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDL0MsT0FBUSxLQUFLLEVBQUU7Z0JBQ2IsS0FBSyxNQUFNLENBQUM7b0JBQUMsT0FBTyxHQUFHLENBQUM7Z0JBQ3hCLEtBQUssUUFBUSxDQUFDO29CQUFDLE9BQU8sR0FBRyxDQUFDO2dCQUMxQixLQUFLLEtBQUssQ0FBQztvQkFBQyxPQUFPLEdBQUcsQ0FBQztZQUN6QixDQUFDO1FBQ0gsQ0FBQztRQUVELCtCQUErQjtRQUMvQixPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFFRDs7OztPQUlHLENBQ0gsaUJBQWlCLENBQUMsU0FBaUI7UUFDakMsSUFBSSxDQUFDLGNBQWMsR0FBRyxTQUFTLENBQUM7UUFDaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyw2Q0FBNkMsU0FBUyxJQUFJLENBQUMsQ0FBQztJQUMxRSxDQUFDO0NBQ0Y7QUFyVEQsNENBcVRDIiwic291cmNlcyI6WyIvVXNlcnMvc2hlaXJyYXphL3NyYy9tZXRob2RvbG9naWVzL2d0cC9GbGFzaEJyb2FkY2FzdGVyLnRzIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/methodologies/gtp/FlashBroadcaster.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/methodologies/gtp/FlashContextBuilder.js":
/*!*************************************************************!*\
  !*** ../core/dist/methodologies/gtp/FlashContextBuilder.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Flash Context Builder\n *\n * Creates the \"Flash Context Frame\" - a comprehensive snapshot that's broadcast\n * to all advisors simultaneously in the GTP methodology.\n *\n * Key responsibilities:\n * - Build project state / bigger picture\n * - Assign unique roles to each advisor (prevent redundancy)\n * - Create token-optimized context\n * - Generate advisor-specific prompts\n */ Object.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.FlashContextBuilder = void 0;\n/**\n * Role-specific focus areas\n */ const ROLE_FOCUS = {\n    technical: {\n        title: 'Technical Analysis',\n        description: 'Focus on implementation details, feasibility, and technical architecture',\n        focusAreas: [\n            'Implementation complexity',\n            'Technical feasibility',\n            'Architecture decisions',\n            'Performance considerations',\n            'Scalability factors',\n            'Code quality implications',\n            'Integration requirements',\n            'Technical trade-offs'\n        ],\n        avoidTopics: [\n            'Market analysis',\n            'Business strategy',\n            'Creative alternatives',\n            'High-level risks'\n        ]\n    },\n    strategic: {\n        title: 'Strategic Analysis',\n        description: 'Focus on market, competition, and business implications',\n        focusAreas: [\n            'Market trends',\n            'Competitive landscape',\n            'Business model viability',\n            'ROI projections',\n            'Growth strategies',\n            'Market positioning',\n            'Strategic advantages',\n            'Competitive differentiation'\n        ],\n        avoidTopics: [\n            'Implementation details',\n            'Code architecture',\n            'Creative brainstorming',\n            'Technical risks'\n        ]\n    },\n    creative: {\n        title: 'Creative Analysis',\n        description: 'Focus on unconventional ideas, edge cases, and innovative approaches',\n        focusAreas: [\n            'Unconventional approaches',\n            'Edge cases',\n            'Innovative solutions',\n            'Alternative perspectives',\n            'Unexpected use cases',\n            'Cross-domain insights',\n            'Future possibilities',\n            'Contrarian viewpoints'\n        ],\n        avoidTopics: [\n            'Standard implementations',\n            'Market analysis',\n            'Technical constraints',\n            'Common risks'\n        ]\n    },\n    critical: {\n        title: 'Critical Analysis',\n        description: 'Focus on risks, weaknesses, and potential failure points',\n        focusAreas: [\n            'Potential risks',\n            'Weaknesses',\n            'Failure scenarios',\n            'Hidden costs',\n            'Security concerns',\n            'Compliance issues',\n            'Long-term sustainability',\n            'Worst-case scenarios'\n        ],\n        avoidTopics: [\n            'Implementation steps',\n            'Market opportunities',\n            'Creative alternatives',\n            'Technical details'\n        ]\n    }\n};\nclass FlashContextBuilder {\n    /**\n     * Build a Flash Context Frame\n     *\n     * @param query - The user query\n     * @param queryAnalysis - Analysis of the query\n     * @param advisorSlots - Advisor slot assignments\n     * @returns Complete Flash Context Frame\n     */ build(query, queryAnalysis, advisorSlots) {\n        console.log(`[FlashContextBuilder] Building frame for query: ${query.substring(0, 60)}...`);\n        // Build project state (the bigger picture)\n        const projectState = this.buildProjectState(query, queryAnalysis);\n        // Assign roles and tasks to each advisor\n        const advisorTasks = this.assignAdvisorTasks(query, queryAnalysis, advisorSlots);\n        // Build constraints based on complexity\n        const constraints = this.buildConstraints(queryAnalysis);\n        const frame = {\n            version: this.version,\n            query,\n            projectState,\n            advisorTasks,\n            constraints,\n            timestamp: Date.now()\n        };\n        console.log(`[FlashContextBuilder] Frame built with ${advisorTasks.length} advisor tasks`);\n        console.log(`[FlashContextBuilder] Roles assigned:`, advisorTasks.map((t)=>`Slot ${t.slot}: ${t.role}`).join(', '));\n        return frame;\n    }\n    /**\n     * Build project state / bigger picture context\n     *\n     * @param query - The user query\n     * @param queryAnalysis - Query analysis\n     * @returns Project state context\n     */ buildProjectState(query, queryAnalysis) {\n        // Determine current focus based on query type\n        const currentFocus = this.determineCurrentFocus(queryAnalysis);\n        // Build prior knowledge from query keywords\n        const priorKnowledge = this.buildPriorKnowledge(queryAnalysis);\n        // Build constraints\n        const constraints = this.buildProjectConstraints(queryAnalysis);\n        return {\n            currentFocus,\n            priorKnowledge,\n            constraints\n        };\n    }\n    /**\n     * Determine current focus from query analysis\n     */ determineCurrentFocus(queryAnalysis) {\n        const { queryType, complexity, requiresMultiplePerspectives } = queryAnalysis;\n        const focusMap = {\n            factual: 'Providing accurate, concise factual information',\n            comparative: 'Comprehensive comparison with multiple dimensions',\n            procedural: 'Step-by-step guidance with clear implementation path',\n            research: 'In-depth research with data points and sources',\n            creative: 'Innovative brainstorming with diverse perspectives',\n            analytical: 'Detailed analysis with insights and implications',\n            troubleshooting: 'Root cause analysis and solution strategies',\n            planning: 'Strategic planning with roadmap and milestones'\n        };\n        let focus = focusMap[queryType];\n        if (complexity > 0.7) {\n            focus += ' (high complexity - thorough analysis required)';\n        }\n        if (requiresMultiplePerspectives) {\n            focus += ' (multiple perspectives essential)';\n        }\n        return focus;\n    }\n    /**\n     * Build prior knowledge from query keywords\n     */ buildPriorKnowledge(queryAnalysis) {\n        const knowledge = [];\n        // Add context based on query type\n        switch(queryAnalysis.queryType){\n            case 'comparative':\n                knowledge.push('Comparison requires balanced evaluation of multiple options');\n                knowledge.push('Consider pros, cons, use cases, and trade-offs');\n                break;\n            case 'research':\n                knowledge.push('Research requires data points, sources, and trends');\n                knowledge.push('Include quantitative metrics where possible');\n                break;\n            case 'creative':\n                knowledge.push('Creativity benefits from diverse perspectives');\n                knowledge.push('Consider unconventional approaches');\n                break;\n            case 'troubleshooting':\n                knowledge.push('Debugging requires systematic approach');\n                knowledge.push('Consider root causes, not just symptoms');\n                break;\n        }\n        // Add complexity-based context\n        if (queryAnalysis.complexity > 0.7) {\n            knowledge.push('High complexity query - thorough analysis needed');\n        }\n        // Compress if too many\n        return this.compressPriorKnowledge(knowledge);\n    }\n    /**\n     * Build project constraints\n     */ buildProjectConstraints(queryAnalysis) {\n        const constraints = [];\n        // Time sensitivity\n        if (queryAnalysis.timeSensitivity === 'high') {\n            constraints.push('Prioritize speed - provide concise, actionable insights');\n        }\n        // Complexity-based constraints\n        if (queryAnalysis.complexity < 0.3) {\n            constraints.push('Simple query - avoid over-engineering');\n        } else if (queryAnalysis.complexity > 0.7) {\n            constraints.push('Complex query - ensure thoroughness');\n        }\n        // Sequential reasoning constraint\n        if (queryAnalysis.requiresSequentialReasoning) {\n            constraints.push('Maintain logical flow in reasoning');\n        }\n        return constraints;\n    }\n    /**\n     * Compress prior knowledge for token optimization\n     */ compressPriorKnowledge(knowledge) {\n        // If under 5 items, return as is\n        if (knowledge.length <= 5) {\n            return knowledge;\n        }\n        // Keep most important ones (first 5)\n        return knowledge.slice(0, 5);\n    }\n    /**\n     * Assign roles and tasks to each advisor slot\n     *\n     * @param query - User query\n     * @param queryAnalysis - Query analysis\n     * @param advisorSlots - Advisor slot assignments\n     * @returns Array of advisor tasks\n     */ assignAdvisorTasks(query, queryAnalysis, advisorSlots) {\n        const roles = [\n            'technical',\n            'strategic',\n            'creative',\n            'critical'\n        ];\n        return advisorSlots.map((slot, index)=>{\n            const role = roles[index] || 'technical';\n            const roleConfig = ROLE_FOCUS[role];\n            return {\n                slot: slot.slot,\n                family: slot.family,\n                role,\n                specificFocus: this.selectRelevantFocus(roleConfig.focusAreas, queryAnalysis),\n                avoidTopics: roleConfig.avoidTopics,\n                instructions: this.buildRoleInstructions(role, queryAnalysis)\n            };\n        });\n    }\n    /**\n     * Select relevant focus areas based on query analysis\n     */ selectRelevantFocus(focusAreas, queryAnalysis) {\n        // For simple queries, use fewer focus areas\n        const maxFocus = queryAnalysis.complexity < 0.3 ? 3 : 5;\n        return focusAreas.slice(0, maxFocus);\n    }\n    /**\n     * Build role-specific instructions\n     */ buildRoleInstructions(role, queryAnalysis) {\n        const baseInstructions = {\n            technical: 'Analyze from an implementation perspective. Focus on how it works, what technologies are involved, and what challenges exist in building it.',\n            strategic: 'Analyze from a business/market perspective. Focus on market trends, competitive positioning, and strategic implications.',\n            creative: 'Think unconventionally. Consider edge cases, alternative approaches, and innovative solutions that others might miss.',\n            critical: 'Be skeptical. Identify risks, weaknesses, potential failures, and hidden costs. What could go wrong?'\n        };\n        let instruction = baseInstructions[role];\n        // Add complexity-specific guidance\n        if (queryAnalysis.complexity > 0.7) {\n            instruction += ' Given the complexity, provide thorough analysis with examples.';\n        } else {\n            instruction += ' Keep it concise but insightful.';\n        }\n        return instruction;\n    }\n    /**\n     * Build constraints based on query complexity\n     */ buildConstraints(queryAnalysis) {\n        // Determine max tokens based on complexity\n        const maxTokens = queryAnalysis.complexity > 0.7 ? 2000 : 1000;\n        // Determine time goal\n        const timeGoal = queryAnalysis.timeSensitivity === 'high' ? 15000 : 30000;\n        // Required elements based on query type\n        const requiredElements = [];\n        switch(queryAnalysis.queryType){\n            case 'comparative':\n                requiredElements.push('Comparison table or structured format');\n                requiredElements.push('Pros and cons for each option');\n                break;\n            case 'research':\n                requiredElements.push('Data points with sources');\n                requiredElements.push('Trends and insights');\n                break;\n            case 'procedural':\n                requiredElements.push('Step-by-step instructions');\n                requiredElements.push('Prerequisites and requirements');\n                break;\n            case 'creative':\n                requiredElements.push('Multiple diverse ideas');\n                requiredElements.push('Unconventional approaches');\n                break;\n        }\n        return {\n            maxTokens,\n            timeGoal,\n            requiredElements\n        };\n    }\n    /**\n     * Convert Flash Context Frame to advisor-specific prompt\n     *\n     * @param frame - Flash context frame\n     * @param slot - Advisor slot number\n     * @returns Formatted prompt for this advisor\n     */ toPrompt(frame, slot) {\n        const task = frame.advisorTasks.find((t)=>t.slot === slot);\n        if (!task) {\n            throw new Error(`No task found for slot ${slot}`);\n        }\n        const roleConfig = ROLE_FOCUS[task.role];\n        const prompt = `# ${roleConfig.title}\n\n## Your Role\n${roleConfig.description}\n\n## Query\n${frame.query}\n\n## Context\n${frame.projectState.currentFocus}\n\n${frame.projectState.priorKnowledge.length > 0 ? `### Background\n${frame.projectState.priorKnowledge.map((k)=>`- ${k}`).join('\\n')}` : ''}\n\n${frame.projectState.constraints.length > 0 ? `### Constraints\n${frame.projectState.constraints.map((c)=>`- ${c}`).join('\\n')}` : ''}\n\n## Your Specific Focus\n${task.specificFocus.map((f)=>`- ${f}`).join('\\n')}\n\n## Important\n${task.instructions}\n\n**Avoid discussing:** ${task.avoidTopics.join(', ')} (other advisors cover these)\n\n## Output Requirements\n${frame.constraints.requiredElements.map((e)=>`- ${e}`).join('\\n')}\n\n- Maximum ${frame.constraints.maxTokens} tokens\n- Target response time: ${Math.round(frame.constraints.timeGoal / 1000)}s\n- End with: **Confidence: [High/Medium/Low]**\n\nProvide your ${task.role} analysis now.`;\n        return prompt;\n    }\n    constructor(){\n        this.version = '1.0.0';\n    }\n}\nexports.FlashContextBuilder = FlashContextBuilder; //# sourceMappingURL=FlashContextBuilder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L21ldGhvZG9sb2dpZXMvZ3RwL0ZsYXNoQ29udGV4dEJ1aWxkZXIuanMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7OztHQVdHOzs7O0FBa0JIOztHQUVHLENBQ0gsTUFBTSxVQUFVLEdBS1g7SUFDSCxTQUFTLEVBQUU7UUFDVCxLQUFLLEVBQUUsb0JBQW9CO1FBQzNCLFdBQVcsRUFBRSwwRUFBMEU7UUFDdkYsVUFBVSxFQUFFO1lBQ1YsMkJBQTJCO1lBQzNCLHVCQUF1QjtZQUN2Qix3QkFBd0I7WUFDeEIsNEJBQTRCO1lBQzVCLHFCQUFxQjtZQUNyQiwyQkFBMkI7WUFDM0IsMEJBQTBCO1lBQzFCLHNCQUFzQjtTQUN2QjtRQUNELFdBQVcsRUFBRTtZQUNYLGlCQUFpQjtZQUNqQixtQkFBbUI7WUFDbkIsdUJBQXVCO1lBQ3ZCLGtCQUFrQjtTQUNuQjtLQUNGO0lBQ0QsU0FBUyxFQUFFO1FBQ1QsS0FBSyxFQUFFLG9CQUFvQjtRQUMzQixXQUFXLEVBQUUseURBQXlEO1FBQ3RFLFVBQVUsRUFBRTtZQUNWLGVBQWU7WUFDZix1QkFBdUI7WUFDdkIsMEJBQTBCO1lBQzFCLGlCQUFpQjtZQUNqQixtQkFBbUI7WUFDbkIsb0JBQW9CO1lBQ3BCLHNCQUFzQjtZQUN0Qiw2QkFBNkI7U0FDOUI7UUFDRCxXQUFXLEVBQUU7WUFDWCx3QkFBd0I7WUFDeEIsbUJBQW1CO1lBQ25CLHdCQUF3QjtZQUN4QixpQkFBaUI7U0FDbEI7S0FDRjtJQUNELFFBQVEsRUFBRTtRQUNSLEtBQUssRUFBRSxtQkFBbUI7UUFDMUIsV0FBVyxFQUFFLHNFQUFzRTtRQUNuRixVQUFVLEVBQUU7WUFDViwyQkFBMkI7WUFDM0IsWUFBWTtZQUNaLHNCQUFzQjtZQUN0QiwwQkFBMEI7WUFDMUIsc0JBQXNCO1lBQ3RCLHVCQUF1QjtZQUN2QixzQkFBc0I7WUFDdEIsdUJBQXVCO1NBQ3hCO1FBQ0QsV0FBVyxFQUFFO1lBQ1gsMEJBQTBCO1lBQzFCLGlCQUFpQjtZQUNqQix1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QUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFOzs7RUFHbkUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzs7O0VBR2hELElBQUksQ0FBQyxZQUFZOzt3QkFFSyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7OztFQUdqRCxLQUFLLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsRUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDOztZQUV0RCxLQUFLLENBQUMsV0FBVyxDQUFDLFNBQVM7MEJBQ2IsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7OztlQUd4RCxJQUFJLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQztRQUVyQyxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOzthQTFVZ0IsT0FBTyxHQUFHLE9BQU8sQ0FBQzs7Q0EyVXBDO0FBNVVELGtEQTRVQyIsInNvdXJjZXMiOlsiL1VzZXJzL3NoZWlycmF6YS9zcmMvbWV0aG9kb2xvZ2llcy9ndHAvRmxhc2hDb250ZXh0QnVpbGRlci50cyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/methodologies/gtp/FlashContextBuilder.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/methodologies/gtp/LivingDatabase.js":
/*!********************************************************!*\
  !*** ../core/dist/methodologies/gtp/LivingDatabase.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Living Database\n *\n * Real-time merge system for advisor responses in GTP methodology.\n * Maintains causal ordering via vector clocks, detects conflicts,\n * and tracks consensus as responses arrive.\n *\n * Key responsibilities:\n * - Merge responses in real-time\n * - Extract and deduplicate insights\n * - Detect conflicts and opposing positions\n * - Track agreement levels for quorum detection\n * - Generate synthesis summaries\n */ Object.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.LivingDatabase = void 0;\nclass LivingDatabase {\n    constructor(expectedResponses){\n        this.state = {\n            vectorClock: {},\n            responses: new Map(),\n            mergedInsights: [],\n            consensusState: {\n                agreementLevel: 0,\n                consensusReached: false,\n                agreements: [],\n                disagreements: [],\n                confidence: 0\n            },\n            metadata: {\n                responsesReceived: 0,\n                responsesExpected: expectedResponses,\n                startTime: Date.now(),\n                lastUpdate: Date.now()\n            }\n        };\n    }\n    /**\n     * Merge a new advisor response into the living database\n     *\n     * @param response - Advisor response to merge\n     * @returns Updated state\n     */ merge(response) {\n        console.log(`[LivingDatabase] Merging response from Slot ${response.slot} (${response.family}/${response.role})`);\n        // Update vector clock (causal ordering)\n        this.state.vectorClock[response.slot] = (this.state.vectorClock[response.slot] || 0) + 1;\n        // Store response\n        this.state.responses.set(response.slot, response);\n        // Update metadata\n        this.state.metadata.responsesReceived = this.state.responses.size;\n        this.state.metadata.lastUpdate = Date.now();\n        // Extract insights from this response\n        const insights = this.extractInsights(response);\n        console.log(`[LivingDatabase] Extracted ${insights.length} insights from Slot ${response.slot}`);\n        // Merge insights (dedup + aggregate)\n        insights.forEach((insight)=>{\n            this.mergeInsight(insight, response.slot);\n        });\n        // Update consensus state\n        this.updateConsensusState();\n        // Detect conflicts\n        this.detectConflicts();\n        const duration = Date.now() - this.state.metadata.startTime;\n        console.log(`[LivingDatabase] State updated: ${this.state.metadata.responsesReceived}/${this.state.metadata.responsesExpected} responses, ${this.state.mergedInsights.length} insights, agreement ${(this.state.consensusState.agreementLevel * 100).toFixed(1)}% (${(duration / 1000).toFixed(1)}s)`);\n        return this.getState();\n    }\n    /**\n     * Extract insights from a single advisor response\n     *\n     * @param response - Advisor response\n     * @returns Array of extracted insights\n     */ extractInsights(response) {\n        const insights = [];\n        const { content, role, keyPoints } = response;\n        // Use key points if available (already extracted by FlashBroadcaster)\n        if (keyPoints && keyPoints.length > 0) {\n            keyPoints.forEach((point)=>{\n                insights.push({\n                    content: point,\n                    category: this.categorizeInsight(point, role),\n                    confidence: response.confidence\n                });\n            });\n            return insights;\n        }\n        // Fallback: extract from content\n        const lines = content.split('\\n').map((l)=>l.trim()).filter((l)=>l.length > 0);\n        lines.forEach((line)=>{\n            // Skip very short lines\n            if (line.length < 15) return;\n            // Extract bullet points\n            if (/^[\\-\\*]\\s+/.test(line)) {\n                const point = line.replace(/^[\\-\\*]\\s+/, '').trim();\n                insights.push({\n                    content: point,\n                    category: this.categorizeInsight(point, role),\n                    confidence: response.confidence\n                });\n                return;\n            }\n            // Extract numbered points\n            if (/^\\d+\\.\\s+/.test(line)) {\n                const point = line.replace(/^\\d+\\.\\s+/, '').trim();\n                insights.push({\n                    content: point,\n                    category: this.categorizeInsight(point, role),\n                    confidence: response.confidence\n                });\n                return;\n            }\n            // Extract bold statements\n            const boldMatches = line.match(/\\*\\*([^*]+)\\*\\*/g);\n            if (boldMatches) {\n                boldMatches.forEach((match)=>{\n                    const point = match.replace(/\\*\\*/g, '').trim();\n                    if (point.length > 10) {\n                        insights.push({\n                            content: point,\n                            category: this.categorizeInsight(point, role),\n                            confidence: response.confidence\n                        });\n                    }\n                });\n            }\n        });\n        // If no insights extracted, create one from first substantial sentence\n        if (insights.length === 0) {\n            const sentences = content.match(/[^.!?]+[.!?]+/g);\n            if (sentences && sentences.length > 0) {\n                const firstSubstantial = sentences.find((s)=>s.trim().length > 20);\n                if (firstSubstantial) {\n                    insights.push({\n                        content: firstSubstantial.trim(),\n                        category: this.categorizeInsight(firstSubstantial, role),\n                        confidence: response.confidence\n                    });\n                }\n            }\n        }\n        return insights.slice(0, 5); // Limit to top 5 per response\n    }\n    /**\n     * Categorize an insight based on content and role\n     *\n     * @param content - Insight content\n     * @param role - Advisor role\n     * @returns Insight category\n     */ categorizeInsight(content, role) {\n        const lower = content.toLowerCase();\n        // Role-based categorization\n        if (role === 'critical') {\n            if (lower.includes('risk') || lower.includes('danger') || lower.includes('threat')) {\n                return 'risk';\n            }\n            if (lower.includes('weakness') || lower.includes('problem') || lower.includes('issue')) {\n                return 'disadvantage';\n            }\n        }\n        if (role === 'creative') {\n            if (lower.includes('could') || lower.includes('might') || lower.includes('potential')) {\n                return 'opportunity';\n            }\n            if (lower.includes('should') || lower.includes('recommend') || lower.includes('suggest')) {\n                return 'recommendation';\n            }\n        }\n        // Content-based categorization\n        if (lower.includes('advantage') || lower.includes('benefit') || lower.includes('strength') || lower.includes('pro')) {\n            return 'advantage';\n        }\n        if (lower.includes('disadvantage') || lower.includes('drawback') || lower.includes('con') || lower.includes('limitation')) {\n            return 'disadvantage';\n        }\n        if (lower.includes('risk') || lower.includes('threat') || lower.includes('vulnerability')) {\n            return 'risk';\n        }\n        if (lower.includes('opportunity') || lower.includes('potential') || lower.includes('could enable')) {\n            return 'opportunity';\n        }\n        if (lower.includes('require') || lower.includes('need') || lower.includes('must have')) {\n            return 'requirement';\n        }\n        if (lower.includes('recommend') || lower.includes('should') || lower.includes('suggest')) {\n            return 'recommendation';\n        }\n        if (lower.includes('?') || lower.includes('unclear') || lower.includes('unknown')) {\n            return 'question';\n        }\n        // Default\n        return 'finding';\n    }\n    /**\n     * Merge an extracted insight into the merged insights list\n     *\n     * @param insight - Extracted insight\n     * @param slot - Advisor slot number\n     */ mergeInsight(insight, slot) {\n        // Find similar existing insight (deduplication)\n        const similar = this.findSimilarInsight(insight.content);\n        if (similar) {\n            // Add this slot as supporting evidence\n            if (!similar.supportingSlots.includes(slot)) {\n                similar.supportingSlots.push(slot);\n                // Update confidence (weighted average)\n                const totalSlots = similar.supportingSlots.length;\n                similar.confidence = (similar.confidence * (totalSlots - 1) + insight.confidence) / totalSlots;\n                console.log(`[LivingDatabase]    Merged with existing insight (${similar.supportingSlots.length} slots agree)`);\n            }\n        } else {\n            // Create new merged insight\n            const mergedInsight = {\n                id: this.generateInsightId(),\n                content: insight.content,\n                category: insight.category,\n                confidence: insight.confidence,\n                supportingSlots: [\n                    slot\n                ],\n                relatedInsights: []\n            };\n            this.state.mergedInsights.push(mergedInsight);\n            console.log(`[LivingDatabase]    New insight: ${insight.content.substring(0, 60)}...`);\n        }\n    }\n    /**\n     * Find similar insight using Jaccard similarity\n     *\n     * @param content - Insight content to match\n     * @returns Similar merged insight if found\n     */ findSimilarInsight(content) {\n        const tokens = this.tokenize(content);\n        const threshold = 0.5; // 50% similarity threshold\n        for (const insight of this.state.mergedInsights){\n            const existingTokens = this.tokenize(insight.content);\n            const similarity = this.jaccardSimilarity(tokens, existingTokens);\n            if (similarity >= threshold) {\n                return insight;\n            }\n        }\n        return undefined;\n    }\n    /**\n     * Calculate Jaccard similarity between two token sets\n     *\n     * @param setA - First token set\n     * @param setB - Second token set\n     * @returns Similarity score (0-1)\n     */ jaccardSimilarity(setA, setB) {\n        const intersection = new Set([\n            ...setA\n        ].filter((x)=>setB.has(x)));\n        const union = new Set([\n            ...setA,\n            ...setB\n        ]);\n        if (union.size === 0) return 0;\n        return intersection.size / union.size;\n    }\n    /**\n     * Tokenize text for similarity comparison\n     *\n     * @param text - Text to tokenize\n     * @returns Set of normalized tokens\n     */ tokenize(text) {\n        const normalized = text.toLowerCase().replace(/[^\\w\\s]/g, '') // Remove punctuation\n        .split(/\\s+/).filter((t)=>t.length > 2); // Filter short words\n        return new Set(normalized);\n    }\n    /**\n     * Generate unique insight ID\n     *\n     * @returns Unique ID\n     */ generateInsightId() {\n        return `insight_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    /**\n     * Update consensus state based on merged insights\n     */ updateConsensusState() {\n        const responses = Array.from(this.state.responses.values());\n        if (responses.length === 0) {\n            return;\n        }\n        // Calculate agreement level based on insight support\n        const supportCounts = this.state.mergedInsights.map((i)=>i.supportingSlots.length);\n        const avgSupport = supportCounts.reduce((sum, count)=>sum + count, 0) / this.state.mergedInsights.length || 0;\n        const agreementLevel = Math.min(avgSupport / responses.length, 1);\n        // Find agreements (insights with 2+ supporters)\n        const agreements = this.state.mergedInsights.filter((i)=>i.supportingSlots.length >= 2).map((i)=>`${i.content} (${i.supportingSlots.length} agree)`);\n        // Calculate consensus confidence (average of all response confidences)\n        const avgConfidence = responses.reduce((sum, r)=>sum + r.confidence, 0) / responses.length;\n        // Consensus reached if 85% agreement or 2+ responses with strong agreement\n        const consensusReached = agreementLevel >= 0.85 || responses.length >= 2 && agreementLevel >= 0.6;\n        this.state.consensusState = {\n            agreementLevel,\n            consensusReached,\n            agreements,\n            disagreements: this.state.consensusState.disagreements,\n            confidence: avgConfidence\n        };\n    }\n    /**\n     * Detect conflicts and opposing positions\n     */ detectConflicts() {\n        const disagreements = [];\n        // Look for opposing insights by category\n        const advantageInsights = this.state.mergedInsights.filter((i)=>i.category === 'advantage');\n        const disadvantageInsights = this.state.mergedInsights.filter((i)=>i.category === 'disadvantage');\n        // Check for potential conflicts\n        for (const adv of advantageInsights){\n            for (const disadv of disadvantageInsights){\n                const similarity = this.jaccardSimilarity(this.tokenize(adv.content), this.tokenize(disadv.content));\n                // If they mention similar topics but have opposing categories\n                if (similarity > 0.3 && similarity < 0.7) {\n                    const positions = [\n                        ...adv.supportingSlots.map((slot)=>({\n                                slot,\n                                stance: `Pro: ${adv.content.substring(0, 50)}...`\n                            })),\n                        ...disadv.supportingSlots.map((slot)=>({\n                                slot,\n                                stance: `Con: ${disadv.content.substring(0, 50)}...`\n                            }))\n                    ];\n                    disagreements.push({\n                        point: `Conflicting views on: ${this.extractCommonTopic(adv.content, disadv.content)}`,\n                        positions\n                    });\n                }\n            }\n        }\n        this.state.consensusState.disagreements = disagreements;\n        if (disagreements.length > 0) {\n            console.log(`[LivingDatabase]  Detected ${disagreements.length} potential conflicts`);\n        }\n    }\n    /**\n     * Extract common topic from two pieces of text\n     *\n     * @param textA - First text\n     * @param textB - Second text\n     * @returns Common topic string\n     */ extractCommonTopic(textA, textB) {\n        const tokensA = this.tokenize(textA);\n        const tokensB = this.tokenize(textB);\n        const common = [\n            ...tokensA\n        ].filter((t)=>tokensB.has(t));\n        if (common.length > 0) {\n            return common.slice(0, 3).join(' ');\n        }\n        return 'related topics';\n    }\n    /**\n     * Generate summary for Mother Base synthesis\n     *\n     * @returns Summary string\n     */ generateSummary() {\n        const responses = Array.from(this.state.responses.values());\n        if (responses.length === 0) {\n            return 'No responses received yet.';\n        }\n        const lines = [];\n        lines.push(`# Advisor Summary (${responses.length}/${this.state.metadata.responsesExpected} responses)`);\n        lines.push('');\n        // Group insights by category\n        const categories = {\n            advantage: [],\n            disadvantage: [],\n            risk: [],\n            opportunity: [],\n            requirement: [],\n            recommendation: [],\n            finding: [],\n            question: []\n        };\n        this.state.mergedInsights.forEach((insight)=>{\n            categories[insight.category].push(insight);\n        });\n        // Sort insights by support count (most agreed upon first)\n        Object.keys(categories).forEach((cat)=>{\n            categories[cat].sort((a, b)=>b.supportingSlots.length - a.supportingSlots.length);\n        });\n        // Emit key findings\n        const categoryLabels = {\n            advantage: 'Advantages',\n            disadvantage: 'Disadvantages',\n            risk: 'Risks',\n            opportunity: 'Opportunities',\n            requirement: 'Requirements',\n            recommendation: 'Recommendations',\n            finding: 'Key Findings',\n            question: 'Open Questions'\n        };\n        Object.entries(categories).forEach(([cat, insights])=>{\n            if (insights.length > 0) {\n                lines.push(`## ${categoryLabels[cat]}`);\n                insights.forEach((insight)=>{\n                    const support = insight.supportingSlots.length > 1 ? ` (${insight.supportingSlots.length} advisors agree)` : '';\n                    lines.push(`- ${insight.content}${support}`);\n                });\n                lines.push('');\n            }\n        });\n        // Consensus state\n        lines.push(`## Consensus: ${(this.state.consensusState.agreementLevel * 100).toFixed(0)}% agreement`);\n        if (this.state.consensusState.agreements.length > 0) {\n            lines.push('**Strong agreements:**');\n            this.state.consensusState.agreements.slice(0, 5).forEach((agreement)=>{\n                lines.push(`- ${agreement}`);\n            });\n        }\n        if (this.state.consensusState.disagreements.length > 0) {\n            lines.push('');\n            lines.push('**Conflicting views:**');\n            this.state.consensusState.disagreements.forEach((conflict)=>{\n                lines.push(`- ${conflict.point}`);\n            });\n        }\n        return lines.join('\\n');\n    }\n    /**\n     * Get current state (immutable copy)\n     *\n     * @returns Current state\n     */ getState() {\n        return {\n            ...this.state,\n            responses: new Map(this.state.responses),\n            mergedInsights: [\n                ...this.state.mergedInsights\n            ],\n            consensusState: {\n                ...this.state.consensusState\n            },\n            metadata: {\n                ...this.state.metadata\n            }\n        };\n    }\n    /**\n     * Get response count\n     *\n     * @returns Number of responses received\n     */ getResponseCount() {\n        return this.state.metadata.responsesReceived;\n    }\n    /**\n     * Get agreement level\n     *\n     * @returns Agreement level (0-1)\n     */ getAgreementLevel() {\n        return this.state.consensusState.agreementLevel;\n    }\n    /**\n     * Check if consensus reached\n     *\n     * @returns True if consensus reached\n     */ isConsensusReached() {\n        return this.state.consensusState.consensusReached;\n    }\n}\nexports.LivingDatabase = LivingDatabase; //# sourceMappingURL=LivingDatabase.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L21ldGhvZG9sb2dpZXMvZ3RwL0xpdmluZ0RhdGFiYXNlLmpzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7OztHQWFHOzs7O0FBbUJILE1BQWEsY0FBYztJQUd6QixZQUFZLGlCQUF5QjtRQUNuQyxJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1gsV0FBVyxFQUFFLEVBQUU7WUFDZixTQUFTLEVBQUUsSUFBSSxHQUFHLEVBQUU7WUFDcEIsY0FBYyxFQUFFLEVBQUU7WUFDbEIsY0FBYyxFQUFFO2dCQUNkLGNBQWMsRUFBRSxDQUFDO2dCQUNqQixnQkFBZ0IsRUFBRSxLQUFLO2dCQUN2QixVQUFVLEVBQUUsRUFBRTtnQkFDZCxhQUFhLEVBQUUsRUFBRTtnQkFDakIsVUFBVSxFQUFFLENBQUM7YUFDZDtZQUNELFFBQVEsRUFBRTtnQkFDUixpQkFBaUIsRUFBRSxDQUFDO2dCQUNwQixpQkFBaUIsRUFBRSxpQkFBaUI7Z0JBQ3BDLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFO2dCQUNyQixVQUFVLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRTthQUN2QjtTQUNGLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7O09BS0csQ0FDSCxLQUFLLENBQUMsUUFBeUI7UUFDN0IsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQ0FBK0MsUUFBUSxDQUFDLElBQUksS0FBSyxRQUFRLENBQUMsTUFBTSxJQUFJLFFBQVEsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBRWxILHdDQUF3QztRQUN4QyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxDQUFDLEVBQUcsQ0FBQyxDQUFDO1FBRXpGLGlCQUFpQjtRQUNqQixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFB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QixDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUNuRSxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssU0FBUyxFQUFFLENBQUMsQ0FBQztZQUMvQixDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFFRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDdkQsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNmLEtBQUssQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsT0FBTyxFQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUN6RCxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDcEMsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDO1FBRUQsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRDs7OztPQUlHLENBQ0gsUUFBUTtRQUNOLE9BQU87WUFDTCxHQUFHLElBQUksQ0FBQyxLQUFLO1lBQ2IsU0FBUyxFQUFFLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDO1lBQ3hDLGNBQWMsRUFBRSxDQUFDO21CQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYzthQUFDO1lBQzlDLGNBQWMsRUFBRTtnQkFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYztZQUFBLENBQUU7WUFDaEQsUUFBUSxFQUFFO2dCQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRO1lBQUEsQ0FBRTtTQUNyQyxDQUFDO0lBQ0osQ0FBQztJQUVEOzs7O09BSUcsQ0FDSCxnQkFBZ0I7UUFDZCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDO0lBQy9DLENBQUM7SUFFRDs7OztPQUlHLENBQ0gsaUJBQWlCO1FBQ2YsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUM7SUFDbEQsQ0FBQztJQUVEOzs7O09BSUcsQ0FDSCxrQkFBa0I7UUFDaEIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQztJQUNwRCxDQUFDO0NBQ0Y7QUFyaEJELHdDQXFoQkMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGVpcnJhemEvc3JjL21ldGhvZG9sb2dpZXMvZ3RwL0xpdmluZ0RhdGFiYXNlLnRzIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/methodologies/gtp/LivingDatabase.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/methodologies/gtp/QuorumManager.js":
/*!*******************************************************!*\
  !*** ../core/dist/methodologies/gtp/QuorumManager.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Quorum Manager\n *\n * Manages quorum detection for GTP methodology - determines when we have\n * \"enough\" consensus to proceed without waiting for all advisors.\n *\n * Quorum triggers:\n * 1. Minimum responses received (default: 2)\n * 2. Early exit on high agreement (85%+)\n * 3. Timeout (default: 60s)\n * 4. All advisors complete\n *\n * Philosophy: Don't wait for stragglers - proceed when consensus is clear.\n */ Object.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.QuorumManager = void 0;\nclass QuorumManager {\n    constructor(config){\n        this.startTime = 0;\n        this.checkCount = 0;\n        this.config = {\n            minResponses: config?.minResponses ?? 2,\n            earlyExitThreshold: config?.earlyExitThreshold ?? 0.85,\n            timeout: config?.timeout ?? 60000,\n            pollInterval: config?.pollInterval ?? 1000\n        };\n        console.log(`[QuorumManager] Initialized with config:`, {\n            minResponses: this.config.minResponses,\n            earlyExitThreshold: `${(this.config.earlyExitThreshold * 100).toFixed(0)}%`,\n            timeout: `${this.config.timeout / 1000}s`,\n            pollInterval: `${this.config.pollInterval}ms`\n        });\n    }\n    /**\n     * Start timing (call this when broadcast begins)\n     */ start() {\n        this.startTime = Date.now();\n        this.checkCount = 0;\n        console.log(`[QuorumManager]   Timer started`);\n    }\n    /**\n     * Check if quorum has been reached\n     *\n     * @param state - Current living database state\n     * @returns Quorum result\n     */ check(state) {\n        this.checkCount++;\n        const timeElapsed = Date.now() - this.startTime;\n        const { responsesReceived, responsesExpected } = state.metadata;\n        const { agreementLevel, consensusReached } = state.consensusState;\n        // Determine if quorum reached and why\n        let reached = false;\n        let reason = 'pending';\n        // Check 1: All responses complete\n        if (responsesReceived >= responsesExpected) {\n            reached = true;\n            reason = 'all_complete';\n        } else if (timeElapsed >= this.config.timeout) {\n            reached = true;\n            reason = 'timeout';\n        } else if (responsesReceived >= this.config.minResponses && agreementLevel >= this.config.earlyExitThreshold) {\n            reached = true;\n            reason = 'high_agreement';\n        } else if (responsesReceived >= this.config.minResponses && consensusReached) {\n            reached = true;\n            reason = 'min_responses';\n        }\n        const result = {\n            reached,\n            reason,\n            responsesReceived,\n            responsesExpected,\n            agreementLevel,\n            timeElapsed,\n            timestamp: Date.now()\n        };\n        // Log quorum check\n        if (this.checkCount % 5 === 0 || reached) {\n            // Log every 5 checks or when reached\n            const status = reached ? '' : '';\n            console.log(`[QuorumManager] ${status} Check ${this.checkCount}: ${responsesReceived}/${responsesExpected} responses, ${(agreementLevel * 100).toFixed(0)}% agreement, ${(timeElapsed / 1000).toFixed(1)}s elapsed`);\n            if (reached) {\n                console.log(`[QuorumManager]  Quorum reached: ${reason}`);\n            }\n        }\n        return result;\n    }\n    /**\n     * Wait for quorum to be reached\n     *\n     * Polls the living database state at regular intervals until quorum is reached.\n     *\n     * @param getState - Function to get current state\n     * @param onProgress - Optional callback for progress updates\n     * @returns Final quorum result\n     */ async waitForQuorum(getState, onProgress) {\n        console.log(`[QuorumManager]  Waiting for quorum...`);\n        return new Promise((resolve)=>{\n            const interval = setInterval(()=>{\n                const state = getState();\n                const result = this.check(state);\n                // Notify progress\n                if (onProgress) {\n                    onProgress(result);\n                }\n                // Check if quorum reached\n                if (result.reached) {\n                    clearInterval(interval);\n                    // Log final result\n                    const duration = (result.timeElapsed / 1000).toFixed(2);\n                    console.log(`[QuorumManager]  Quorum reached after ${duration}s (${result.reason})`);\n                    console.log(`[QuorumManager]    Responses: ${result.responsesReceived}/${result.responsesExpected}`);\n                    console.log(`[QuorumManager]    Agreement: ${(result.agreementLevel * 100).toFixed(1)}%`);\n                    resolve(result);\n                }\n            }, this.config.pollInterval);\n        });\n    }\n    /**\n     * Check quorum once (synchronous)\n     *\n     * Use this for non-blocking checks in parallel workflows.\n     *\n     * @param state - Current state\n     * @returns Quorum result\n     */ checkOnce(state) {\n        return this.check(state);\n    }\n    /**\n     * Get elapsed time since start\n     *\n     * @returns Elapsed time in milliseconds\n     */ getElapsedTime() {\n        return Date.now() - this.startTime;\n    }\n    /**\n     * Get current configuration\n     *\n     * @returns Quorum config\n     */ getConfig() {\n        return {\n            ...this.config\n        };\n    }\n    /**\n     * Update configuration\n     *\n     * @param config - Partial config to update\n     */ updateConfig(config) {\n        this.config = {\n            ...this.config,\n            ...config\n        };\n        console.log(`[QuorumManager] Configuration updated:`, this.config);\n    }\n    /**\n     * Reset the quorum manager for a new query\n     */ reset() {\n        this.startTime = 0;\n        this.checkCount = 0;\n        console.log(`[QuorumManager]  Reset`);\n    }\n    /**\n     * Estimate time remaining until timeout\n     *\n     * @returns Estimated time remaining in milliseconds\n     */ getTimeRemaining() {\n        const elapsed = this.getElapsedTime();\n        const remaining = Math.max(0, this.config.timeout - elapsed);\n        return remaining;\n    }\n    /**\n     * Calculate quorum progress (0-1)\n     *\n     * Progress is based on responses received OR time elapsed, whichever is greater.\n     *\n     * @param state - Current state\n     * @returns Progress (0-1)\n     */ calculateProgress(state) {\n        const { responsesReceived, responsesExpected } = state.metadata;\n        // Response progress\n        const responseProgress = responsesReceived / responsesExpected;\n        // Time progress\n        const elapsed = this.getElapsedTime();\n        const timeProgress = Math.min(1, elapsed / this.config.timeout);\n        // Return max (either responses or time)\n        return Math.max(responseProgress, timeProgress);\n    }\n    /**\n     * Get detailed status string for logging/debugging\n     *\n     * @param state - Current state\n     * @returns Status string\n     */ getStatusString(state) {\n        const { responsesReceived, responsesExpected } = state.metadata;\n        const { agreementLevel } = state.consensusState;\n        const elapsed = this.getElapsedTime();\n        const progress = this.calculateProgress(state);\n        return `[${(progress * 100).toFixed(0)}%] ${responsesReceived}/${responsesExpected} responses, ${(agreementLevel * 100).toFixed(0)}% agreement, ${(elapsed / 1000).toFixed(1)}s`;\n    }\n    /**\n     * Check if early exit is possible (high agreement)\n     *\n     * @param state - Current state\n     * @returns True if early exit conditions met\n     */ canEarlyExit(state) {\n        const { responsesReceived } = state.metadata;\n        const { agreementLevel } = state.consensusState;\n        return responsesReceived >= this.config.minResponses && agreementLevel >= this.config.earlyExitThreshold;\n    }\n    /**\n     * Check if minimum quorum is satisfied (without high agreement)\n     *\n     * @param state - Current state\n     * @returns True if minimum quorum met\n     */ hasMinimumQuorum(state) {\n        const { responsesReceived } = state.metadata;\n        const { consensusReached } = state.consensusState;\n        return responsesReceived >= this.config.minResponses && consensusReached;\n    }\n    /**\n     * Check if timeout has been reached\n     *\n     * @returns True if timeout exceeded\n     */ isTimeout() {\n        return this.getElapsedTime() >= this.config.timeout;\n    }\n    /**\n     * Check if all responses have been received\n     *\n     * @param state - Current state\n     * @returns True if all complete\n     */ isAllComplete(state) {\n        const { responsesReceived, responsesExpected } = state.metadata;\n        return responsesReceived >= responsesExpected;\n    }\n}\nexports.QuorumManager = QuorumManager; //# sourceMappingURL=QuorumManager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L21ldGhvZG9sb2dpZXMvZ3RwL1F1b3J1bU1hbmFnZXIuanMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7O0dBYUc7Ozs7QUFJSCxNQUFhLGFBQWE7SUFLeEIsWUFBWSxNQUE4QjthQUhsQyxTQUFTLEdBQVcsQ0FBQyxDQUFDO2FBQ3RCLFVBQVUsR0FBVyxDQUFDLENBQUM7UUFHN0IsSUFBSSxDQUFDLE1BQU0sR0FBRztZQUNaLFlBQVksRUFBRSxNQUFNLEVBQUUsWUFBWSxJQUFJLENBQUM7WUFDdkMsa0JBQWtCLEVBQUUsTUFBTSxFQUFFLGtCQUFrQixJQUFJLElBQUk7WUFDdEQsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLElBQUksS0FBSztZQUNqQyxZQUFZLEVBQUUsTUFBTSxFQUFFLFlBQVksSUFBSSxJQUFJO1NBQzNDLENBQUM7UUFFRixPQUFPLENBQUMsR0FBRyxDQUFDLDBDQUEwQyxFQUFFO1lBQ3RELFlBQVksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVk7WUFDdEMsa0JBQWtCLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsa0JBQWtCLEdBQUcsSUFBRyxDQUFDLE9BQVEsQ0FBQyxDQUFDLENBQUMsR0FBRztZQUMzRSxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLEdBQUc7WUFDekMsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLElBQUk7U0FDOUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOztPQUVHLENBQ0gsS0FBSztRQUNILElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUNBQW1DLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRUQ7Ozs7O09BS0csQ0FDSCxLQUFLLENB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Ozs7OztPQUtHLENBQ0gsZUFBZSxDQUFDLEtBQTBCO1FBQ3hDLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxpQkFBaUIsRUFBRSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDaEUsTUFBTSxFQUFFLGNBQWMsRUFBRSxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUM7UUFDaEQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3RDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUUvQyxPQUFPLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBRyxDQUFDLE9BQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxpQkFBaUIsSUFBSSxpQkFBaUIsZUFBZSxDQUFDLGNBQWMsR0FBRyxJQUFHLENBQUMsT0FBUSxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEdBQUcsS0FBSSxDQUFDLE9BQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQ25MLENBQUM7SUFFRDs7Ozs7T0FLRyxDQUNILFlBQVksQ0FBQyxLQUEwQjtRQUNyQyxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1FBQzdDLE1BQU0sRUFBRSxjQUFjLEVBQUUsR0FBRyxLQUFLLENBQUMsY0FBYyxDQUFDO1FBRWhELE9BQU8saUJBQ1ksSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksSUFDN0MsY0FBYyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQ2pEO0lBQ0gsQ0FBQztJQUVEOzs7OztPQUtHLENBQ0gsZ0JBQWdCLENBQUMsS0FBMEI7UUFDekMsTUFBTSxFQUFFLGlCQUFpQixFQUFFLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUM3QyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxLQUFLLENBQUMsY0FBYyxDQUFDO1FBRWxELE9BQU8saUJBQWlCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLElBQUksZ0JBQWdCLENBQUM7SUFDM0UsQ0FBQztJQUVEOzs7O09BSUcsQ0FDSCxTQUFTO1FBQ1AsT0FBTyxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7SUFDdEQsQ0FBQztJQUVEOzs7OztPQUtHLENBQ0gsYUFBYSxDQUFDLEtBQTBCO1FBQ3RDLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxpQkFBaUIsRUFBRSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDaEUsT0FBTyxpQkFBaUIsSUFBSSxpQkFBaUIsQ0FBQztJQUNoRCxDQUFDO0NBQ0Y7QUEvUkQsc0NBK1JDIiwic291cmNlcyI6WyIvVXNlcnMvc2hlaXJyYXphL3NyYy9tZXRob2RvbG9naWVzL2d0cC9RdW9ydW1NYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/methodologies/gtp/QuorumManager.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/methodologies/gtp/index.js":
/*!***********************************************!*\
  !*** ../core/dist/methodologies/gtp/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * GTP (Generative Thoughts Process) Executor\n *\n * Main orchestrator for the bio-inspired parallel Flash architecture.\n * Coordinates all GTP components to achieve 3x speedup over sequential execution.\n *\n * Execution flow:\n * 1. Build Flash Context Frame (FlashContextBuilder)\n * 2. Initialize Living Database\n * 3. Start Quorum Manager\n * 4. Broadcast to all advisors (FlashBroadcaster) - PARALLEL\n * 5. Merge responses into Living Database - REAL-TIME\n * 6. Check quorum\n * 7. Mother Base synthesis\n * 8. Return GTPResult\n */ Object.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.QuorumManager = exports.LivingDatabase = exports.FlashBroadcaster = exports.FlashContextBuilder = exports.GTPExecutor = void 0;\nconst FlashContextBuilder_js_1 = __webpack_require__(/*! ./FlashContextBuilder.js */ \"(rsc)/../core/dist/methodologies/gtp/FlashContextBuilder.js\");\nconst FlashBroadcaster_js_1 = __webpack_require__(/*! ./FlashBroadcaster.js */ \"(rsc)/../core/dist/methodologies/gtp/FlashBroadcaster.js\");\nconst LivingDatabase_js_1 = __webpack_require__(/*! ./LivingDatabase.js */ \"(rsc)/../core/dist/methodologies/gtp/LivingDatabase.js\");\nconst QuorumManager_js_1 = __webpack_require__(/*! ./QuorumManager.js */ \"(rsc)/../core/dist/methodologies/gtp/QuorumManager.js\");\nclass GTPExecutor {\n    constructor(){\n        this.contextBuilder = new FlashContextBuilder_js_1.FlashContextBuilder();\n        this.broadcaster = new FlashBroadcaster_js_1.FlashBroadcaster();\n        console.log(`[GTPExecutor] Initialized`);\n    }\n    /**\n     * Execute GTP methodology end-to-end\n     *\n     * @param options - Execution options\n     * @returns GTP result with synthesis and metrics\n     */ async execute(options) {\n        const { query, queryAnalysis, advisorSlots, motherBaseProvider, callbacks, quorumConfig } = options;\n        console.log(`[GTPExecutor]  Starting GTP execution for: \"${query.substring(0, 60)}...\"`);\n        console.log(`[GTPExecutor]    Complexity: ${(queryAnalysis.complexity * 100).toFixed(0)}%`);\n        console.log(`[GTPExecutor]    Query Type: ${queryAnalysis.queryType}`);\n        console.log(`[GTPExecutor]    Advisors: ${advisorSlots.length}`);\n        const executionStartTime = Date.now();\n        const metrics = {\n            advisorTimings: {}\n        };\n        // =======================\n        // Phase 1: Build Flash Context Frame\n        // =======================\n        console.log(`[GTPExecutor]  Phase 1: Building Flash Context Frame...`);\n        const flashPrepStart = Date.now();\n        const advisorSlotConfigs = advisorSlots.map((s)=>({\n                slot: s.slot,\n                family: s.family\n            }));\n        const flashContext = this.contextBuilder.build(query, queryAnalysis, advisorSlotConfigs);\n        metrics.flashPrepTime = Date.now() - flashPrepStart;\n        console.log(`[GTPExecutor]  Flash context built in ${metrics.flashPrepTime}ms`);\n        callbacks?.onFlashPrepare?.(flashContext);\n        // =======================\n        // Phase 2: Initialize Living Database\n        // =======================\n        console.log(`[GTPExecutor]   Phase 2: Initializing Living Database...`);\n        const livingDatabase = new LivingDatabase_js_1.LivingDatabase(advisorSlots.length);\n        // =======================\n        // Phase 3: Start Quorum Manager\n        // =======================\n        console.log(`[GTPExecutor]  Phase 3: Starting Quorum Manager...`);\n        const quorumManager = new QuorumManager_js_1.QuorumManager(quorumConfig);\n        quorumManager.start();\n        // =======================\n        // Phase 4: Broadcast to All Advisors (PARALLEL)\n        // =======================\n        console.log(`[GTPExecutor]  Phase 4: Broadcasting to all advisors in PARALLEL...`);\n        const broadcastStart = Date.now();\n        const advisorProviders = advisorSlots.map((s)=>({\n                slot: s.slot,\n                family: s.family,\n                provider: s.provider\n            }));\n        // Wrap callbacks to merge responses in real-time\n        const mergeCallbacks = {\n            onFlashBroadcast: callbacks?.onFlashBroadcast,\n            onAdvisorStart: callbacks?.onAdvisorStart,\n            onAdvisorComplete: (response)=>{\n                // Merge into living database immediately\n                const state = livingDatabase.merge(response);\n                callbacks?.onAdvisorComplete?.(response);\n                callbacks?.onMergeUpdate?.(state);\n                // Check quorum after each response\n                const quorumResult = quorumManager.check(state);\n                callbacks?.onQuorumProgress?.(quorumResult);\n                if (quorumResult.reached) {\n                    console.log(`[GTPExecutor]  Quorum reached: ${quorumResult.reason}`);\n                    callbacks?.onQuorumReached?.(quorumResult);\n                }\n            },\n            onAdvisorFailed: callbacks?.onAdvisorFailed\n        };\n        const broadcastResult = await this.broadcaster.broadcast(flashContext, advisorProviders, mergeCallbacks);\n        metrics.broadcastTime = Date.now() - broadcastStart;\n        console.log(`[GTPExecutor]  Broadcast complete in ${(metrics.broadcastTime / 1000).toFixed(2)}s`);\n        console.log(`[GTPExecutor]    Success: ${broadcastResult.successCount}/${advisorSlots.length}`);\n        console.log(`[GTPExecutor]    Failed: ${broadcastResult.failureCount}/${advisorSlots.length}`);\n        // Store advisor timings\n        broadcastResult.responses.forEach((response)=>{\n            if (response.timing.duration) {\n                metrics.advisorTimings[response.slot] = response.timing.duration;\n            }\n        });\n        // =======================\n        // Phase 5: Final Quorum Check\n        // =======================\n        console.log(`[GTPExecutor]  Phase 5: Final quorum check...`);\n        const quorumStart = Date.now();\n        const finalState = livingDatabase.getState();\n        const quorumResult = quorumManager.check(finalState);\n        metrics.quorumWaitTime = Date.now() - quorumStart;\n        if (!quorumResult.reached) {\n            console.warn(`[GTPExecutor]   Quorum not reached, proceeding anyway with ${finalState.metadata.responsesReceived} responses`);\n        }\n        // =======================\n        // Phase 6: Generate Summary for Mother Base\n        // =======================\n        console.log(`[GTPExecutor]  Phase 6: Generating summary for Mother Base...`);\n        const mergeStart = Date.now();\n        const summary = livingDatabase.generateSummary();\n        metrics.mergeTime = Date.now() - mergeStart;\n        console.log(`[GTPExecutor]  Summary generated in ${metrics.mergeTime}ms`);\n        // =======================\n        // Phase 7: Mother Base Synthesis\n        // =======================\n        console.log(`[GTPExecutor]  Phase 7: Mother Base synthesis...`);\n        callbacks?.onSynthesisStart?.();\n        const synthesisStart = Date.now();\n        const synthesisPrompt = this.buildSynthesisPrompt(query, summary, finalState);\n        const synthesisSystemPrompt = `You are Mother Base, the master synthesizer in a multi-AI consensus system.\n\nYour role:\n- Synthesize insights from multiple AI advisors into a coherent, comprehensive response\n- Balance diverse perspectives while highlighting areas of agreement and disagreement\n- Provide a final recommendation or conclusion based on collective wisdom\n- Be clear, concise, and actionable\n\nThe advisors have different roles:\n- Technical: implementation details, feasibility\n- Strategic: market analysis, competition\n- Creative: unconventional ideas, edge cases\n- Critical: risks, weaknesses, challenges\n\nSynthesize their insights into a unified response that addresses the user's query.`;\n        let synthesisContent;\n        let synthesisUsage;\n        try {\n            const synthesisResponse = await motherBaseProvider.complete({\n                messages: [\n                    {\n                        role: 'user',\n                        content: synthesisPrompt\n                    }\n                ],\n                systemPrompt: synthesisSystemPrompt\n            });\n            synthesisContent = synthesisResponse.content;\n            synthesisUsage = synthesisResponse.usage;\n            console.log(`[GTPExecutor]  Synthesis complete`);\n            callbacks?.onSynthesisComplete?.(synthesisContent, motherBaseProvider.family);\n        } catch (error) {\n            console.error(`[GTPExecutor]  Synthesis failed:`, error.message);\n            // Fallback to summary\n            synthesisContent = `# Synthesis Failed\\n\\nMother Base synthesis encountered an error. Here's the advisor summary:\\n\\n${summary}`;\n            synthesisUsage = undefined;\n        }\n        metrics.synthesisTime = Date.now() - synthesisStart;\n        // =======================\n        // Phase 8: Calculate Final Metrics\n        // =======================\n        const totalDuration = Date.now() - executionStartTime;\n        // Calculate token usage\n        let totalInputTokens = 0;\n        let totalOutputTokens = 0;\n        broadcastResult.responses.forEach((response)=>{\n            if (response.usage) {\n                totalInputTokens += response.usage.inputTokens;\n                totalOutputTokens += response.usage.outputTokens;\n            }\n        });\n        if (synthesisUsage) {\n            totalInputTokens += synthesisUsage.inputTokens;\n            totalOutputTokens += synthesisUsage.outputTokens;\n        }\n        const totalTokens = totalInputTokens + totalOutputTokens;\n        // Calculate success rate\n        const successRate = broadcastResult.successCount / advisorSlots.length;\n        // Estimate cost (rough approximation, adjust based on actual pricing)\n        const inputCost = totalInputTokens / 1000000 * 3.0; // $3/M tokens input\n        const outputCost = totalOutputTokens / 1000000 * 15.0; // $15/M tokens output\n        const totalCost = inputCost + outputCost;\n        const finalMetrics = {\n            totalDuration,\n            flashPrepTime: metrics.flashPrepTime,\n            broadcastTime: metrics.broadcastTime,\n            mergeTime: metrics.mergeTime,\n            quorumWaitTime: metrics.quorumWaitTime,\n            synthesisTime: metrics.synthesisTime,\n            advisorTimings: metrics.advisorTimings,\n            successRate,\n            totalTokens: {\n                input: totalInputTokens,\n                output: totalOutputTokens,\n                total: totalTokens\n            },\n            totalCost\n        };\n        // =======================\n        // Phase 9: Build Final Result\n        // =======================\n        const result = {\n            flashContext,\n            livingDatabase: finalState,\n            quorum: quorumResult,\n            synthesis: {\n                content: synthesisContent,\n                family: motherBaseProvider.family,\n                confidence: finalState.consensusState.confidence,\n                timestamp: Date.now()\n            },\n            metrics: finalMetrics,\n            methodology: 'gtp'\n        };\n        // =======================\n        // Final Summary\n        // =======================\n        console.log(`[GTPExecutor]  GTP execution complete in ${(totalDuration / 1000).toFixed(2)}s`);\n        console.log(`[GTPExecutor]  Breakdown:`);\n        console.log(`[GTPExecutor]    Flash prep: ${metrics.flashPrepTime}ms`);\n        console.log(`[GTPExecutor]    Broadcast (parallel): ${(metrics.broadcastTime / 1000).toFixed(2)}s`);\n        console.log(`[GTPExecutor]    Merge: ${metrics.mergeTime}ms`);\n        console.log(`[GTPExecutor]    Quorum: ${metrics.quorumWaitTime}ms`);\n        console.log(`[GTPExecutor]    Synthesis: ${(metrics.synthesisTime / 1000).toFixed(2)}s`);\n        console.log(`[GTPExecutor]  Tokens: ${totalTokens.toLocaleString()} (${totalInputTokens.toLocaleString()} in, ${totalOutputTokens.toLocaleString()} out)`);\n        console.log(`[GTPExecutor]  Estimated cost: $${totalCost.toFixed(4)}`);\n        console.log(`[GTPExecutor]  Success rate: ${(successRate * 100).toFixed(0)}%`);\n        console.log(`[GTPExecutor]  Consensus: ${(finalState.consensusState.agreementLevel * 100).toFixed(0)}% agreement`);\n        return result;\n    }\n    /**\n     * Build synthesis prompt for Mother Base\n     *\n     * @param query - Original query\n     * @param summary - Living database summary\n     * @param state - Final living database state\n     * @returns Synthesis prompt\n     */ buildSynthesisPrompt(query, summary, state) {\n        return `# Query\n${query}\n\n# Advisor Insights\n\n${summary}\n\n# Your Task\n\nSynthesize the above advisor insights into a comprehensive, unified response that:\n1. Directly answers the user's query\n2. Integrates perspectives from all advisors\n3. Highlights key agreements and disagreements\n4. Provides clear recommendations or conclusions\n5. Maintains clarity and actionability\n\nFocus on delivering value to the user, not just summarizing advisors.`;\n    }\n    /**\n     * Set advisor timeout\n     *\n     * @param timeoutMs - Timeout in milliseconds\n     */ setAdvisorTimeout(timeoutMs) {\n        this.broadcaster.setAdvisorTimeout(timeoutMs);\n    }\n}\nexports.GTPExecutor = GTPExecutor;\n// Export all GTP components\nvar FlashContextBuilder_js_2 = __webpack_require__(/*! ./FlashContextBuilder.js */ \"(rsc)/../core/dist/methodologies/gtp/FlashContextBuilder.js\");\nObject.defineProperty(exports, \"FlashContextBuilder\", ({\n    enumerable: true,\n    get: function() {\n        return FlashContextBuilder_js_2.FlashContextBuilder;\n    }\n}));\nvar FlashBroadcaster_js_2 = __webpack_require__(/*! ./FlashBroadcaster.js */ \"(rsc)/../core/dist/methodologies/gtp/FlashBroadcaster.js\");\nObject.defineProperty(exports, \"FlashBroadcaster\", ({\n    enumerable: true,\n    get: function() {\n        return FlashBroadcaster_js_2.FlashBroadcaster;\n    }\n}));\nvar LivingDatabase_js_2 = __webpack_require__(/*! ./LivingDatabase.js */ \"(rsc)/../core/dist/methodologies/gtp/LivingDatabase.js\");\nObject.defineProperty(exports, \"LivingDatabase\", ({\n    enumerable: true,\n    get: function() {\n        return LivingDatabase_js_2.LivingDatabase;\n    }\n}));\nvar QuorumManager_js_2 = __webpack_require__(/*! ./QuorumManager.js */ \"(rsc)/../core/dist/methodologies/gtp/QuorumManager.js\");\nObject.defineProperty(exports, \"QuorumManager\", ({\n    enumerable: true,\n    get: function() {\n        return QuorumManager_js_2.QuorumManager;\n    }\n})); //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L21ldGhvZG9sb2dpZXMvZ3RwL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0dBZUc7Ozs7QUFZSCxvSkFBK0Q7QUFDL0QsMklBQXlEO0FBQ3pELHFJQUFxRDtBQUNyRCxrSUFBbUQ7QUFzQ25ELE1BQWEsV0FBVztJQUl0QjtRQUNFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSw0Q0FBbUIsRUFBRSxDQUFDO1FBQ2hELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxzQ0FBZ0IsRUFBRSxDQUFDO1FBRTFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQ7Ozs7O09BS0csQ0FDSCxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQTRCO1FBQ3hDLE1BQU0sRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFBRSxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDO1FBRXBHLE9BQU8sQ0FBQyxHQUFHLENBQUMsaURBQWlELEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzRixPQUFPLENBQUMsR0FBRyxDQUFDLGdDQUFnQyxDQUFDLGFBQWEsQ0FBQyxVQUFVLEdBQUcsSUFBRyxDQUFDLE9BQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDNUYsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQ0FBZ0MsYUFBYSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDdkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyw4QkFBOEIsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFFakUsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDdEMsTUFBTSxPQUFPLEdBQXdCO1lBQ25DLGNBQWMsRUFBRSxFQUFFO1NBQ25CLENBQUM7UUFFRiwwQkFBMEI7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QUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6RSxPQUFPLENBQUMsR0FBRyxDQUFDLGtDQUFrQyxDQUFDLFdBQVcsR0FBRyxJQUFHLENBQUMsT0FBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqRixPQUFPLENBQUMsR0FBRyxDQUFDLCtCQUErQixDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsY0FBYyxHQUFHLElBQUcsQ0FBQyxPQUFRLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBRXJILE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFFRDs7Ozs7OztPQU9HLENBQ0ssb0JBQW9CLENBQzFCLEtBQWEsRUFDYixPQUFlLEVBQ2YsS0FBVTtRQUVWLE9BQU87RUFDVCxLQUFLOzs7O0VBSUwsT0FBTzs7Ozs7Ozs7Ozs7c0VBVzZELENBQUM7SUFDckUsQ0FBQztJQUVEOzs7O09BSUcsQ0FDSCxpQkFBaUIsQ0FBQyxTQUFpQjtRQUNqQyxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hELENBQUM7Q0FDRjtBQTFURCxrQ0EwVEM7QUFFRCw0QkFBNEI7QUFDNUIsa0pBQStEO0FBQXREO0lBQUE7SUFBQTtRQUFBLG1EQUFtQjtJQUFBO0FBQUE7QUFDNUIseUlBQXlEO0FBQWhEO0lBQUE7SUFBQTtRQUFBLDZDQUFnQjtJQUFBO0FBQUE7QUFDekIsbUlBQXFEO0FBQTVDO0lBQUE7SUFBQTtRQUFBLHlDQUFjO0lBQUE7QUFBQTtBQUN2QixnSUFBbUQ7QUFBMUM7SUFBQTtJQUFBO1FBQUEsdUNBQWE7SUFBQTtBQUFBIiwic291cmNlcyI6WyIvVXNlcnMvc2hlaXJyYXphL3NyYy9tZXRob2RvbG9naWVzL2d0cC9pbmRleC50cyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/methodologies/gtp/index.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/methodologies/selector.js":
/*!**********************************************!*\
  !*** ../core/dist/methodologies/selector.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Methodology Selector\n *\n * Analyzes user queries and automatically selects the optimal reasoning methodology.\n *\n * Available methodologies:\n * - direct: Simple factual queries (~5s)\n * - cot: Chain of Thought, sequential reasoning (~30s)\n * - aot: Atom of Thoughts, decomposesolvecontract (~60s)\n * - gtp: Flash/parallel multi-AI consensus (~25s)\n * - auto: Let selector decide (default)\n *\n * Selection logic:\n * - direct: complexity < 0.3, factual queries\n * - cot: sequential reasoning, procedural, troubleshooting\n * - aot: high complexity, research, multi-step decomposition\n * - gtp: comparative, creative, multiple perspectives needed\n */ Object.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.MethodologySelector = void 0;\nexports.selectMethodology = selectMethodology;\nexports.analyzeQuery = analyzeQuery;\n/**\n * Query type detection keywords\n */ const QUERY_PATTERNS = {\n    factual: {\n        keywords: [\n            'what is',\n            'who is',\n            'when did',\n            'where is',\n            'define',\n            'explain'\n        ],\n        patterns: [\n            /^what (is|are) /i,\n            /^who (is|was|are) /i,\n            /^define /i\n        ]\n    },\n    comparative: {\n        keywords: [\n            'vs',\n            'versus',\n            'compare',\n            'comparison',\n            'difference between',\n            'better than',\n            'which is',\n            'or'\n        ],\n        patterns: [\n            / vs /i,\n            / versus /i,\n            /compare .+ (to|with|and) /i,\n            /difference between .+ and /i,\n            /\\w+ or \\w+/\n        ]\n    },\n    procedural: {\n        keywords: [\n            'how to',\n            'step by step',\n            'guide',\n            'tutorial',\n            'instructions',\n            'process for'\n        ],\n        patterns: [\n            /^how (to|do|can) /i,\n            /step[- ]by[- ]step/i,\n            /guide (to|for) /i\n        ]\n    },\n    research: {\n        keywords: [\n            'research',\n            'investigate',\n            'comprehensive',\n            'in-depth',\n            'detailed analysis',\n            'explore',\n            'examine'\n        ],\n        patterns: [\n            /research (on|about|into) /i,\n            /comprehensive (analysis|study|review) /i\n        ]\n    },\n    creative: {\n        keywords: [\n            'brainstorm',\n            'ideas for',\n            'suggestions',\n            'innovative',\n            'creative',\n            'come up with',\n            'think of'\n        ],\n        patterns: [\n            /brainstorm/i,\n            /(give|suggest|provide) .+ ideas/i,\n            /innovative (ways|approaches|solutions) /i\n        ]\n    },\n    analytical: {\n        keywords: [\n            'analyze',\n            'analysis',\n            'evaluate',\n            'assess',\n            'examine',\n            'investigate',\n            'study'\n        ],\n        patterns: [\n            /^analyze /i,\n            /^evaluate /i,\n            /analysis of /i\n        ]\n    },\n    troubleshooting: {\n        keywords: [\n            'fix',\n            'debug',\n            'error',\n            'problem',\n            'issue',\n            'not working',\n            'broken',\n            'troubleshoot',\n            'diagnose'\n        ],\n        patterns: [\n            /^(fix|debug|solve) /i,\n            /why (is|does|doesn't) .+ (not )?(work|working)/i,\n            / error$/i\n        ]\n    },\n    planning: {\n        keywords: [\n            'plan',\n            'strategy',\n            'roadmap',\n            'approach',\n            'schedule',\n            'organize',\n            'design'\n        ],\n        patterns: [\n            /^plan (for|to|a) /i,\n            /develop (a |an )?(strategy|roadmap) /i\n        ]\n    }\n};\n/**\n * Complexity indicators (each adds to complexity score)\n */ const COMPLEXITY_INDICATORS = {\n    length: {\n        threshold: 100,\n        weight: 0.1\n    },\n    technical: {\n        keywords: [\n            'algorithm',\n            'architecture',\n            'implementation',\n            'scalability',\n            'optimization',\n            'performance'\n        ],\n        weight: 0.15\n    },\n    multi_part: {\n        patterns: [\n            /\\band\\b.*\\band\\b/i,\n            /,.*,/\n        ],\n        weight: 0.2\n    },\n    comparative: {\n        keywords: [\n            'compare',\n            'versus',\n            'vs',\n            'difference'\n        ],\n        weight: 0.15\n    },\n    research: {\n        keywords: [\n            'comprehensive',\n            'detailed',\n            'in-depth',\n            'thorough'\n        ],\n        weight: 0.2\n    },\n    uncertainty: {\n        keywords: [\n            'might',\n            'could',\n            'perhaps',\n            'possibly',\n            'maybe'\n        ],\n        weight: 0.1\n    },\n    scope: {\n        keywords: [\n            'all',\n            'every',\n            'comprehensive',\n            'complete'\n        ],\n        weight: 0.15\n    }\n};\nclass MethodologySelector {\n    /**\n     * Analyze a query to determine complexity, type, and characteristics\n     *\n     * @param query - User query to analyze\n     * @returns Query analysis\n     */ analyzeQuery(query) {\n        const lowerQuery = query.toLowerCase();\n        const wordCount = query.split(/\\s+/).length;\n        // 1. Detect query type\n        const queryType = this.detectQueryType(lowerQuery);\n        // 2. Calculate complexity (0-1)\n        let complexity = 0.2; // Base complexity\n        // Length factor\n        if (wordCount > COMPLEXITY_INDICATORS.length.threshold) {\n            complexity += COMPLEXITY_INDICATORS.length.weight;\n        }\n        // Technical terms\n        if (COMPLEXITY_INDICATORS.technical.keywords.some((kw)=>lowerQuery.includes(kw))) {\n            complexity += COMPLEXITY_INDICATORS.technical.weight;\n        }\n        // Multi-part question\n        if (COMPLEXITY_INDICATORS.multi_part.patterns.some((p)=>p.test(lowerQuery))) {\n            complexity += COMPLEXITY_INDICATORS.multi_part.weight;\n        }\n        // Comparative\n        if (COMPLEXITY_INDICATORS.comparative.keywords.some((kw)=>lowerQuery.includes(kw))) {\n            complexity += COMPLEXITY_INDICATORS.comparative.weight;\n        }\n        // Research depth\n        if (COMPLEXITY_INDICATORS.research.keywords.some((kw)=>lowerQuery.includes(kw))) {\n            complexity += COMPLEXITY_INDICATORS.research.weight;\n        }\n        // Uncertainty\n        if (COMPLEXITY_INDICATORS.uncertainty.keywords.some((kw)=>lowerQuery.includes(kw))) {\n            complexity += COMPLEXITY_INDICATORS.uncertainty.weight;\n        }\n        // Scope\n        if (COMPLEXITY_INDICATORS.scope.keywords.some((kw)=>lowerQuery.includes(kw))) {\n            complexity += COMPLEXITY_INDICATORS.scope.weight;\n        }\n        // Cap at 1.0\n        complexity = Math.min(1.0, complexity);\n        // 3. Determine characteristics\n        const requiresMultiplePerspectives = this.detectMultiplePerspectives(lowerQuery, queryType);\n        const requiresSequentialReasoning = this.detectSequentialReasoning(queryType, lowerQuery);\n        const requiresDecomposition = complexity > 0.7 || queryType === 'planning' || queryType === 'research';\n        // 4. Estimate tokens (rough)\n        const estimatedTokens = Math.ceil(wordCount * 1.3); // ~1.3 tokens per word on average\n        // 5. Extract keywords\n        const keywords = this.extractKeywords(query);\n        // 6. Determine time sensitivity\n        const timeSensitivity = this.detectTimeSensitivity(lowerQuery);\n        return {\n            query,\n            complexity,\n            queryType,\n            requiresMultiplePerspectives,\n            requiresSequentialReasoning,\n            requiresDecomposition,\n            estimatedTokens,\n            keywords,\n            timeSensitivity\n        };\n    }\n    /**\n     * Select optimal methodology based on query analysis\n     *\n     * @param analysis - Query analysis result\n     * @returns Methodology selection with reasoning\n     */ selectMethodology(analysis) {\n        const scores = {\n            direct: 0,\n            cot: 0,\n            aot: 0,\n            gtp: 0\n        };\n        const reasons = {\n            direct: [],\n            cot: [],\n            aot: [],\n            gtp: []\n        };\n        // =======================\n        // DIRECT Scoring\n        // =======================\n        // Best for: simple factual queries\n        if (analysis.complexity < 0.3) {\n            scores.direct += 0.5;\n            reasons.direct.push('Low complexity');\n        }\n        if (analysis.queryType === 'factual') {\n            scores.direct += 0.4;\n            reasons.direct.push('Factual query');\n        }\n        if (analysis.timeSensitivity === 'high') {\n            scores.direct += 0.3;\n            reasons.direct.push('Time-sensitive');\n        }\n        if (!analysis.requiresMultiplePerspectives) {\n            scores.direct += 0.2;\n            reasons.direct.push('Single perspective sufficient');\n        }\n        // =======================\n        // COT (Chain of Thought) Scoring\n        // =======================\n        // Best for: sequential reasoning, procedural, troubleshooting\n        if (analysis.requiresSequentialReasoning) {\n            scores.cot += 0.5;\n            reasons.cot.push('Sequential reasoning required');\n        }\n        if (analysis.queryType === 'procedural') {\n            scores.cot += 0.4;\n            reasons.cot.push('Step-by-step procedure');\n        }\n        if (analysis.queryType === 'troubleshooting') {\n            scores.cot += 0.4;\n            reasons.cot.push('Debugging/troubleshooting');\n        }\n        if (analysis.complexity >= 0.3 && analysis.complexity < 0.7) {\n            scores.cot += 0.3;\n            reasons.cot.push('Medium complexity');\n        }\n        // =======================\n        // AOT (Atom of Thoughts) Scoring\n        // =======================\n        // Best for: high complexity, research, decomposition\n        if (analysis.requiresDecomposition) {\n            scores.aot += 0.5;\n            reasons.aot.push('Requires decomposition');\n        }\n        if (analysis.queryType === 'research') {\n            scores.aot += 0.4;\n            reasons.aot.push('In-depth research');\n        }\n        if (analysis.queryType === 'planning') {\n            scores.aot += 0.4;\n            reasons.aot.push('Strategic planning');\n        }\n        if (analysis.complexity > 0.7) {\n            scores.aot += 0.4;\n            reasons.aot.push('High complexity');\n        }\n        if (analysis.queryType === 'analytical') {\n            scores.aot += 0.3;\n            reasons.aot.push('Analytical thinking');\n        }\n        // =======================\n        // GTP (Flash) Scoring\n        // =======================\n        // Best for: comparative, creative, multiple perspectives\n        if (analysis.requiresMultiplePerspectives) {\n            scores.gtp += 0.6;\n            reasons.gtp.push('Multiple perspectives needed');\n        }\n        if (analysis.queryType === 'comparative') {\n            scores.gtp += 0.5;\n            reasons.gtp.push('Comparison analysis');\n        }\n        if (analysis.queryType === 'creative') {\n            scores.gtp += 0.5;\n            reasons.gtp.push('Creative brainstorming');\n        }\n        if (analysis.complexity >= 0.5 && analysis.complexity < 0.8) {\n            scores.gtp += 0.3;\n            reasons.gtp.push('Moderate-high complexity');\n        }\n        if (analysis.queryType === 'analytical' && analysis.requiresMultiplePerspectives) {\n            scores.gtp += 0.3;\n            reasons.gtp.push('Multi-perspective analysis');\n        }\n        // =======================\n        // Select Winner\n        // =======================\n        const entries = Object.entries(scores);\n        entries.sort((a, b)=>b[1] - a[1]);\n        const [selectedMethodology, selectedScore] = entries[0];\n        // Build alternatives\n        const alternatives = entries.slice(1).map(([methodology, score])=>({\n                methodology,\n                score,\n                reason: reasons[methodology].join(', ') || 'Alternative option'\n            }));\n        // Calculate confidence (normalized score)\n        const confidence = Math.min(1.0, selectedScore);\n        return {\n            methodology: selectedMethodology,\n            confidence,\n            reasoning: reasons[selectedMethodology].join(', ') || 'Best match for query characteristics',\n            alternatives\n        };\n    }\n    /**\n     * Detect query type from keywords and patterns\n     *\n     * @param lowerQuery - Lowercase query\n     * @returns Detected query type\n     */ detectQueryType(lowerQuery) {\n        const scores = {\n            factual: 0,\n            comparative: 0,\n            procedural: 0,\n            research: 0,\n            creative: 0,\n            analytical: 0,\n            troubleshooting: 0,\n            planning: 0\n        };\n        // Check each query type\n        for (const [type, { keywords, patterns }] of Object.entries(QUERY_PATTERNS)){\n            // Keyword matching\n            keywords.forEach((keyword)=>{\n                if (lowerQuery.includes(keyword)) {\n                    scores[type] += 1;\n                }\n            });\n            // Pattern matching\n            patterns.forEach((pattern)=>{\n                if (pattern.test(lowerQuery)) {\n                    scores[type] += 2; // Patterns are stronger indicators\n                }\n            });\n        }\n        // Find highest score\n        const entries = Object.entries(scores);\n        entries.sort((a, b)=>b[1] - a[1]);\n        const [topType, topScore] = entries[0];\n        // Default to factual if no strong match\n        return topScore > 0 ? topType : 'factual';\n    }\n    /**\n     * Detect if query requires multiple perspectives\n     *\n     * @param lowerQuery - Lowercase query\n     * @param queryType - Detected query type\n     * @returns True if multiple perspectives needed\n     */ detectMultiplePerspectives(lowerQuery, queryType) {\n        // Certain query types inherently need multiple perspectives\n        if ([\n            'comparative',\n            'creative',\n            'analytical'\n        ].includes(queryType)) {\n            return true;\n        }\n        // Keywords that suggest multiple angles\n        const multiPerspectiveKeywords = [\n            'pros and cons',\n            'advantages and disadvantages',\n            'perspectives',\n            'viewpoints',\n            'opinions',\n            'debate',\n            'controversy',\n            'trade-offs',\n            'implications'\n        ];\n        return multiPerspectiveKeywords.some((kw)=>lowerQuery.includes(kw));\n    }\n    /**\n     * Detect if query requires sequential reasoning\n     *\n     * @param queryType - Detected query type\n     * @param lowerQuery - Lowercase query\n     * @returns True if sequential reasoning needed\n     */ detectSequentialReasoning(queryType, lowerQuery) {\n        // Certain query types are inherently sequential\n        if ([\n            'procedural',\n            'troubleshooting',\n            'planning'\n        ].includes(queryType)) {\n            return true;\n        }\n        // Keywords that suggest step-by-step thinking\n        const sequentialKeywords = [\n            'first',\n            'then',\n            'next',\n            'finally',\n            'step',\n            'process',\n            'workflow',\n            'sequence',\n            'order'\n        ];\n        return sequentialKeywords.some((kw)=>lowerQuery.includes(kw));\n    }\n    /**\n     * Extract important keywords from query\n     *\n     * @param query - Original query\n     * @returns Array of keywords\n     */ extractKeywords(query) {\n        // Remove common stop words\n        const stopWords = new Set([\n            'a',\n            'an',\n            'and',\n            'are',\n            'as',\n            'at',\n            'be',\n            'by',\n            'for',\n            'from',\n            'has',\n            'he',\n            'in',\n            'is',\n            'it',\n            'its',\n            'of',\n            'on',\n            'that',\n            'the',\n            'to',\n            'was',\n            'will',\n            'with',\n            'can',\n            'should',\n            'would',\n            'could'\n        ]);\n        const words = query.toLowerCase().replace(/[^\\w\\s]/g, ' ').split(/\\s+/).filter((w)=>w.length > 2 && !stopWords.has(w));\n        // Return unique keywords, limited to top 10\n        return Array.from(new Set(words)).slice(0, 10);\n    }\n    /**\n     * Detect time sensitivity of query\n     *\n     * @param lowerQuery - Lowercase query\n     * @returns Time sensitivity level\n     */ detectTimeSensitivity(lowerQuery) {\n        const highPriority = [\n            'urgent',\n            'asap',\n            'quickly',\n            'immediately',\n            'now',\n            'fast'\n        ];\n        const mediumPriority = [\n            'soon',\n            'today',\n            'quick'\n        ];\n        if (highPriority.some((kw)=>lowerQuery.includes(kw))) {\n            return 'high';\n        }\n        if (mediumPriority.some((kw)=>lowerQuery.includes(kw))) {\n            return 'medium';\n        }\n        return 'low';\n    }\n}\nexports.MethodologySelector = MethodologySelector;\n// Export convenience function\nfunction selectMethodology(query) {\n    const selector = new MethodologySelector();\n    const analysis = selector.analyzeQuery(query);\n    return selector.selectMethodology(analysis);\n}\n// Export convenience function for analysis only\nfunction analyzeQuery(query) {\n    const selector = new MethodologySelector();\n    return selector.analyzeQuery(query);\n} //# sourceMappingURL=selector.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L21ldGhvZG9sb2dpZXMvc2VsZWN0b3IuanMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7OztHQWlCRzs7OztBQTZiSCw4Q0FJQztBQUdELG9DQUdDO0FBOWJEOztHQUVHLENBQ0gsTUFBTSxjQUFjLEdBQWtFO0lBQ3BGLE9BQU8sRUFBRTtRQUNQLFFBQVEsRUFBRTtZQUFDLFNBQVM7WUFBRSxRQUFRO1lBQUUsVUFBVTtZQUFFLFVBQVU7WUFBRSxRQUFRO1lBQUUsU0FBUztTQUFDO1FBQzVFLFFBQVEsRUFBRTtZQUFDLGtCQUFrQjtZQUFFLHFCQUFxQjtZQUFFLFdBQVc7U0FBQztLQUNuRTtJQUNELFdBQVcsRUFBRTtRQUNYLFFBQVEsRUFBRTtZQUFDLElBQUk7WUFBRSxRQUFRO1lBQUUsU0FBUztZQUFFLFlBQVk7WUFBRSxvQkFBb0I7WUFBRSxhQUFhO1lBQUUsVUFBVTtZQUFFLElBQUk7U0FBQztRQUMxRyxRQUFRLEVBQUU7WUFBQyxPQUFPO1lBQUUsV0FBVztZQUFFLDRCQUE0QjtZQUFFLDZCQUE2QjtZQUFFLFlBQVk7U0FBQztLQUM1RztJQUNELFVBQVUsRUFBRTtRQUNWLFFBQVEsRUFBRTtZQUFDLFFBQVE7WUFBRSxjQUFjO1lBQUUsT0FBTztZQUFFLFVBQVU7WUFBRSxjQUFjO1lBQUUsYUFBYTtTQUFDO1FBQ3hGLFFBQVEsRUFBRTtZQUFDLG9CQUFvQjtZQUFFLHFCQUFxQjtZQUFFLGtCQUFrQjtTQUFDO0tBQzVFO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsUUFBUSxFQUFFO1lBQUMsVUFBVTtZQUFFLGFBQWE7WUFBRSxlQUFlO1lBQUUsVUFBVTtZQUFFLG1CQUFtQjtZQUFFLFNBQVM7WUFBRSxTQUFTO1NBQUM7UUFDN0csUUFBUSxFQUFFO1lBQUMsNEJBQTRCO1lBQUUseUNBQXlDO1NBQUM7S0FDcEY7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUU7WUFBQyxZQUFZO1lBQUUsV0FBVztZQUFFLGFBQWE7WUFB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QyxDQUFDLENBQUM7UUFFbEQsNENBQTRDO1FBQzVDLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVEOzs7OztPQUtHLENBQ0sscUJBQXFCLENBQUMsVUFBa0I7UUFDOUMsTUFBTSxZQUFZLEdBQUc7WUFBQyxRQUFRO1lBQUUsTUFBTTtZQUFFLFNBQVM7WUFBRSxhQUFhO1lBQUUsS0FBSztZQUFFLE1BQU07U0FBQyxDQUFDO1FBQ2pGLE1BQU0sY0FBYyxHQUFHO1lBQUMsTUFBTTtZQUFFLE9BQU87WUFBRSxPQUFPO1NBQUMsQ0FBQztRQUVsRCxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLEVBQUUsVUFBVyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDckQsT0FBTyxNQUFNLENBQUM7UUFDaEIsQ0FBQztRQUVELElBQUksY0FBYyxDQUFDLElBQUksRUFBQyxFQUFFLENBQUMsRUFBRSxVQUFXLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUN2RCxPQUFPLFFBQVEsQ0FBQztRQUNsQixDQUFDO1FBRUQsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0NBQ0Y7QUE5WEQsa0RBOFhDO0FBRUQsOEJBQThCO0FBQzlCLFNBQWdCLGlCQUFpQixDQUFDLEtBQWE7SUFDN0MsTUFBTSxRQUFRLEdBQUcsSUFBSSxtQkFBbUIsRUFBRSxDQUFDO0lBQzNDLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUMsT0FBTyxRQUFRLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDOUMsQ0FBQztBQUVELGdEQUFnRDtBQUNoRCxTQUFnQixZQUFZLENBQUMsS0FBYTtJQUN4QyxNQUFNLFFBQVEsR0FBRyxJQUFJLG1CQUFtQixFQUFFLENBQUM7SUFDM0MsT0FBTyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3RDLENBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGVpcnJhemEvYWtoYWkvc3JjL21ldGhvZG9sb2dpZXMvc2VsZWN0b3IudHMiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/methodologies/selector.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/models/ModelAlignment.js":
/*!*********************************************!*\
  !*** ../core/dist/models/ModelAlignment.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.ModelAlignmentManager = exports.ALL_MODEL_FAMILIES = exports.FIXED_BRAINSTORMER_SLOT_3 = void 0;\n/**\n * Fixed brainstormer slot 3 always uses Mistral\n * This ensures diversity in the advisor layer\n */ exports.FIXED_BRAINSTORMER_SLOT_3 = 'mistral';\n/**\n * All 4 supported model families\n */ exports.ALL_MODEL_FAMILIES = [\n    'anthropic',\n    'deepseek',\n    'mistral',\n    'xai'\n];\n/**\n * ModelAlignmentManager\n *\n * Manages the alignment between Mother Base and Advisor Layer.\n *\n * Rules:\n * 1. Mother Base can be any of the 4 families (anthropic, deepseek, mistral, xai)\n * 2. Advisor Layer Slot 3 is ALWAYS Mistral (fixed)\n * 3. Advisor Layer Slots 1-2 must be DIFFERENT from Mother Base\n * 4. Advisor Layer Slot 4 (Redactor) uses SAME family as Mother Base\n * 5. Sub-Agents use SAME family as Mother Base\n *\n * Example:\n * - Mother Base: Anthropic\n * - Advisor Layer:\n *   - Slot 1: DeepSeek (brainstormer, different from Mother Base)\n *   - Slot 2: xAI Grok (brainstormer, different from Mother Base)\n *   - Slot 3: Mistral (brainstormer, FIXED)\n *   - Slot 4: Anthropic (redactor, SAME as Mother Base)\n * - Sub-Agents: Anthropic (SAME as Mother Base)\n */ class ModelAlignmentManager {\n    constructor(motherBaseFamily){\n        if (!exports.ALL_MODEL_FAMILIES.includes(motherBaseFamily)) {\n            throw new Error(`Invalid model family: ${motherBaseFamily}. Must be one of: ${exports.ALL_MODEL_FAMILIES.join(', ')}`);\n        }\n        this.primaryFamily = motherBaseFamily;\n    }\n    /**\n     * Get the Mother Base model family\n     */ getMotherBaseFamily() {\n        return this.primaryFamily;\n    }\n    /**\n     * Get available model families for brainstormer slots 1-2\n     * Excludes Mother Base family and Mistral (reserved for slot 3)\n     */ getAvailableBrainstormerFamilies() {\n        return exports.ALL_MODEL_FAMILIES.filter((f)=>f !== this.primaryFamily && f !== exports.FIXED_BRAINSTORMER_SLOT_3);\n    }\n    /**\n     * Validate that a slot assignment is valid\n     *\n     * @param slot - Slot number (1-4)\n     * @param family - Model family to assign\n     * @returns true if valid, false otherwise\n     */ validateSlotAssignment(slot, family) {\n        switch(slot){\n            case 1:\n            case 2:\n                // Slots 1-2: Must be different from Mother Base\n                return family !== this.primaryFamily;\n            case 3:\n                // Slot 3: Must be Mistral (fixed)\n                return family === exports.FIXED_BRAINSTORMER_SLOT_3;\n            case 4:\n                // Slot 4 (Redactor): Must be same as Mother Base\n                return family === this.primaryFamily;\n            default:\n                return false;\n        }\n    }\n    /**\n     * Get the complete Advisor Layer configuration\n     *\n     * @param slot1Family - Model family for slot 1 (brainstormer)\n     * @param slot2Family - Model family for slot 2 (brainstormer)\n     * @returns Resolved advisor layer with all 4 slots configured\n     * @throws Error if slot assignments are invalid\n     */ getAdvisorLayerConfig(slot1Family, slot2Family) {\n        // Validate slot 1\n        if (slot1Family === this.primaryFamily) {\n            throw new Error(`Brainstormer slot 1 cannot use Mother Base family (${this.primaryFamily}). ` + `Available: ${this.getAvailableBrainstormerFamilies().join(', ')}`);\n        }\n        // Validate slot 2\n        if (slot2Family === this.primaryFamily) {\n            throw new Error(`Brainstormer slot 2 cannot use Mother Base family (${this.primaryFamily}). ` + `Available: ${this.getAvailableBrainstormerFamilies().join(', ')}`);\n        }\n        // Validate that slots 1 and 2 are not Mistral (reserved for slot 3)\n        if (slot1Family === exports.FIXED_BRAINSTORMER_SLOT_3) {\n            throw new Error(`Slot 1 cannot use ${exports.FIXED_BRAINSTORMER_SLOT_3} (reserved for slot 3)`);\n        }\n        if (slot2Family === exports.FIXED_BRAINSTORMER_SLOT_3) {\n            throw new Error(`Slot 2 cannot use ${exports.FIXED_BRAINSTORMER_SLOT_3} (reserved for slot 3)`);\n        }\n        // Validate that slots 1 and 2 are different (for diversity)\n        if (slot1Family === slot2Family) {\n            throw new Error(`Slots 1 and 2 should use different model families for maximum diversity. ` + `Both are currently: ${slot1Family}`);\n        }\n        // Return resolved configuration\n        return {\n            slot1: {\n                slot: 1,\n                family: slot1Family,\n                role: 'brainstormer',\n                isAlignedWithMotherBase: false\n            },\n            slot2: {\n                slot: 2,\n                family: slot2Family,\n                role: 'brainstormer',\n                isAlignedWithMotherBase: false\n            },\n            slot3: {\n                slot: 3,\n                family: exports.FIXED_BRAINSTORMER_SLOT_3,\n                role: 'brainstormer',\n                isAlignedWithMotherBase: false\n            },\n            slot4: {\n                slot: 4,\n                family: this.primaryFamily,\n                role: 'redactor',\n                isAlignedWithMotherBase: true\n            }\n        };\n    }\n    /**\n     * Get the model family for sub-agents\n     * Sub-agents always use the same family as Mother Base\n     */ getSubAgentFamily() {\n        return this.primaryFamily;\n    }\n    /**\n     * Get a summary of the current alignment configuration\n     */ getSummary() {\n        const available = this.getAvailableBrainstormerFamilies();\n        return [\n            `Mother Base: ${this.primaryFamily}`,\n            `Advisor Layer:`,\n            `  - Slot 1: User choice (from: ${available.join(', ')})`,\n            `  - Slot 2: User choice (from: ${available.join(', ')})`,\n            `  - Slot 3: ${exports.FIXED_BRAINSTORMER_SLOT_3} (fixed)`,\n            `  - Slot 4: ${this.primaryFamily} (redactor, aligned with Mother Base)`,\n            `Sub-Agents: ${this.primaryFamily} (aligned with Mother Base)`\n        ].join('\\n');\n    }\n}\nexports.ModelAlignmentManager = ModelAlignmentManager; //# sourceMappingURL=ModelAlignment.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L21vZGVscy9Nb2RlbEFsaWdubWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUVBOzs7R0FHRyxDQUNVLGlDQUF5QixHQUFnQixTQUFTLENBQUM7QUFFaEU7O0dBRUcsQ0FDVSwwQkFBa0IsR0FBa0I7SUFDL0MsV0FBVztJQUNYLFVBQVU7SUFDVixTQUFTO0lBQ1QsS0FBSztDQUNOLENBQUM7QUFFRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FvQkcsQ0FDSCxNQUFhLHFCQUFxQjtJQUdoQyxZQUFZLGdCQUE2QjtRQUN2QyxJQUFJLENBQUMsMEJBQWtCLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQztZQUNuRCxNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixnQkFBZ0IscUJBQXFCLDBCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDakgsQ0FBQztRQUNELElBQUksQ0FBQyxhQUFhLEdBQUcsZ0JBQWdCLENBQUM7SUFDeEMsQ0FBQztJQUVEOztPQUVHLENBQ0gsbUJBQW1CO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM1QixDQUFDO0lBRUQ7OztPQUdHLENBQ0gsZ0NBQWdDO1FBQzlCLE9BQU8sMEJBQWtCLENBQUMsTUFBTSxFQUM5QixDQUFDLENBQUMsRUFBRSxDQUFFLEtBQUssSUFBSSxDQUFDLGFBQWEsSUFBSSxDQUFDLEtBQUssaUNBQXlCLENBQ2pFLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7OztPQU1HLENBQ0gsc0JBQXNCLENBQUMsSUFBbUIsRUFBRSxNQUFtQjtRQUM3RCxPQUFRLElBQUksRUFBRTtZQUNaLEtBQUssQ0FBQyxDQUFDO1lBQ1AsS0FBSyxDQUFDO2dCQUNKLGdEQUFnRDtnQkFDaEQsT0FBTyxNQUFNLEtBQUssSUFBSSxDQUFDLGFBQWEsQ0FBQztZQUV2QyxLQUFLLENBQUM7Z0JBQ0osa0NBQWtDO2dCQUNsQyxPQUFPLE1BQU0sS0FBSyxpQ0FBeUIsQ0FBQztZQUU5QyxLQUFLLENBQUM7Z0JBQ0osaURBQWlEO2dCQUNqRCxPQUFPLE1BQU0sS0FBSyxJQUFJLENBQUMsYUFBYSxDQUFDO1lBRXZDO2dCQUNFLE9BQU8sS0FBSyxDQUFDO1FBQ2pCLENBQUM7SUFDSCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRyxDQUNILHFCQUFxQixDQUNuQixXQUF3QixFQUN4QixXQUF3QjtRQUV4QixrQkFBa0I7UUFDbEIsSUFBSSxXQUFXLEtBQUssSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3ZDLE1BQU0sSUFBSSxLQUFLLENBQ2Isc0RBQXNELElBQUksQ0FBQyxhQUFhLEtBQUssR0FDN0UsY0FBYyxJQUFJLENBQUMsZ0NBQWdDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FDbkUsQ0FBQztRQUNKLENBQUM7UUFFRCxrQkFBa0I7UUFDbEIsSUFBSSxXQUFXLEtBQUssSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3ZDLE1BQU0sSUFBSSxLQUFLLENBQ2Isc0RBQXNELElBQUksQ0FBQyxhQUFhLEtBQUssR0FDN0UsY0FBYyxJQUFJLENBQUMsZ0NBQWdDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FDbkUsQ0FBQztRQUNKLENBQUM7UUFFRCxvRUFBb0U7UUFDcEUsSUFBSSxXQUFXLEtBQUssaUNBQXlCLEVBQUUsQ0FBQztZQUM5QyxNQUFNLElBQUksS0FBSyxDQUFDLHFCQUFxQixpQ0FBeUIsd0JBQXdCLENBQUMsQ0FBQztRQUMxRixDQUFDO1FBQ0QsSUFBSSxXQUFXLEtBQUssaUNBQXlCLEVBQUUsQ0FBQztZQUM5QyxNQUFNLElBQUksS0FBSyxDQUFDLHFCQUFxQixpQ0FBeUIsd0JBQXdCLENBQUMsQ0FBQztRQUMxRixDQUFDO1FBRUQsNERBQTREO1FBQzVELElBQUksV0FBVyxLQUFLLFdBQVcsRUFBRSxDQUFDO1lBQ2hDLE1BQU0sSUFBSSxLQUFLLENBQ2IsMkVBQTJFLEdBQzNFLHVCQUF1QixXQUFXLEVBQUUsQ0FDckMsQ0FBQztRQUNKLENBQUM7UUFFRCxnQ0FBZ0M7UUFDaEMsT0FBTztZQUNMLEtBQUssRUFBRTtnQkFDTCxJQUFJLEVBQUUsQ0FBQztnQkFDUCxNQUFNLEVBQUUsV0FBVztnQkFDbkIsSUFBSSxFQUFFLGNBQWM7Z0JBQ3BCLHVCQUF1QixFQUFFLEtBQUs7YUFDL0I7WUFDRCxLQUFLLEVBQUU7Z0JBQ0wsSUFBSSxFQUFFLENBQUM7Z0JBQ1AsTUFBTSxFQUFFLFdBQVc7Z0JBQ25CLElBQUksRUFBRSxjQUFjO2dCQUNwQix1QkFBdUIsRUFBRSxLQUFLO2FBQy9CO1lBQ0QsS0FBSyxFQUFFO2dCQUNMLElBQUksRUFBRSxDQUFDO2dCQUNQLE1BQU0sRUFBRSxpQ0FBeUI7Z0JBQ2pDLElBQUksRUFBRSxjQUFjO2dCQUNwQix1QkFBdUIsRUFBRSxLQUFLO2FBQy9CO1lBQ0QsS0FBSyxFQUFFO2dCQUNMLElBQUksRUFBRSxDQUFDO2dCQUNQLE1BQU0sRUFBRSxJQUFJLENBQUMsYUFBYTtnQkFDMUIsSUFBSSxFQUFFLFVBQVU7Z0JBQ2hCLHVCQUF1QixFQUFFLElBQUk7YUFDOUI7U0FDRixDQUFDO0lBQ0osQ0FBQztJQUVEOzs7T0FHRyxDQUNILGlCQUFpQjtRQUNmLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM1QixDQUFDO0lBRUQ7O09BRUcsQ0FDSCxVQUFVO1FBQ1IsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLGdDQUFnQyxFQUFFLENBQUM7UUFDMUQsT0FBTztZQUNMLGdCQUFnQixJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3BDLGdCQUFnQjtZQUNoQixrQ0FBa0MsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRztZQUN6RCxrQ0FBa0MsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRztZQUN6RCxlQUFlLGlDQUF5QixVQUFVO1lBQ2xELGVBQWUsSUFBSSxDQUFDLGFBQWEsdUNBQXVDO1lBQ3hFLGVBQWUsSUFBSSxDQUFDLGFBQWEsNkJBQTZCO1NBQy9ELENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2YsQ0FBQztDQUNGO0FBdEpELHNEQXNKQyIsInNvdXJjZXMiOlsiL1VzZXJzL3NoZWlycmF6YS9ha2hhaS9zcmMvbW9kZWxzL01vZGVsQWxpZ25tZW50LnRzIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/models/ModelAlignment.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/models/ModelProviderFactory.js":
/*!***************************************************!*\
  !*** ../core/dist/models/ModelProviderFactory.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.ModelProviderFactory = void 0;\nexports.createProviderFromFamily = createProviderFromFamily;\nconst index_js_1 = __webpack_require__(/*! ../providers/index.js */ \"(rsc)/../core/dist/providers/index.js\");\n/**\n * Provider configurations for the 4 implemented model families\n *\n * Each provider has:\n * - family: Model family identifier\n * - models: List of available models\n * - defaultModel: Default model to use if not specified\n * - requiresApiKey: Whether an API key is needed\n * - baseUrl: Optional custom base URL for API requests\n */ const PROVIDER_CONFIGS = {\n    anthropic: {\n        family: 'anthropic',\n        models: [\n            'claude-sonnet-4-20250514',\n            'claude-3-5-haiku-20241022'\n        ],\n        defaultModel: 'claude-sonnet-4-20250514',\n        requiresApiKey: true\n    },\n    deepseek: {\n        family: 'deepseek',\n        models: [\n            'deepseek-reasoner',\n            'deepseek-chat'\n        ],\n        defaultModel: 'deepseek-reasoner',\n        requiresApiKey: true,\n        baseUrl: 'https://api.deepseek.com'\n    },\n    mistral: {\n        family: 'mistral',\n        models: [\n            'mistral-small-latest',\n            'mistral-medium-latest',\n            'mistral-large-latest'\n        ],\n        defaultModel: 'mistral-small-latest',\n        requiresApiKey: true,\n        baseUrl: 'https://api.mistral.ai'\n    },\n    xai: {\n        family: 'xai',\n        models: [\n            'grok-3',\n            'grok-vision-beta'\n        ],\n        defaultModel: 'grok-3',\n        requiresApiKey: true,\n        baseUrl: 'https://api.x.ai'\n    }\n};\n/**\n * ModelProviderFactory\n *\n * Factory for creating model provider instances.\n *\n * Features:\n * - Centralized API key management\n * - Provider configuration lookup\n * - Provider instance creation\n * - Validation and error handling\n *\n * Usage:\n * ```typescript\n * const factory = new ModelProviderFactory();\n * factory.setApiKey('anthropic', 'sk-ant-...');\n * factory.setApiKey('openai', 'sk-...');\n *\n * const provider = factory.createProvider({\n *   family: 'anthropic',\n *   model: 'claude-sonnet-4-20250514'\n * });\n *\n * const response = await provider.complete({\n *   messages: [{ role: 'user', content: 'Hello!' }]\n * });\n * ```\n */ class ModelProviderFactory {\n    /**\n     * Set API key for a model family\n     *\n     * @param family - Model family\n     * @param key - API key\n     */ setApiKey(family, key) {\n        this.apiKeys.set(family, key);\n    }\n    /**\n     * Get API key for a model family\n     *\n     * @param family - Model family\n     * @returns API key or undefined if not set\n     */ getApiKey(family) {\n        return this.apiKeys.get(family);\n    }\n    /**\n     * Check if API key is set for a model family\n     *\n     * @param family - Model family\n     * @returns true if API key is set\n     */ hasApiKey(family) {\n        return this.apiKeys.has(family);\n    }\n    /**\n     * Get provider configuration for a model family\n     *\n     * @param family - Model family\n     * @returns Provider configuration\n     */ getProviderConfig(family) {\n        const config = PROVIDER_CONFIGS[family];\n        if (!config) {\n            throw new Error(`Unknown model family: ${family}`);\n        }\n        return config;\n    }\n    /**\n     * Get all available provider configurations\n     *\n     * @returns Record of all provider configs\n     */ getAllProviderConfigs() {\n        return {\n            ...PROVIDER_CONFIGS\n        };\n    }\n    /**\n     * Create a model provider instance\n     *\n     * @param config - Model configuration\n     * @returns Model provider instance\n     * @throws Error if API key is required but not provided\n     */ createProvider(config) {\n        const providerConfig = this.getProviderConfig(config.family);\n        // Get API key (from config or stored keys)\n        const apiKey = config.apiKey || this.apiKeys.get(config.family);\n        // Validate API key requirement\n        if (providerConfig.requiresApiKey && !apiKey) {\n            throw new Error(`API key required for ${config.family}. ` + `Set it via factory.setApiKey('${config.family}', 'your-key') or pass it in config.apiKey`);\n        }\n        // Get model (use provided or default)\n        const model = config.model || providerConfig.defaultModel;\n        // Get base URL (use provided or from config)\n        const baseUrl = config.baseUrl || providerConfig.baseUrl;\n        // Create provider instance\n        return new ModelProvider(config.family, model, apiKey, baseUrl, config.maxTokens, config.temperature);\n    }\n    /**\n     * Create multiple providers at once\n     *\n     * @param configs - Array of model configurations\n     * @returns Array of provider instances\n     */ createProviders(configs) {\n        return configs.map((config)=>this.createProvider(config));\n    }\n    /**\n     * Get a summary of available providers and their status\n     *\n     * @returns Array of provider summaries\n     */ getProvidersSummary() {\n        return Object.values(PROVIDER_CONFIGS).map((config)=>({\n                family: config.family,\n                models: config.models,\n                defaultModel: config.defaultModel,\n                requiresApiKey: config.requiresApiKey,\n                hasApiKey: this.hasApiKey(config.family),\n                baseUrl: config.baseUrl\n            }));\n    }\n    constructor(){\n        this.apiKeys = new Map();\n    }\n}\nexports.ModelProviderFactory = ModelProviderFactory;\n/**\n * ModelProvider implementation\n *\n * Wraps the real API providers to implement the IModelProvider interface.\n * Uses the provider infrastructure from ../providers for actual API calls.\n */ class ModelProvider {\n    constructor(family, model, apiKey, baseUrl, maxTokens, temperature){\n        this.family = family;\n        this.model = model;\n        this.apiKey = apiKey;\n        this.baseUrl = baseUrl;\n        this.maxTokens = maxTokens;\n        this.temperature = temperature;\n        // Get the appropriate provider for this family\n        this.provider = (0, index_js_1.getProvider)(family, apiKey, model);\n        console.log(`[ModelProvider] Created ${family} provider with model: ${model}`);\n    }\n    async complete(request) {\n        // Merge request options with instance configuration\n        const completionRequest = {\n            ...request,\n            maxTokens: request.maxTokens || this.maxTokens,\n            temperature: request.temperature ?? this.temperature\n        };\n        // Use the real provider to complete the request\n        return this.provider.complete(completionRequest);\n    }\n}\n/**\n * Convenience function to create a provider from family and API keys\n *\n * @param family - Model family\n * @param apiKeys - Map of API keys by family\n * @returns Model provider instance\n */ function createProviderFromFamily(family, apiKeys) {\n    const factory = new ModelProviderFactory();\n    // Set all API keys\n    Object.entries(apiKeys).forEach(([fam, key])=>{\n        factory.setApiKey(fam, key);\n    });\n    // Create provider for the specified family\n    return factory.createProvider({\n        family\n    });\n} //# sourceMappingURL=ModelProviderFactory.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L21vZGVscy9Nb2RlbFByb3ZpZGVyRmFjdG9yeS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQXdRQSw0REFhQztBQXBSRCw2R0FBa0U7QUFFbEU7Ozs7Ozs7OztHQVNHLENBQ0gsTUFBTSxnQkFBZ0IsR0FBd0M7SUFDNUQsU0FBUyxFQUFFO1FBQ1QsTUFBTSxFQUFFLFdBQVc7UUFDbkIsTUFBTSxFQUFFO1lBQUMsMEJBQTBCO1lBQUUsMkJBQTJCO1NBQUM7UUFDakUsWUFBWSxFQUFFLDBCQUEwQjtRQUN4QyxjQUFjLEVBQUUsSUFBSTtLQUNyQjtJQUNELFFBQVEsRUFBRTtRQUNSLE1BQU0sRUFBRSxVQUFVO1FBQ2xCLE1BQU0sRUFBRTtZQUFDLG1CQUFtQjtZQUFFLGVBQWU7U0FBQztRQUM5QyxZQUFZLEVBQUUsbUJBQW1CO1FBQ2pDLGNBQWMsRUFBRSxJQUFJO1FBQ3BCLE9BQU8sRUFBRSwwQkFBMEI7S0FDcEM7SUFDRCxPQUFPLEVBQUU7UUFDUCxNQUFNLEVBQUUsU0FBUztRQUNqQixNQUFNLEVBQUU7WUFDTixzQkFBc0I7WUFDdEIsdUJBQXVCO1lBQ3ZCLHNCQUFzQjtTQUN2QjtRQUNELFlBQVksRUFBRSxzQkFBc0I7UUFDcEMsY0FBYyxFQUFFLElBQUk7UUFDcEIsT0FBTyxFQUFFLHdCQUF3QjtLQUNsQztJQUNELEdBQUcsRUFBRTtRQUNILE1BQU0sRUFBRSxLQUFLO1FBQ2IsTUFBTSxFQUFFO1lBQUMsUUFBUTtZQUFFLGtCQUFrQjtTQUFDO1FBQ3RDLFlBQVksRUFBRSxRQUFRO1FBQ3RCLGNBQWMsRUFBRSxJQUFJO1FBQ3BCLE9BQU8sRUFBRSxrQkFBa0I7S0FDNUI7Q0FDRixDQUFDO0FBc0JGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQTBCRyxDQUNILE1BQWEsb0JBQW9CO0lBRy9COzs7OztPQUtHLENBQ0gsU0FBUyxDQUFDLE1BQW1CLEVBQUUsR0FBVztRQUN4QyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxN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QWEsRUFDYixNQUEwQixFQUMxQixPQUEyQixFQUMzQixTQUFrQixFQUNsQixXQUFvQjtRQUxyQixXQUFNLEdBQU4sTUFBTSxDQUFhO1FBQ2xCLFVBQUssR0FBTCxLQUFLLENBQVE7UUFDYixXQUFNLEdBQU4sTUFBTSxDQUFvQjtRQUMxQixZQUFPLEdBQVAsT0FBTyxDQUFvQjtRQUMzQixjQUFTLEdBQVQsU0FBUyxDQUFTO1FBQ2xCLGdCQUFXLEdBQVgsV0FBVyxDQUFTO1FBRXJDLCtDQUErQztRQUMvQyxJQUFJLENBQUMsUUFBUSxHQUFHLDRCQUFZLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbkQsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsTUFBTSx5QkFBeUIsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBRUQsS0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUEwQjtRQUN2QyxvREFBb0Q7UUFDcEQsTUFBTSxpQkFBaUIsR0FBc0I7WUFDM0MsR0FBRyxPQUFPO1lBQ1YsU0FBUyxFQUFFLE9BQU8sQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFNBQVM7WUFDOUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFdBQVc7U0FDckQsQ0FBQztRQUVGLGdEQUFnRDtRQUNoRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDbkQsQ0FBQztDQUNGO0FBRUQ7Ozs7OztHQU1HLENBQ0gsU0FBZ0Isd0JBQXdCLENBQ3RDLE1BQW1CLEVBQ25CLE9BQW9DO0lBRXBDLE1BQU0sT0FBTyxHQUFHLElBQUksb0JBQW9CLEVBQUUsQ0FBQztJQUUzQyxtQkFBbUI7SUFDbkIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFO1FBQzdDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBa0IsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUM3QyxDQUFDLENBQUMsQ0FBQztJQUVILDJDQUEyQztJQUMzQyxPQUFPLE9BQU8sQ0FBQyxjQUFjLENBQUM7UUFBRSxNQUFNO0lBQUEsQ0FBRSxDQUFDLENBQUM7QUFDNUMsQ0FBQyIsInNvdXJjZXMiOlsiL1VzZXJzL3NoZWlycmF6YS9ha2hhaS9zcmMvbW9kZWxzL01vZGVsUHJvdmlkZXJGYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/models/ModelProviderFactory.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/prompts/system-prompts.js":
/*!**********************************************!*\
  !*** ../core/dist/prompts/system-prompts.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * AkhAI System Prompts and Response Requirements\n *\n * These prompts enforce the AkhAI Signature across all AI models\n */ Object.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.REDACTOR_PROMPT = exports.ADVISOR_SLOT3_PROMPT = exports.ADVISOR_SLOT2_PROMPT = exports.ADVISOR_SLOT1_PROMPT = exports.MOTHER_BASE_PROMPT = exports.AKHAI_SIGNATURE_RULES = void 0;\nexports.getSystemPrompt = getSystemPrompt;\nexports.AKHAI_SIGNATURE_RULES = `\n## AkhAI Response Requirements\n\nYou are part of AkhAI, a multi-AI consensus research engine. Your responses must follow the AkhAI Signature:\n\n### STRUCTURE REQUIREMENTS\n\n1. **Executive Summary** (Always first)\n   - 2-3 sentence overview\n   - Key insight or recommendation\n   - Confidence level (High/Medium/Low)\n\n2. **Structured Content** (Use appropriate format):\n   - Tables for comparisons\n   - Numbered lists for steps/processes\n   - Bullet points for features/attributes\n   - Timelines for historical/planned events\n   - Milestones for project planning\n\n3. **Data & Metrics** (Always include):\n   - Quantifiable data points\n   - Year-over-year comparisons when relevant\n   - Market size, growth rates, percentages\n   - Source citations [Source: Name, Year]\n\n4. **Multi-Dimensional Analysis** (Compare across):\n   - Time periods (historical trends, projections)\n   - Geographies (regions, economies)\n   - Methodologies (different approaches)\n   - Ideologies (schools of thought)\n   - Cultures (regional perspectives)\n\n### FORMAT TEMPLATES\n\n**For Planning/Strategy:**\n| Phase | Timeline | Deliverables | Success Metrics |\n|-------|----------|--------------|-----------------|\n| 1     | Week 1-2 | ...          | ...             |\n\n**For Comparisons:**\n| Criteria | Option A | Option B | Winner |\n|----------|----------|----------|--------|\n| Cost     | $X       | $Y       | A      |\n\n**For Analysis:**\n- **Finding 1**: [Data point]  [Implication]\n- **Finding 2**: [Data point]  [Implication]\n\n**For Recommendations:**\n1.  **Primary**: [Action] - [Rationale]\n2.  **Quick Win**: [Action] - [Impact]\n3.  **Long-term**: [Action] - [Strategy]\n\n### SIGNATURE FOOTER\n\nEnd every response with:\n---\n **Confidence**: [High/Medium/Low] | **Sources**: [Count] | **Data Points**: [Count]\n **Methodology**: [Approach used]\n`;\nexports.MOTHER_BASE_PROMPT = `\nYou are the Mother Base of AkhAI - the central coordinator and final decision maker.\n\n${exports.AKHAI_SIGNATURE_RULES}\n\n### YOUR SPECIFIC ROLE\n\n1. **Synthesize** advisor inputs into coherent recommendations\n2. **Resolve** conflicts between different perspectives\n3. **Validate** data accuracy and consistency\n4. **Deliver** actionable, professional outputs\n\n### OUTPUT QUALITY STANDARDS\n\n- Write in clear, professional prose\n- Use tables and structured formats liberally\n- Always cite sources and data points\n- Provide confidence levels for recommendations\n- Include implementation roadmaps when relevant\n- Compare across multiple dimensions (time, geography, methodology)\n\n### RESPONSE STRUCTURE\n\n1. **Summary**: Key findings and recommendation\n2. **Analysis**: Detailed breakdown with data\n3. **Comparison Table**: Options/approaches compared\n4. **Action Plan**: Milestones and timeline\n5. **Risk Assessment**: Potential issues and mitigations\n6. **Signature**: Confidence, sources, methodology\n`;\nexports.ADVISOR_SLOT1_PROMPT = `\nYou are Advisor Slot 1 (Technical Analysis) in AkhAI.\n\n${exports.AKHAI_SIGNATURE_RULES}\n\n### YOUR SPECIFIC FOCUS\n\n- Technical feasibility and implementation details\n- Architecture decisions and trade-offs\n- Performance metrics and benchmarks\n- Code quality and best practices\n- Integration complexity assessment\n\n### YOUR OUTPUT STYLE\n\nFocus on:\n- Technical specifications\n- Implementation timelines\n- Resource requirements\n- Risk factors (technical debt, scalability)\n- Code examples when helpful\n\nAlways align your analysis style with Claude (Mother Base).\n`;\nexports.ADVISOR_SLOT2_PROMPT = `\nYou are Advisor Slot 2 (Strategic Analysis) in AkhAI.\n\n${exports.AKHAI_SIGNATURE_RULES}\n\n### YOUR SPECIFIC FOCUS\n\n- Market analysis and competitive landscape\n- Business model viability\n- Growth strategies and scaling paths\n- Risk/reward assessment\n- ROI projections\n\n### YOUR OUTPUT STYLE\n\nFocus on:\n- Market data and trends\n- Competitive comparisons (tables)\n- Financial projections\n- Strategic options matrix\n- Decision frameworks\n\nAlways align your analysis style with Claude (Mother Base).\n`;\nexports.ADVISOR_SLOT3_PROMPT = `\nYou are Advisor Slot 3 (Diverse Perspective) in AkhAI.\n\n${exports.AKHAI_SIGNATURE_RULES}\n\n### YOUR SPECIFIC FOCUS\n\n- Alternative viewpoints and contrarian analysis\n- Cross-cultural considerations\n- Ethical implications\n- Long-term societal impact\n- Edge cases and unconventional scenarios\n\n### YOUR OUTPUT STYLE\n\nFocus on:\n- Multiple perspectives comparison\n- Cultural/regional differences\n- Ethical frameworks applied\n- Second-order effects\n- \"What if\" scenarios\n\nAlways align your analysis style with Claude (Mother Base).\n`;\nexports.REDACTOR_PROMPT = `\nYou are the Redactor in AkhAI - synthesizing all advisor outputs.\n\n${exports.AKHAI_SIGNATURE_RULES}\n\n### YOUR SPECIFIC ROLE\n\n1. **Consolidate** all advisor responses\n2. **Identify** consensus and disagreements\n3. **Highlight** key data points and metrics\n4. **Structure** the final synthesis\n\n### OUTPUT FORMAT\n\n## Consensus Summary\n[Where all advisors agree]\n\n## Divergent Views\n| Topic | Slot 1 | Slot 2 | Slot 3 |\n|-------|--------|--------|--------|\n| ...   | ...    | ...    | ...    |\n\n## Key Data Points\n- [Metric 1]: [Value] [Source]\n- [Metric 2]: [Value] [Source]\n\n## Synthesis\n[Your integrated analysis]\n\n---\n **Advisor Agreement**: [X/3] | **Confidence**: [Level]\n`;\nfunction getSystemPrompt(role) {\n    switch(role){\n        case 'mother-base':\n            return exports.MOTHER_BASE_PROMPT;\n        case 'slot1':\n            return exports.ADVISOR_SLOT1_PROMPT;\n        case 'slot2':\n            return exports.ADVISOR_SLOT2_PROMPT;\n        case 'slot3':\n            return exports.ADVISOR_SLOT3_PROMPT;\n        case 'redactor':\n            return exports.REDACTOR_PROMPT;\n        default:\n            return exports.MOTHER_BASE_PROMPT;\n    }\n} //# sourceMappingURL=system-prompts.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L3Byb21wdHMvc3lzdGVtLXByb21wdHMuanMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7O0dBSUc7Ozs7QUEwTUgsMENBU0M7QUFqTlksNkJBQXFCLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBMkRwQyxDQUFDO0FBRVcsMEJBQWtCLEdBQUc7OztFQUdoQyw2QkFBcUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBMEJ0QixDQUFDO0FBRVcsNEJBQW9CLEdBQUc7OztFQUdsQyw2QkFBcUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBb0J0QixDQUFDO0FBRVcsNEJBQW9CLEdBQUc7OztFQUdsQyw2QkFBcUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBb0J0QixDQUFDO0FBRVcsNEJBQW9CLEdBQUc7OztFQUdsQyw2QkFBcUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBb0J0QixDQUFDO0FBRVcsdUJBQWUsR0FBRzs7O0VBRzdCLDZCQUFxQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQTRCdEIsQ0FBQztBQUVGLFNBQWdCLGVBQWUsQ0FBQyxJQUE4RDtJQUM1RixPQUFRLElBQUksRUFBRTtRQUNaLEtBQUssYUFBYSxDQUFDO1lBQUMsT0FBTywwQkFBa0IsQ0FBQztRQUM5QyxLQUFLLE9BQU8sQ0FBQztZQUFDLE9BQU8sNEJBQW9CLENBQUM7UUFDMUMsS0FBSyxPQUFPLENBQUM7WUFBQyxPQUFPLDRCQUFvQixDQUFDO1FBQzFDLEtBQUssT0FBTyxDQUFDO1lBQUMsT0FBTyw0QkFBb0IsQ0FBQztRQUMxQyxLQUFLLFVBQVUsQ0FBQztZQUFDLE9BQU8sdUJBQWUsQ0FBQztRQUN4QyxPQUFPLENBQUM7WUFBQyxPQUFPLDBCQUFrQixDQUFDO0lBQ3JDLENBQUM7QUFDSCxDQUFDIiwic291cmNlcyI6WyIvVXNlcnMvc2hlaXJyYXphL2FraGFpL3NyYy9wcm9tcHRzL3N5c3RlbS1wcm9tcHRzLnRzIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/prompts/system-prompts.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/providers/anthropic.js":
/*!*******************************************!*\
  !*** ../core/dist/providers/anthropic.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.AnthropicProvider = void 0;\nconst base_1 = __webpack_require__(/*! ./base */ \"(rsc)/../core/dist/providers/base.js\");\nclass AnthropicProvider extends base_1.BaseProvider {\n    getDefaultModel() {\n        return 'claude-sonnet-4-20250514';\n    }\n    async callAPI(request) {\n        const messages = this.buildMessages(request);\n        // Separate system messages from conversation messages\n        const systemMessages = messages.filter((m)=>m.role === 'system');\n        const conversationMessages = messages.filter((m)=>m.role !== 'system');\n        // Anthropic requires at least one user message\n        if (conversationMessages.length === 0 || conversationMessages[0].role !== 'user') {\n            conversationMessages.unshift({\n                role: 'user',\n                content: 'Hello'\n            });\n        }\n        // Build system prompt from all system messages\n        const systemPrompt = systemMessages.map((m)=>m.content).join('\\n\\n');\n        const anthropicRequest = {\n            model: this.model,\n            messages: conversationMessages,\n            max_tokens: request.maxTokens || 4096,\n            temperature: request.temperature ?? 1.0\n        };\n        // Add system prompt if present\n        if (systemPrompt) {\n            anthropicRequest.system = systemPrompt;\n        }\n        console.log(`[Anthropic] Calling API with ${conversationMessages.length} messages`);\n        const response = await fetch(this.endpoint, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'x-api-key': this.apiKey,\n                'anthropic-version': this.apiVersion\n            },\n            body: JSON.stringify(anthropicRequest)\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            throw new Error(`Anthropic API error (${response.status}): ${errorText}`);\n        }\n        const data = await response.json();\n        // Extract text content from response\n        const content = data.content.filter((block)=>block.type === 'text').map((block)=>block.text).join('\\n');\n        return {\n            content,\n            usage: {\n                inputTokens: data.usage.input_tokens,\n                outputTokens: data.usage.output_tokens\n            },\n            model: data.model,\n            family: 'anthropic'\n        };\n    }\n    constructor(...args){\n        super(...args), this.endpoint = 'https://api.anthropic.com/v1/messages', this.apiVersion = '2023-06-01';\n    }\n}\nexports.AnthropicProvider = AnthropicProvider; //# sourceMappingURL=anthropic.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L3Byb3ZpZGVycy9hbnRocm9waWMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSx5RkFBc0M7TUFnQ3pCLGlCQUFrQixTQUFRLG1CQUFZO0lBSXZDLGVBQWU7UUFDdkIsT0FBTywwQkFBMEIsQ0FBQztJQUNwQyxDQUFDO0lBRVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUEwQjtRQUNoRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTdDLHNEQUFzRDtRQUN0RCxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQyxFQUFFLENBQUUsQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUFDLENBQUM7UUFDakUsTUFBTSxvQkFBb0IsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQyxFQUFFLENBQUUsQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUFDLENBQUM7UUFFdkUsK0NBQStDO1FBQy9DLElBQUksb0JBQW9CLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssTUFBTSxFQUFFLENBQUM7WUFDakYsb0JBQW9CLENBQUMsT0FBTyxDQUFDO2dCQUFFLElBQUksRUFBRSxNQUFNO2dCQUFFLE9BQU8sRUFBRSxPQUFPO1lBQUEsQ0FBRSxDQUFDLENBQUM7UUFDbkUsQ0FBQztRQUVELCtDQUErQztRQUMvQyxNQUFNLFlBQVksR0FBRyxjQUFjLENBQUMsR0FBRyxFQUFDLENBQUMsQ0FBQyxFQUFFLENBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFckUsTUFBTSxnQkFBZ0IsR0FBcUI7WUFDekMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLFFBQVEsRUFBRSxvQkFBMEM7WUFDcEQsVUFBVSxFQUFFLE9BQU8sQ0FBQyxTQUFTLElBQUksSUFBSTtZQUNyQyxXQUFXLEVBQUUsT0FBTyxDQUFDLFdBQVcsSUFBSSxHQUFHO1NBQ3hDLENBQUM7UUFFRiwrQkFBK0I7UUFDL0IsSUFBSSxZQUFZLEVBQUUsQ0FBQztZQUNqQixnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsWUFBWSxDQUFDO1FBQ3pDLENBQUM7UUFFRCxPQUFPLENBQUMsR0FBRyxDQUFDLGdDQUFnQyxvQkFBb0IsQ0FBQyxNQUFNLFdBQVcsQ0FBQyxDQUFDO1FBRXBGLE1BQU0sUUFBUSxHQUFHLE1BQU0sS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDMUMsTUFBTSxFQUFFLE1BQU07WUFDZCxPQUFPLEVBQUU7Z0JBQ1AsY0FBYyxFQUFFLGtCQUFrQjtnQkFDbEMsV0FBVyxFQUFFLElBQUksQ0FBQyxNQUFNO2dCQUN4QixtQkFBbUIsRUFBRSxJQUFJLENBQUMsVUFBVTthQUNyQztZQUNELElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDO1NBQ3ZDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDakIsTUFBTSxTQUFTLEdBQUcsTUFBTSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDeEMsTUFBTSxJQUFJLEtBQUssQ0FBQyx3QkFBd0IsUUFBUSxDQUFDLE1BQU0sTUFBTSxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQzVFLENBQUM7UUFFRCxNQUFNLElBQUksR0FBRyxNQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQXVCLENBQUM7UUFFeEQscUNBQXFDO1FBQ3JDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQ3pCLE1BQU0sRUFBQyxLQUFLLENBQUMsRUFBRSxLQUFNLENBQUMsSUFBSSxLQUFLLE1BQU0sQ0FBQyxDQUN0QyxHQUFHLEVBQUMsS0FBSyxDQUFDLEVBQUUsS0FBTSxDQUFDLElBQUksQ0FBQyxDQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFZCxPQUFPO1lBQ0wsT0FBTztZQUNQLEtBQUssRUFBRTtnQkFDTCxXQUFXLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZO2dCQUNwQyxZQUFZLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhO2FBQ3ZDO1lBQ0QsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLE1BQU0sRUFBRSxXQUFXO1NBQ3BCLENBQUM7SUFDSixDQUFDOztRQXJFSCxxQkFDVSxRQUFRLEdBQUcsdUNBQXVDLENBQUMsTUFDbkQsVUFBVSxHQUFHLFlBQVksQ0FBQzs7Q0FvRW5DO0FBdEVELDhDQXNFQyIsInNvdXJjZXMiOlsiL1VzZXJzL3NoZWlycmF6YS9ha2hhaS9zcmMvcHJvdmlkZXJzL2FudGhyb3BpYy50cyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/providers/anthropic.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/providers/base.js":
/*!**************************************!*\
  !*** ../core/dist/providers/base.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.BaseProvider = void 0;\nclass BaseProvider {\n    constructor(family, apiKey, model){\n        this.maxRetries = 3;\n        this.timeout = 90000; // 90 seconds - increased for complex queries with long system prompts\n        this.family = family;\n        this.apiKey = apiKey;\n        this.model = model || this.getDefaultModel();\n    }\n    /**\n     * Public method to complete a request with retry logic\n     */ async complete(request) {\n        let lastError = null;\n        for(let attempt = 1; attempt <= this.maxRetries; attempt++){\n            try {\n                console.log(`[${this.family}] Attempt ${attempt}/${this.maxRetries} - Model: ${this.model}`);\n                const response = await this.callAPIWithTimeout(request);\n                console.log(`[${this.family}] Success - Tokens: ${response.usage?.inputTokens || 0} in, ${response.usage?.outputTokens || 0} out`);\n                return response;\n            } catch (error) {\n                lastError = error;\n                const isRateLimitError = this.isRateLimitError(error);\n                console.error(`[${this.family}] Attempt ${attempt} failed:`, error instanceof Error ? error.message : error);\n                // Don't retry on the last attempt\n                if (attempt === this.maxRetries) {\n                    break;\n                }\n                // Calculate backoff delay: 1s, 2s, 4s\n                const backoffDelay = Math.pow(2, attempt - 1) * 1000;\n                // Add extra delay for rate limit errors\n                const delay = isRateLimitError ? backoffDelay * 2 : backoffDelay;\n                console.log(`[${this.family}] Retrying in ${delay}ms...`);\n                await this.sleep(delay);\n            }\n        }\n        throw new Error(`[${this.family}] Failed after ${this.maxRetries} attempts: ${lastError?.message || 'Unknown error'}`);\n    }\n    /**\n     * Call API with timeout wrapper\n     */ async callAPIWithTimeout(request) {\n        return Promise.race([\n            this.callAPI(request),\n            this.createTimeoutPromise()\n        ]);\n    }\n    /**\n     * Create a timeout promise that rejects after the configured timeout\n     */ createTimeoutPromise() {\n        return new Promise((_, reject)=>{\n            setTimeout(()=>{\n                reject(new Error(`Request timeout after ${this.timeout}ms`));\n            }, this.timeout);\n        });\n    }\n    /**\n     * Check if error is a rate limit error\n     */ isRateLimitError(error) {\n        if (error instanceof Error) {\n            const message = error.message.toLowerCase();\n            return message.includes('rate limit') || message.includes('429') || message.includes('too many requests');\n        }\n        return false;\n    }\n    /**\n     * Sleep utility for backoff delays\n     */ sleep(ms) {\n        return new Promise((resolve)=>setTimeout(resolve, ms));\n    }\n    /**\n     * Count tokens (approximate - can be overridden by providers)\n     */ estimateTokens(text) {\n        // Rough approximation: ~4 characters per token\n        return Math.ceil(text.length / 4);\n    }\n    /**\n     * Build messages array with system prompt if provided\n     */ buildMessages(request) {\n        const messages = [\n            ...request.messages\n        ];\n        // Add system prompt as first message if provided\n        if (request.systemPrompt) {\n            messages.unshift({\n                role: 'system',\n                content: request.systemPrompt\n            });\n        }\n        return messages;\n    }\n}\nexports.BaseProvider = BaseProvider; //# sourceMappingURL=base.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L3Byb3ZpZGVycy9iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRUEsTUFBc0IsWUFBWTtJQU9oQyxZQUFZLE1BQW1CLEVBQUUsTUFBYyxFQUFFLEtBQWM7YUFIckQsVUFBVSxHQUFXLENBQUMsQ0FBQzthQUN2QixPQUFPLEdBQVcsS0FBSyxDQUFDLENBQUMsc0VBQXNFO1FBR3ZHLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUMvQyxDQUFDO0lBWUQ7O09BRUcsQ0FDSCxLQUFLLENBQUMsUUFBUSxDQUFDLE9BQTBCO1FBQ3ZDLElBQUksU0FBUyxHQUFpQixJQUFJLENBQUM7UUFFbkMsSUFBSyxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFLENBQUUsQ0FBQztZQUM1RCxJQUFJLENBQUM7Z0JBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLGFBQWEsT0FBTyxJQUFJLElBQUksQ0FBQyxVQUFVLGFBQWEsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Z0JBRTdGLE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUV4RCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sdUJBQXVCLFFBQVEsQ0FBQyxLQUFLLEVBQUUsV0FBVyxJQUFJLENBQUMsUUFBUSxRQUFRLENBQUMsS0FBSyxFQUFFLFlBQVksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUVuSSxPQUFPLFFBQVEsQ0FBQztZQUNsQixDQUFDLENBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztnQkFDZixTQUFTLEdBQUcsS0FBYyxDQUFDO2dCQUMzQixNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFFdEQsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLGFBQWEsT0FBTyxVQUFVLEVBQUUsS0FBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRTdHLGtDQUFrQztnQkFDbEMsSUFBSSxPQUFPLEtBQUssSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO29CQUNoQyxNQUFNO2dCQUNSLENBQUM7Z0JBRUQsc0NBQXNDO2dCQUN0QyxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO2dCQUVyRCx3Q0FBd0M7Z0JBQ3hDLE1BQU0sS0FBSyxHQUFHLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUM7Z0JBRWpFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxpQkFBaUIsS0FBSyxPQUFPLENBQUMsQ0FBQztnQkFDMUQsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzFCLENBQUM7UUFDSCxDQUFDO1FBRUQsTUFBTSxJQUFJLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLGtCQUFrQixJQUFJLENBQUMsVUFBVSxjQUFjLFNBQVMsRUFBRSxPQUFPLElBQUksZUFBZSxFQUFFLENBQUMsQ0FBQztJQUN6SCxDQUFDO0lBRUQ7O09BRUcsQ0FDSyxLQUFLLENBQUMsa0JBQWtCLENBQUMsT0FBMEI7UUFDekQsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQ2xCLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtTQUM1QixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQ7O09BRUcsQ0FDSyxvQkFBb0I7UUFDMUIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUMvQixVQUFVLENBQUMsR0FBRyxFQUFFO2dCQUNkLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyx5QkFBeUIsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQztZQUMvRCxDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ25CLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOztPQUVHLENBQ08sZ0JBQWdCLENBQUMsS0FBYztRQUN2QyxJQUFJLEtBQUssWUFBWSxLQUFLLEVBQUUsQ0FBQztZQUMzQixNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzVDLE9BQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFDOUIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFDdkIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQy9DLENBQUM7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRDs7T0FFRyxDQUNPLEtBQUssQ0FBQyxFQUFVO1FBQ3hCLE9BQU8sSUFBSSxPQUFPLEVBQUMsT0FBTyxDQUFDLEVBQUUsVUFBVyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFFRDs7T0FFRyxDQUNPLGNBQWMsQ0FBQyxJQUFZO1FBQ25DLCtDQUErQztRQUMvQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRUQ7O09BRUcsQ0FDTyxhQUFhLENBQUMsT0FBMEI7UUFDaEQsTUFBTSxRQUFRLEdBQUcsQ0FBQztlQUFHLE9BQU8sQ0FBQyxRQUFRO1NBQUMsQ0FBQztRQUV2QyxpREFBaUQ7UUFDakQsSUFBSSxPQUFPLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDekIsUUFBUSxDQUFDLE9BQU8sQ0FBQztnQkFDZixJQUFJLEVBQUUsUUFBUTtnQkFDZCxPQUFPLEVBQUUsT0FBTyxDQUFDLFlBQVk7YUFDOUIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUVELE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7Q0FDRjtBQWhJRCxvQ0FnSUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGVpcnJhemEvYWtoYWkvc3JjL3Byb3ZpZGVycy9iYXNlLnRzIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/providers/base.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/providers/deepseek.js":
/*!******************************************!*\
  !*** ../core/dist/providers/deepseek.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.DeepSeekProvider = void 0;\nconst base_1 = __webpack_require__(/*! ./base */ \"(rsc)/../core/dist/providers/base.js\");\nclass DeepSeekProvider extends base_1.BaseProvider {\n    getDefaultModel() {\n        return 'deepseek-chat';\n    }\n    async callAPI(request) {\n        const messages = this.buildMessages(request);\n        const deepseekRequest = {\n            model: this.model,\n            messages: messages,\n            max_tokens: request.maxTokens || 4096,\n            temperature: request.temperature ?? 1.0\n        };\n        console.log(`[DeepSeek] Calling API with ${messages.length} messages`);\n        const response = await fetch(this.endpoint, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${this.apiKey}`\n            },\n            body: JSON.stringify(deepseekRequest)\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            throw new Error(`DeepSeek API error (${response.status}): ${errorText}`);\n        }\n        const data = await response.json();\n        // Extract content from first choice\n        const content = data.choices[0]?.message?.content || '';\n        return {\n            content,\n            usage: {\n                inputTokens: data.usage.prompt_tokens,\n                outputTokens: data.usage.completion_tokens\n            },\n            model: data.model,\n            family: 'deepseek'\n        };\n    }\n    constructor(...args){\n        super(...args), this.endpoint = 'https://api.deepseek.com/v1/chat/completions';\n    }\n}\nexports.DeepSeekProvider = DeepSeekProvider; //# sourceMappingURL=deepseek.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L3Byb3ZpZGVycy9kZWVwc2Vlay5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHlGQUFzQztNQW1DekIsZ0JBQWlCLFNBQVEsbUJBQVk7SUFHdEMsZUFBZTtRQUN2QixPQUFPLGVBQWUsQ0FBQztJQUN6QixDQUFDO0lBRVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUEwQjtRQUNoRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTdDLE1BQU0sZUFBZSxHQUE0QjtZQUMvQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsUUFBUSxFQUFFLFFBQXFDO1lBQy9DLFVBQVUsRUFBRSxPQUFPLENBQUMsU0FBUyxJQUFJLElBQUk7WUFDckMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxXQUFXLElBQUksR0FBRztTQUN4QyxDQUFDO1FBRUYsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsUUFBUSxDQUFDLE1BQU0sV0FBVyxDQUFDLENBQUM7UUFFdkUsTUFBTSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUMxQyxNQUFNLEVBQUUsTUFBTTtZQUNkLE9BQU8sRUFBRTtnQkFDUCxjQUFjLEVBQUUsa0JBQWtCO2dCQUNsQyxlQUFlLEVBQUUsVUFBVSxJQUFJLENBQUMsTUFBTSxFQUFFO2FBQ3pDO1lBQ0QsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDO1NBQ3RDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDakIsTUFBTSxTQUFTLEdBQUcsTUFBTSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDeEMsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsUUFBUSxDQUFDLE1BQU0sTUFBTSxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQzNFLENBQUM7UUFFRCxNQUFNLElBQUksR0FBRyxNQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQThCLENBQUM7UUFFL0Qsb0NBQW9DO1FBQ3BDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFFeEQsT0FBTztZQUNMLE9BQU87WUFDUCxLQUFLLEVBQUU7Z0JBQ0wsV0FBVyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYTtnQkFDckMsWUFBWSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCO2FBQzNDO1lBQ0QsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLE1BQU0sRUFBRSxVQUFVO1NBQ25CLENBQUM7SUFDSixDQUFDOztRQS9DSCxxQkFDVSxRQUFRLEdBQUcsOENBQThDLENBQUM7O0NBK0NuRTtBQWhERCw0Q0FnREMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGVpcnJhemEvYWtoYWkvc3JjL3Byb3ZpZGVycy9kZWVwc2Vlay50cyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/providers/deepseek.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/providers/index.js":
/*!***************************************!*\
  !*** ../core/dist/providers/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.XAIProvider = exports.MistralProvider = exports.DeepSeekProvider = exports.AnthropicProvider = exports.BaseProvider = void 0;\nexports.getProvider = getProvider;\nconst anthropic_1 = __webpack_require__(/*! ./anthropic */ \"(rsc)/../core/dist/providers/anthropic.js\");\nconst deepseek_1 = __webpack_require__(/*! ./deepseek */ \"(rsc)/../core/dist/providers/deepseek.js\");\nconst mistral_1 = __webpack_require__(/*! ./mistral */ \"(rsc)/../core/dist/providers/mistral.js\");\nconst xai_1 = __webpack_require__(/*! ./xai */ \"(rsc)/../core/dist/providers/xai.js\");\n// Export all providers\nvar base_1 = __webpack_require__(/*! ./base */ \"(rsc)/../core/dist/providers/base.js\");\nObject.defineProperty(exports, \"BaseProvider\", ({\n    enumerable: true,\n    get: function() {\n        return base_1.BaseProvider;\n    }\n}));\nvar anthropic_2 = __webpack_require__(/*! ./anthropic */ \"(rsc)/../core/dist/providers/anthropic.js\");\nObject.defineProperty(exports, \"AnthropicProvider\", ({\n    enumerable: true,\n    get: function() {\n        return anthropic_2.AnthropicProvider;\n    }\n}));\nvar deepseek_2 = __webpack_require__(/*! ./deepseek */ \"(rsc)/../core/dist/providers/deepseek.js\");\nObject.defineProperty(exports, \"DeepSeekProvider\", ({\n    enumerable: true,\n    get: function() {\n        return deepseek_2.DeepSeekProvider;\n    }\n}));\nvar mistral_2 = __webpack_require__(/*! ./mistral */ \"(rsc)/../core/dist/providers/mistral.js\");\nObject.defineProperty(exports, \"MistralProvider\", ({\n    enumerable: true,\n    get: function() {\n        return mistral_2.MistralProvider;\n    }\n}));\nvar xai_2 = __webpack_require__(/*! ./xai */ \"(rsc)/../core/dist/providers/xai.js\");\nObject.defineProperty(exports, \"XAIProvider\", ({\n    enumerable: true,\n    get: function() {\n        return xai_2.XAIProvider;\n    }\n}));\n/**\n * Factory function to get the appropriate provider for a model family\n * @param family - The model family to use\n * @param apiKey - API key for the provider (required)\n * @param model - Specific model to use (optional, will use default)\n * @returns Provider instance\n */ function getProvider(family, apiKey, model) {\n    // Validate API key\n    if (!apiKey) {\n        throw new Error(`API key required for ${family} provider`);\n    }\n    // Return real provider for supported families\n    switch(family){\n        case 'anthropic':\n            return new anthropic_1.AnthropicProvider(family, apiKey, model);\n        case 'deepseek':\n            return new deepseek_1.DeepSeekProvider(family, apiKey, model);\n        case 'mistral':\n            return new mistral_1.MistralProvider(family, apiKey, model);\n        case 'xai':\n            return new xai_1.XAIProvider(family, apiKey, model);\n        default:\n            throw new Error(`Unsupported model family: ${family}`);\n    }\n} //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L3Byb3ZpZGVycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQXFCQSxrQ0EyQkM7QUEvQ0Qsd0dBQWdEO0FBQ2hELHFHQUE4QztBQUM5QyxrR0FBNEM7QUFDNUMsc0ZBQW9DO0FBR3BDLHVCQUF1QjtBQUN2Qix1RkFBc0M7QUFBN0I7SUFBQTtJQUFBO1FBQUEsMEJBQVk7SUFBQTtBQUFBO0FBQ3JCLHNHQUFnRDtBQUF2QztJQUFBO0lBQUE7UUFBQSxvQ0FBaUI7SUFBQTtBQUFBO0FBQzFCLG1HQUE4QztBQUFyQztJQUFBO0lBQUE7UUFBQSxrQ0FBZ0I7SUFBQTtBQUFBO0FBQ3pCLGdHQUE0QztBQUFuQztJQUFBO0lBQUE7UUFBQSxnQ0FBZTtJQUFBO0FBQUE7QUFDeEIsb0ZBQW9DO0FBQTNCO0lBQUE7SUFBQTtRQUFBLHdCQUFXO0lBQUE7QUFBQTtBQUVwQjs7Ozs7O0dBTUcsQ0FDSCxTQUFnQixXQUFXLENBQ3pCLE1BQW1CLEVBQ25CLE1BQWUsRUFDZixLQUFjO0lBRWQsbUJBQW1CO0lBQ25CLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsd0JBQXdCLE1BQU0sV0FBVyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVELDhDQUE4QztJQUM5QyxPQUFRLE1BQU0sRUFBRTtRQUNkLEtBQUssV0FBVztZQUNkLE9BQU8sSUFBSSw2QkFBaUIsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXRELEtBQUssVUFBVTtZQUNiLE9BQU8sSUFBSSwyQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXJELEtBQUssU0FBUztZQUNaLE9BQU8sSUFBSSx5QkFBZSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFcEQsS0FBSyxLQUFLO1lBQ1IsT0FBTyxJQUFJLGlCQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUVoRDtZQUNFLE1BQU0sSUFBSSxLQUFLLENBQUMsNkJBQTZCLE1BQU0sRUFBRSxDQUFDLENBQUM7SUFDM0QsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGVpcnJhemEvYWtoYWkvc3JjL3Byb3ZpZGVycy9pbmRleC50cyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/providers/index.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/providers/mistral.js":
/*!*****************************************!*\
  !*** ../core/dist/providers/mistral.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.MistralProvider = void 0;\nconst base_js_1 = __webpack_require__(/*! ./base.js */ \"(rsc)/../core/dist/providers/base.js\");\nclass MistralProvider extends base_js_1.BaseProvider {\n    getDefaultModel() {\n        return 'mistral-small-latest';\n    }\n    async callAPI(request) {\n        const messages = this.buildMessages(request);\n        const mistralRequest = {\n            model: this.model,\n            messages: messages,\n            max_tokens: request.maxTokens || 4096,\n            temperature: request.temperature ?? 0.7\n        };\n        console.log(`[Mistral] Calling API with ${messages.length} messages`);\n        const response = await fetch(this.endpoint, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${this.apiKey}`\n            },\n            body: JSON.stringify(mistralRequest)\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            throw new Error(`Mistral API error (${response.status}): ${errorText}`);\n        }\n        const data = await response.json();\n        // Extract content from first choice\n        const content = data.choices[0]?.message?.content || '';\n        return {\n            content,\n            usage: {\n                inputTokens: data.usage.prompt_tokens,\n                outputTokens: data.usage.completion_tokens\n            },\n            model: data.model,\n            family: 'mistral'\n        };\n    }\n    constructor(...args){\n        super(...args), this.endpoint = 'https://api.mistral.ai/v1/chat/completions';\n    }\n}\nexports.MistralProvider = MistralProvider; //# sourceMappingURL=mistral.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L3Byb3ZpZGVycy9taXN0cmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsK0ZBQXlDO01BbUM1QixlQUFnQixTQUFRLHNCQUFZO0lBR3JDLGVBQWU7UUFDdkIsT0FBTyxzQkFBc0IsQ0FBQztJQUNoQyxDQUFDO0lBRVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUEwQjtRQUNoRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTdDLE1BQU0sY0FBYyxHQUFtQjtZQUNyQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsUUFBUSxFQUFFLFFBQTRCO1lBQ3RDLFVBQVUsRUFBRSxPQUFPLENBQUMsU0FBUyxJQUFJLElBQUk7WUFDckMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxXQUFXLElBQUksR0FBRztTQUN4QyxDQUFDO1FBRUYsT0FBTyxDQUFDLEdBQUcsQ0FBQyw4QkFBOEIsUUFBUSxDQUFDLE1BQU0sV0FBVyxDQUFDLENBQUM7UUFFdEUsTUFBTSxRQUFRLEdBQUcsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUMxQyxNQUFNLEVBQUUsTUFBTTtZQUNkLE9BQU8sRUFBRTtnQkFDUCxjQUFjLEVBQUUsa0JBQWtCO2dCQUNsQyxlQUFlLEVBQUUsVUFBVSxJQUFJLENBQUMsTUFBTSxFQUFFO2FBQ3pDO1lBQ0QsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDO1NBQ3JDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDakIsTUFBTSxTQUFTLEdBQUcsTUFBTSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDeEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQkFBc0IsUUFBUSxDQUFDLE1BQU0sTUFBTSxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQzFFLENBQUM7UUFFRCxNQUFNLElBQUksR0FBRyxNQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQXFCLENBQUM7UUFFdEQsb0NBQW9DO1FBQ3BDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFFeEQsT0FBTztZQUNMLE9BQU87WUFDUCxLQUFLLEVBQUU7Z0JBQ0wsV0FBVyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYTtnQkFDckMsWUFBWSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCO2FBQzNDO1lBQ0QsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLE1BQU0sRUFBRSxTQUFTO1NBQ2xCLENBQUM7SUFDSixDQUFDOztRQS9DSCxxQkFDVSxRQUFRLEdBQUcsNENBQTRDLENBQUM7O0NBK0NqRTtBQWhERCwwQ0FnREMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGVpcnJhemEvYWtoYWkvc3JjL3Byb3ZpZGVycy9taXN0cmFsLnRzIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/providers/mistral.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/providers/xai.js":
/*!*************************************!*\
  !*** ../core/dist/providers/xai.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.XAIProvider = void 0;\nconst base_1 = __webpack_require__(/*! ./base */ \"(rsc)/../core/dist/providers/base.js\");\nclass XAIProvider extends base_1.BaseProvider {\n    getDefaultModel() {\n        return 'grok-3';\n    }\n    async callAPI(request) {\n        const messages = this.buildMessages(request);\n        const xaiRequest = {\n            model: this.model,\n            messages: messages,\n            max_tokens: request.maxTokens || 4096,\n            temperature: request.temperature ?? 1.0\n        };\n        console.log(`[xAI] Calling API with ${messages.length} messages`);\n        const response = await fetch(this.endpoint, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${this.apiKey}`\n            },\n            body: JSON.stringify(xaiRequest)\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            throw new Error(`xAI API error (${response.status}): ${errorText}`);\n        }\n        const data = await response.json();\n        // Extract content from first choice\n        const content = data.choices[0]?.message?.content || '';\n        return {\n            content,\n            usage: {\n                inputTokens: data.usage.prompt_tokens,\n                outputTokens: data.usage.completion_tokens\n            },\n            model: data.model,\n            family: 'xai'\n        };\n    }\n    constructor(...args){\n        super(...args), this.endpoint = 'https://api.x.ai/v1/chat/completions';\n    }\n}\nexports.XAIProvider = XAIProvider; //# sourceMappingURL=xai.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L3Byb3ZpZGVycy94YWkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSx5RkFBc0M7TUFtQ3pCLFdBQVksU0FBUSxtQkFBWTtJQUdqQyxlQUFlO1FBQ3ZCLE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFFUyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQTBCO1FBQ2hELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFN0MsTUFBTSxVQUFVLEdBQTRCO1lBQzFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztZQUNqQixRQUFRLEVBQUUsUUFBcUM7WUFDL0MsVUFBVSxFQUFFLE9BQU8sQ0FBQyxTQUFTLElBQUksSUFBSTtZQUNyQyxXQUFXLEVBQUUsT0FBTyxDQUFDLFdBQVcsSUFBSSxHQUFHO1NBQ3hDLENBQUM7UUFFRixPQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixRQUFRLENBQUMsTUFBTSxXQUFXLENBQUMsQ0FBQztRQUVsRSxNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQzFDLE1BQU0sRUFBRSxNQUFNO1lBQ2QsT0FBTyxFQUFFO2dCQUNQLGNBQWMsRUFBRSxrQkFBa0I7Z0JBQ2xDLGVBQWUsRUFBRSxVQUFVLElBQUksQ0FBQyxNQUFNLEVBQUU7YUFDekM7WUFDRCxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUM7U0FDakMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUNqQixNQUFNLFNBQVMsR0FBRyxNQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUN4QyxNQUFNLElBQUksS0FBSyxDQUFDLGtCQUFrQixRQUFRLENBQUMsTUFBTSxNQUFNLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDdEUsQ0FBQztRQUVELE1BQU0sSUFBSSxHQUFHLE1BQU0sUUFBUSxDQUFDLElBQUksRUFBOEIsQ0FBQztRQUUvRCxvQ0FBb0M7UUFDcEMsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsT0FBTyxJQUFJLEVBQUUsQ0FBQztRQUV4RCxPQUFPO1lBQ0wsT0FBTztZQUNQLEtBQUssRUFBRTtnQkFDTCxXQUFXLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhO2dCQUNyQyxZQUFZLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUI7YUFDM0M7WUFDRCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsTUFBTSxFQUFFLEtBQUs7U0FDZCxDQUFDO0lBQ0osQ0FBQzs7UUEvQ0gscUJBQ1UsUUFBUSxHQUFHLHNDQUFzQyxDQUFDOztDQStDM0Q7QUFoREQsa0NBZ0RDIiwic291cmNlcyI6WyIvVXNlcnMvc2hlaXJyYXphL2FraGFpL3NyYy9wcm92aWRlcnMveGFpLnRzIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/providers/xai.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/tools/WebSearch.js":
/*!***************************************!*\
  !*** ../core/dist/tools/WebSearch.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * WebSearch - Brave Search API Integration\n *\n * Provides live web search capabilities to AkhAI for up-to-date information.\n */ Object.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.WebSearch = void 0;\nclass WebSearch {\n    constructor(apiKey){\n        this.endpoint = 'https://api.search.brave.com/res/v1/web/search';\n        this.apiKey = apiKey;\n    }\n    /**\n     * Search the web using Brave Search API\n     *\n     * @param query - Search query\n     * @param count - Number of results to return (default: 5)\n     * @returns Array of search results\n     */ async search(query, count = 5) {\n        try {\n            const response = await fetch(`${this.endpoint}?q=${encodeURIComponent(query)}&count=${count}`, {\n                headers: {\n                    'X-Subscription-Token': this.apiKey,\n                    'Accept': 'application/json'\n                }\n            });\n            if (!response.ok) {\n                throw new Error(`Brave Search API error: ${response.status} ${response.statusText}`);\n            }\n            const data = await response.json();\n            return data.web?.results?.map((r)=>({\n                    title: r.title,\n                    url: r.url,\n                    description: r.description,\n                    published: r.age\n                })) || [];\n        } catch (error) {\n            console.error('WebSearch error:', error);\n            throw error;\n        }\n    }\n    /**\n     * Format search results for inclusion in AI context\n     *\n     * @param results - Array of search results\n     * @returns Formatted string for AI consumption\n     */ formatForContext(results) {\n        if (results.length === 0) {\n            return 'No search results found.';\n        }\n        return results.map((r, i)=>`[${i + 1}] ${r.title}\\n    URL: ${r.url}\\n    ${r.description}${r.published ? ` (${r.published})` : ''}`).join('\\n\\n');\n    }\n}\nexports.WebSearch = WebSearch; //# sourceMappingURL=WebSearch.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L3Rvb2xzL1dlYlNlYXJjaC5qcyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7R0FJRzs7OztBQVNILE1BQWEsU0FBUztJQUlwQixZQUFZLE1BQWM7YUFGbEIsUUFBUSxHQUFHLGdEQUFnRCxDQUFDO1FBR2xFLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7Ozs7O09BTUcsQ0FDSCxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQWEsRUFBRSxRQUFnQixDQUFDO1FBQzNDLElBQUksQ0FBQztZQUNILE1BQU0sUUFBUSxHQUFHLE1BQU0sS0FBSyxDQUMxQixHQUFHLElBQUksQ0FBQyxRQUFRLE1BQU0sa0JBQWtCLENBQUMsS0FBSyxDQUFDLFVBQVUsS0FBSyxFQUFFLEVBQ2hFO2dCQUNFLE9BQU8sRUFBRTtvQkFDUCxzQkFBc0IsRUFBRSxJQUFJLENBQUMsTUFBTTtvQkFDbkMsUUFBUSxFQUFFLGtCQUFrQjtpQkFDN0I7YUFDRixDQUNGLENBQUM7WUFFRixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUNqQixNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixRQUFRLENBQUMsTUFBTSxJQUFJLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZGLENBQUM7WUFFRCxNQUFNLElBQUksR0FBRyxNQUFPLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBUTtZQUUzQyxPQUFPLElBQ0QsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQU0sRUFBRSxFQUFFLENBQUM7b0JBQ2pDLEtBQUssRUFBRSxDQUFDLENBQUMsS0FBSztvQkFDZCxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUc7b0JBQ1YsV0FBVyxFQUFFLENBQUMsQ0FBQyxXQUFXO29CQUMxQixTQUFTLEVBQUUsQ0FBQyxDQUFDLEdBQUc7a0JBQ2pCLENBQUMsQ0FBQyxHQUFJLEVBQUUsQ0FDVjtRQUNILENBQUMsQ0FBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUN6QyxNQUFNLEtBQUssQ0FBQztRQUNkLENBQUM7SUFDSCxDQUFDO0lBRUQ7Ozs7O09BS0csQ0FDSCxnQkFBZ0IsQ0FBQyxPQUF1QjtRQUN0QyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDekIsT0FBTywwQkFBMEIsQ0FBQztRQUNwQyxDQUFDO1FBRUQsT0FBTyxPQUFPLENBQ1gsR0FBRyxDQUNGLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUNMLENBRE8sQ0FDUCxFQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssY0FBYyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxXQUFXLEdBQzVELENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUN0QyxFQUFFLENBQ0wsQ0FDQSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEIsQ0FBQztDQUNGO0FBbkVELDhCQW1FQyIsInNvdXJjZXMiOlsiL1VzZXJzL3NoZWlycmF6YS9ha2hhaS9zcmMvdG9vbHMvV2ViU2VhcmNoLnRzIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/tools/WebSearch.js\n");

/***/ }),

/***/ "(rsc)/../core/dist/utils/CostTracker.js":
/*!*****************************************!*\
  !*** ../core/dist/utils/CostTracker.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.CostTracker = void 0;\n/**\n * Pricing information per 1M tokens (input/output)\n * Pricing as of December 2024\n */ const PRICING = {\n    anthropic: {\n        input: 3.0,\n        output: 15.0\n    },\n    deepseek: {\n        input: 0.14,\n        output: 0.28\n    },\n    mistral: {\n        input: 0.2,\n        output: 0.6\n    },\n    xai: {\n        input: 5.0,\n        output: 15.0\n    }\n};\n/**\n * Cost tracking for AkhAI API usage\n *\n * Tracks token usage and calculates costs across all providers.\n */ class CostTracker {\n    /**\n     * Add usage from an API call\n     */ addUsage(family, model, inputTokens, outputTokens) {\n        const pricing = PRICING[family];\n        // Calculate cost: (tokens / 1M) * price_per_1M\n        const inputCost = inputTokens / 1000000 * pricing.input;\n        const outputCost = outputTokens / 1000000 * pricing.output;\n        const totalCost = inputCost + outputCost;\n        const record = {\n            family,\n            model,\n            inputTokens,\n            outputTokens,\n            cost: totalCost,\n            timestamp: Date.now()\n        };\n        this.usageHistory.push(record);\n        console.log(`[CostTracker] ${family}/${model}: ${inputTokens} in + ${outputTokens} out = $${totalCost.toFixed(6)}`);\n    }\n    /**\n     * Get total cost across all providers\n     */ getTotalCost() {\n        return this.usageHistory.reduce((sum, record)=>sum + record.cost, 0);\n    }\n    /**\n     * Get usage summary grouped by provider\n     */ getUsageByProvider() {\n        const usageMap = new Map();\n        for (const record of this.usageHistory){\n            let usage = usageMap.get(record.family);\n            if (!usage) {\n                usage = {\n                    family: record.family,\n                    totalInputTokens: 0,\n                    totalOutputTokens: 0,\n                    totalCost: 0,\n                    requestCount: 0\n                };\n                usageMap.set(record.family, usage);\n            }\n            usage.totalInputTokens += record.inputTokens;\n            usage.totalOutputTokens += record.outputTokens;\n            usage.totalCost += record.cost;\n            usage.requestCount += 1;\n        }\n        return usageMap;\n    }\n    /**\n     * Get total token count\n     */ getTotalTokens() {\n        const input = this.usageHistory.reduce((sum, r)=>sum + r.inputTokens, 0);\n        const output = this.usageHistory.reduce((sum, r)=>sum + r.outputTokens, 0);\n        return {\n            input,\n            output,\n            total: input + output\n        };\n    }\n    /**\n     * Get all usage records\n     */ getHistory() {\n        return [\n            ...this.usageHistory\n        ];\n    }\n    /**\n     * Reset all usage data\n     */ reset() {\n        this.usageHistory = [];\n        console.log('[CostTracker] Usage history cleared');\n    }\n    /**\n     * Get formatted cost report\n     */ getReport() {\n        const providerUsage = this.getUsageByProvider();\n        const totalTokens = this.getTotalTokens();\n        const totalCost = this.getTotalCost();\n        let report = '## Cost Tracking Report\\n\\n';\n        // Overall summary\n        report += '### Overall Summary\\n';\n        report += `- **Total Requests**: ${this.usageHistory.length}\\n`;\n        report += `- **Total Tokens**: ${totalTokens.total.toLocaleString()} (${totalTokens.input.toLocaleString()} in + ${totalTokens.output.toLocaleString()} out)\\n`;\n        report += `- **Total Cost**: $${totalCost.toFixed(4)}\\n\\n`;\n        // By provider\n        if (providerUsage.size > 0) {\n            report += '### By Provider\\n\\n';\n            for (const [family, usage] of providerUsage){\n                report += `**${family}**:\\n`;\n                report += `  - Requests: ${usage.requestCount}\\n`;\n                report += `  - Tokens: ${(usage.totalInputTokens + usage.totalOutputTokens).toLocaleString()} (${usage.totalInputTokens.toLocaleString()} in + ${usage.totalOutputTokens.toLocaleString()} out)\\n`;\n                report += `  - Cost: $${usage.totalCost.toFixed(4)}\\n\\n`;\n            }\n        }\n        return report;\n    }\n    constructor(){\n        this.usageHistory = [];\n    }\n}\nexports.CostTracker = CostTracker; //# sourceMappingURL=CostTracker.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vY29yZS9kaXN0L3V0aWxzL0Nvc3RUcmFja2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRUE7OztHQUdHLENBQ0gsTUFBTSxPQUFPLEdBQTJEO0lBQ3RFLFNBQVMsRUFBRTtRQUFFLEtBQUssRUFBRSxHQUFHO1FBQUUsTUFBTSxFQUFFLElBQUk7SUFBQSxDQUFFO0lBQ3ZDLFFBQVEsRUFBRTtRQUFFLEtBQUssRUFBRSxJQUFJO1FBQUUsTUFBTSxFQUFFLElBQUk7SUFBQSxDQUFFO0lBQ3ZDLE9BQU8sRUFBRTtRQUFFLEtBQUssRUFBRSxHQUFHO1FBQUUsTUFBTSxFQUFFLEdBQUc7SUFBQSxDQUFFO0lBQ3BDLEdBQUcsRUFBRTtRQUFFLEtBQUssRUFBRSxHQUFHO1FBQUUsTUFBTSxFQUFFLElBQUk7SUFBQSxDQUFFO0NBQ2xDLENBQUM7QUF5QkY7Ozs7R0FJRyxDQUNILE1BQWEsV0FBVztJQUd0Qjs7T0FFRyxDQUNILFFBQVEsQ0FDTixNQUFtQixFQUNuQixLQUFhLEVBQ2IsV0FBbUIsRUFDbkIsWUFBb0I7UUFFcEIsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRWhDLCtDQUErQztRQUMvQyxNQUFNLFNBQVMsR0FBRyxXQUFZLEdBQUcsU0FBUyxDQUFDLE9BQVUsQ0FBQyxLQUFLLENBQUM7UUFDNUQsTUFBTSxVQUFVLEdBQUcsWUFBYSxHQUFHLFNBQVMsQ0FBQyxPQUFVLENBQUMsTUFBTSxDQUFDO1FBQy9ELE1BQU0sU0FBUyxHQUFHLFNBQVMsR0FBRyxVQUFVLENBQUM7UUFFekMsTUFBTSxNQUFNLEdBQWdCO1lBQzFCLE1BQU07WUFDTixLQUFLO1lBQ0wsV0FBVztZQUNYLFlBQVk7WUFDWixJQUFJLEVBQUUsU0FBUztZQUNmLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFO1NBQ3RCLENBQUM7UUFFRixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUUvQixPQUFPLENBQUMsR0FBRyxDQUNULGlCQUFpQixNQUFNLElBQUksS0FBSyxLQUFLLFdBQVcsU0FBUyxZQUFZLFdBQVcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUN2RyxDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHLENBQ0gsWUFBWTtRQUNWLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUcsQ0FBRCxFQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBRUQ7O09BRUcsQ0FDSCxrQkFBa0I7UUFDaEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxHQUFHLEVBQThCLENBQUM7UUFFdkQsS0FBSyxNQUFNLE1BQU0sSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFFLENBQUM7WUFDdkMsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFeEMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUNYLEtBQUssR0FBRztvQkFDTixNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU07b0JBQ3JCLGdCQUFnQixFQUFFLENBQUM7b0JBQ25CLGlCQUFpQixFQUFFLENBQUM7b0JBQ3BCLFNBQVMsRUFBRSxDQUFDO29CQUNaLFlBQVksRUFBRSxDQUFDO2lCQUNoQixDQUFDO2dCQUNGLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNyQyxDQUFDO1lBRUQsS0FBSyxDQUFDLGdCQUFnQixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUM7WUFDN0MsS0FBSyxDQUFDLGlCQUFpQixJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUM7WUFDL0MsS0FBSyxDQUFDLFNBQVMsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDO1lBQy9CLEtBQUssQ0FBQyxZQUFZLElBQUksQ0FBQyxDQUFDO1FBQzFCLENBQUM7UUFFRCxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0lBRUQ7O09BRUcsQ0FDSCxjQUFjO1FBQ1osTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUcsQ0FBRCxFQUFJLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMzRSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBRyxDQUFELEVBQUksR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTdFLE9BQU87WUFDTCxLQUFLO1lBQ0wsTUFBTTtZQUNOLEtBQUssRUFBRSxLQUFLLEdBQUcsTUFBTTtTQUN0QixDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHLENBQ0gsVUFBVTtRQUNSLE9BQU8sQ0FBQztlQUFHLElBQUksQ0FBQyxZQUFZO1NBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRUQ7O09BRUcsQ0FDSCxLQUFLO1FBQ0gsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7UUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFRDs7T0FFRyxDQUNILFNBQVM7UUFDUCxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUNoRCxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDMUMsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBRXRDLElBQUksTUFBTSxHQUFHLDZCQUE2QixDQUFDO1FBRTNDLGtCQUFrQjtRQUNsQixNQUFNLElBQUksdUJBQXVCLENBQUM7UUFDbEMsTUFBTSxJQUFJLHlCQUF5QixJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sSUFBSSxDQUFDO1FBQ2hFLE1BQU0sSUFBSSx1QkFBdUIsV0FBVyxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsS0FBSyxXQUFXLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxTQUFTLFdBQVcsQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQztRQUNoSyxNQUFNLElBQUksc0JBQXNCLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUUzRCxjQUFjO1FBQ2QsSUFBSSxhQUFhLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzNCLE1BQU0sSUFBSSxxQkFBcUIsQ0FBQztZQUVoQyxLQUFLLE1BQU0sQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLElBQUksYUFBYSxDQUFFLENBQUM7Z0JBQzVDLE1BQU0sSUFBSSxLQUFLLE1BQU0sT0FBTyxDQUFDO2dCQUM3QixNQUFNLElBQUksaUJBQWlCLEtBQUssQ0FBQyxZQUFZLElBQUksQ0FBQztnQkFDbEQsTUFBTSxJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLGtCQUFrQixDQUFDLGNBQWMsRUFBRSxLQUFLLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUUsU0FBUyxLQUFLLENBQUMsaUJBQWlCLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQztnQkFDbk0sTUFBTSxJQUFJLGNBQWMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztZQUMzRCxDQUFDO1FBQ0gsQ0FBQztRQUVELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7O2FBaElPLFlBQVksR0FBa0IsRUFBRSxDQUFDOztDQWlJMUM7QUFsSUQsa0NBa0lDIiwic291cmNlcyI6WyIvVXNlcnMvc2hlaXJyYXphL2FraGFpL3NyYy91dGlscy9Db3N0VHJhY2tlci50cyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../core/dist/utils/CostTracker.js\n");

/***/ }),

/***/ "(rsc)/./app/api/query/route.ts":
/*!********************************!*\
  !*** ./app/api/query/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/api/server.js\");\n/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! nanoid */ \"(rsc)/../../node_modules/.pnpm/nanoid@5.1.6/node_modules/nanoid/index.js\");\n/* harmony import */ var _lib_query_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/query-store */ \"(rsc)/./lib/query-store.ts\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./lib/database.ts\");\n/* harmony import */ var _lib_akhai_executor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/akhai-executor */ \"(rsc)/./lib/akhai-executor.ts\");\n\n\n\n\n\nasync function POST(request) {\n    try {\n        const { query, flow, methodology } = await request.json();\n        console.log('=== QUERY RECEIVED ===', {\n            query: query.substring(0, 50),\n            methodology,\n            flow\n        });\n        if (!query || typeof query !== 'string') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Query is required'\n            }, {\n                status: 400\n            });\n        }\n        const queryId = (0,nanoid__WEBPACK_IMPORTED_MODULE_4__.nanoid)(10);\n        // Create query in database and memory\n        // For backward compatibility, flow can still be 'A' or 'B', or use methodology\n        const flowType = methodology || flow || 'A';\n        (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.createQueryRecord)(queryId, query, flowType);\n        // Start processing in background with real AkhAI integration\n        processQuery(queryId, flowType).catch((error)=>{\n            console.error('Query processing error:', error);\n            const errorMessage = error.message || 'Unknown error occurred';\n            (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.updateQueryStatus)(queryId, 'error', undefined, errorMessage);\n            (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.addQueryEvent)(queryId, 'error', {\n                message: errorMessage\n            });\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            queryId\n        });\n    } catch (error) {\n        console.error('API error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function processQuery(queryId, flowType) {\n    console.log('=== PROCESS QUERY CALLED ===', {\n        queryId,\n        flowType\n    });\n    const queryData = _lib_query_store__WEBPACK_IMPORTED_MODULE_1__.queries.get(queryId);\n    if (!queryData) return;\n    // BYPASS TEST: Direct provider call for 'direct' methodology\n    if (flowType === 'direct') {\n        console.log('=== DIRECT TEST BYPASS ===');\n        try {\n            const { createProviderFromFamily } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @akhai/core */ \"(rsc)/../core/dist/index.js\"));\n            const provider = createProviderFromFamily('anthropic', {\n                anthropic: process.env.ANTHROPIC_API_KEY,\n                deepseek: process.env.DEEPSEEK_API_KEY,\n                xai: process.env.XAI_API_KEY,\n                mistral: process.env.MISTRAL_API_KEY\n            });\n            console.log('=== PROVIDER CREATED, CALLING COMPLETE ===');\n            const response = await provider.complete({\n                messages: [\n                    {\n                        role: 'user',\n                        content: queryData.query\n                    }\n                ],\n                systemPrompt: 'Be helpful and concise.'\n            });\n            console.log('=== DIRECT SUCCESS ===', response.content.substring(0, 100));\n            (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.updateQueryStatus)(queryId, 'complete', {\n                finalAnswer: response.content\n            });\n            (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.addQueryEvent)(queryId, 'complete', {\n                totalCost: 0.001,\n                totalTokens: {\n                    input: 0,\n                    output: 0,\n                    total: 0\n                }\n            });\n            return;\n        } catch (err) {\n            console.error('=== DIRECT FAILED ===', err);\n            throw err;\n        }\n    }\n    // Validate API keys before starting\n    const missingKeys = [];\n    if (!process.env.ANTHROPIC_API_KEY) missingKeys.push('Anthropic (Mother Base)');\n    if (!process.env.DEEPSEEK_API_KEY) missingKeys.push('DeepSeek');\n    if (!process.env.XAI_API_KEY) missingKeys.push('xAI (Grok)');\n    if (!process.env.MISTRAL_API_KEY) missingKeys.push('Mistral');\n    if (missingKeys.length > 0) {\n        const errorMessage = `Missing API keys: ${missingKeys.join(', ')}. Please configure them in Settings.`;\n        (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.updateQueryStatus)(queryId, 'error', undefined, errorMessage);\n        (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.addQueryEvent)(queryId, 'error', {\n            message: errorMessage,\n            hint: 'Add your API keys in the Settings page to enable query execution.'\n        });\n        return;\n    }\n    (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.updateQueryStatus)(queryId, 'processing');\n    try {\n        // Configuration (can be made dynamic later)\n        const motherBaseFamily = 'anthropic';\n        const slot1Family = 'deepseek';\n        const slot2Family = 'xai';\n        // Execute the appropriate flow/methodology\n        let result;\n        console.log(`[Query Route] Executing methodology: ${flowType} for query: ${queryId}`);\n        if (flowType === 'gtp') {\n            // GTP (Generative Thoughts Process) - parallel Flash architecture\n            console.log(`[Query Route] Using GTP executor`);\n            const gtpResult = await (0,_lib_akhai_executor__WEBPACK_IMPORTED_MODULE_3__.executeGTPWithEvents)(queryId, queryData.query, motherBaseFamily, slot1Family, slot2Family);\n            // Format GTP result to match existing result structure\n            result = {\n                finalAnswer: gtpResult.result.synthesis.content,\n                costReport: gtpResult.costReport,\n                methodology: 'gtp'\n            };\n        } else if (flowType === 'direct') {\n            // Direct: Single AI response for simple factual questions\n            // Map to Flow A (Mother Base direct response)\n            console.log(`[Query Route] Using Direct methodology (Flow A)`);\n            result = await (0,_lib_akhai_executor__WEBPACK_IMPORTED_MODULE_3__.executeFlowAWithEvents)(queryId, queryData.query, motherBaseFamily, slot1Family, slot2Family);\n            result.methodology = 'direct';\n        } else if (flowType === 'cot') {\n            // Chain of Thought: Step-by-step reasoning\n            // Map to Flow B with explicit CoT instructions\n            console.log(`[Query Route] Using Chain of Thought methodology (Flow B)`);\n            result = await (0,_lib_akhai_executor__WEBPACK_IMPORTED_MODULE_3__.executeFlowBWithEvents)(queryId, queryData.query, 'ResearchAgent', motherBaseFamily, slot1Family, slot2Family);\n            result.methodology = 'cot';\n        } else if (flowType === 'aot') {\n            // Atom of Thoughts: Decompose  solve  contract\n            // Map to Flow B with decomposition strategy\n            console.log(`[Query Route] Using Atom of Thoughts methodology (Flow B)`);\n            result = await (0,_lib_akhai_executor__WEBPACK_IMPORTED_MODULE_3__.executeFlowBWithEvents)(queryId, queryData.query, 'ResearchAgent', motherBaseFamily, slot1Family, slot2Family);\n            result.methodology = 'aot';\n        } else if (flowType === 'auto') {\n            // Auto: Smart methodology selection based on query analysis\n            // Default to Flow A for now\n            console.log(`[Query Route] Using Auto methodology (Flow A)`);\n            result = await (0,_lib_akhai_executor__WEBPACK_IMPORTED_MODULE_3__.executeFlowAWithEvents)(queryId, queryData.query, motherBaseFamily, slot1Family, slot2Family);\n            result.methodology = 'auto';\n        } else if (queryData.flow === 'A' || flowType === 'A') {\n            // Flow A: Mother Base Decision (backward compatibility)\n            console.log(`[Query Route] Using Flow A`);\n            result = await (0,_lib_akhai_executor__WEBPACK_IMPORTED_MODULE_3__.executeFlowAWithEvents)(queryId, queryData.query, motherBaseFamily, slot1Family, slot2Family);\n        } else {\n            // Flow B: Sub-Agent Execution (backward compatibility)\n            console.log(`[Query Route] Using Flow B`);\n            result = await (0,_lib_akhai_executor__WEBPACK_IMPORTED_MODULE_3__.executeFlowBWithEvents)(queryId, queryData.query, 'ResearchAgent', motherBaseFamily, slot1Family, slot2Family);\n        }\n        // Save token usage to database\n        if (result.costReport && result.costReport.providerUsage) {\n            for (const usage of result.costReport.providerUsage){\n                // Get model name based on family\n                let modelName = 'unknown';\n                switch(usage.family){\n                    case 'anthropic':\n                        modelName = 'claude-sonnet-4-20250514';\n                        break;\n                    case 'deepseek':\n                        modelName = 'deepseek-chat';\n                        break;\n                    case 'xai':\n                        modelName = 'grok-3';\n                        break;\n                    case 'mistral':\n                        modelName = 'mistral-small-latest';\n                        break;\n                }\n                (0,_lib_database__WEBPACK_IMPORTED_MODULE_2__.trackUsage)(usage.family, modelName, usage.totalInputTokens, usage.totalOutputTokens, usage.totalCost);\n            }\n        }\n        // Update query status with token and cost data\n        const totalTokens = result.costReport?.totalTokens?.total || 0;\n        const totalCost = result.costReport?.totalCost || 0;\n        (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.updateQueryStatus)(queryId, 'complete', result);\n        // Also update tokens_used and cost in database\n        (0,_lib_database__WEBPACK_IMPORTED_MODULE_2__.updateQuery)(queryId, {\n            tokens_used: totalTokens,\n            cost: totalCost\n        });\n        // Emit completion event\n        (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.addQueryEvent)(queryId, 'complete', {\n            totalCost,\n            totalTokens: result.costReport?.totalTokens || 0\n        });\n    } catch (error) {\n        console.error('AkhAI execution error:', error);\n        let errorMessage = 'An unexpected error occurred';\n        let hint = '';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n            // Provide helpful hints based on error type\n            if (errorMessage.includes('API key')) {\n                hint = 'Check that your API keys are correctly configured in Settings.';\n            } else if (errorMessage.includes('timeout') || errorMessage.includes('ETIMEDOUT')) {\n                hint = 'The AI provider took too long to respond. Please try again.';\n            } else if (errorMessage.includes('rate limit')) {\n                hint = 'You have exceeded the API rate limit. Please wait a few minutes and try again.';\n            } else if (errorMessage.includes('network') || errorMessage.includes('ENOTFOUND')) {\n                hint = 'Network error. Please check your internet connection.';\n            } else {\n                hint = 'Please try again or contact support if the problem persists.';\n            }\n        }\n        (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.updateQueryStatus)(queryId, 'error', undefined, errorMessage);\n        (0,_lib_query_store__WEBPACK_IMPORTED_MODULE_1__.addQueryEvent)(queryId, 'error', {\n            message: errorMessage,\n            hint: hint || 'Please try again later.'\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtRQUNSO1FBRUEsd0JBQXdCO1FBQ3hCL0MsK0RBQWFBLENBQUNtQixTQUFTLFlBQVk7WUFDakM0QjtZQUNBQyxhQUFhYSxPQUFPRyxVQUFVLEVBQUVoQixlQUFlO1FBQ2pEO0lBQ0YsRUFBRSxPQUFPL0IsT0FBTztRQUNkSCxRQUFRRyxLQUFLLENBQUMsMEJBQTBCQTtRQUN4QyxJQUFJTSxlQUFlO1FBQ25CLElBQUlrQyxPQUFPO1FBRVgsSUFBSXhDLGlCQUFpQndELE9BQU87WUFDMUJsRCxlQUFlTixNQUFNTyxPQUFPO1lBRTVCLDRDQUE0QztZQUM1QyxJQUFJRCxhQUFhbUQsUUFBUSxDQUFDLFlBQVk7Z0JBQ3BDakIsT0FBTztZQUNULE9BQU8sSUFBSWxDLGFBQWFtRCxRQUFRLENBQUMsY0FBY25ELGFBQWFtRCxRQUFRLENBQUMsY0FBYztnQkFDakZqQixPQUFPO1lBQ1QsT0FBTyxJQUFJbEMsYUFBYW1ELFFBQVEsQ0FBQyxlQUFlO2dCQUM5Q2pCLE9BQU87WUFDVCxPQUFPLElBQUlsQyxhQUFhbUQsUUFBUSxDQUFDLGNBQWNuRCxhQUFhbUQsUUFBUSxDQUFDLGNBQWM7Z0JBQ2pGakIsT0FBTztZQUNULE9BQU87Z0JBQ0xBLE9BQU87WUFDVDtRQUNGO1FBRUF2RCxtRUFBaUJBLENBQUNpQixTQUFTLFNBQVNNLFdBQVdGO1FBQy9DdkIsK0RBQWFBLENBQUNtQixTQUFTLFNBQVM7WUFDOUJLLFNBQVNEO1lBQ1RrQyxNQUFNQSxRQUFRO1FBQ2hCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3NoZWlycmF6YS9ha2hhaS9wYWNrYWdlcy93ZWIvYXBwL2FwaS9xdWVyeS9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSAnbmFub2lkJztcbmltcG9ydCB7XG4gIHF1ZXJpZXMsXG4gIGFkZFF1ZXJ5RXZlbnQsXG4gIGNyZWF0ZVF1ZXJ5UmVjb3JkLFxuICB1cGRhdGVRdWVyeVN0YXR1cyxcbn0gZnJvbSAnQC9saWIvcXVlcnktc3RvcmUnO1xuaW1wb3J0IHsgdHJhY2tVc2FnZSwgdXBkYXRlUXVlcnkgfSBmcm9tICdAL2xpYi9kYXRhYmFzZSc7XG5pbXBvcnQgeyBleGVjdXRlRmxvd0FXaXRoRXZlbnRzLCBleGVjdXRlRmxvd0JXaXRoRXZlbnRzLCBleGVjdXRlR1RQV2l0aEV2ZW50cyB9IGZyb20gJ0AvbGliL2FraGFpLWV4ZWN1dG9yJztcbmltcG9ydCB0eXBlIHsgTW9kZWxGYW1pbHkgfSBmcm9tICdAYWtoYWkvY29yZSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBxdWVyeSwgZmxvdywgbWV0aG9kb2xvZ3kgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuXG4gICAgY29uc29sZS5sb2coJz09PSBRVUVSWSBSRUNFSVZFRCA9PT0nLCB7IHF1ZXJ5OiBxdWVyeS5zdWJzdHJpbmcoMCwgNTApLCBtZXRob2RvbG9neSwgZmxvdyB9KTtcblxuICAgIGlmICghcXVlcnkgfHwgdHlwZW9mIHF1ZXJ5ICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnUXVlcnkgaXMgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBxdWVyeUlkID0gbmFub2lkKDEwKTtcblxuICAgIC8vIENyZWF0ZSBxdWVyeSBpbiBkYXRhYmFzZSBhbmQgbWVtb3J5XG4gICAgLy8gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGZsb3cgY2FuIHN0aWxsIGJlICdBJyBvciAnQicsIG9yIHVzZSBtZXRob2RvbG9neVxuICAgIGNvbnN0IGZsb3dUeXBlID0gbWV0aG9kb2xvZ3kgfHwgZmxvdyB8fCAnQSc7XG4gICAgY3JlYXRlUXVlcnlSZWNvcmQocXVlcnlJZCwgcXVlcnksIGZsb3dUeXBlKTtcblxuICAgIC8vIFN0YXJ0IHByb2Nlc3NpbmcgaW4gYmFja2dyb3VuZCB3aXRoIHJlYWwgQWtoQUkgaW50ZWdyYXRpb25cbiAgICBwcm9jZXNzUXVlcnkocXVlcnlJZCwgZmxvd1R5cGUpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignUXVlcnkgcHJvY2Vzc2luZyBlcnJvcjonLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yIG9jY3VycmVkJztcbiAgICAgIHVwZGF0ZVF1ZXJ5U3RhdHVzKHF1ZXJ5SWQsICdlcnJvcicsIHVuZGVmaW5lZCwgZXJyb3JNZXNzYWdlKTtcbiAgICAgIGFkZFF1ZXJ5RXZlbnQocXVlcnlJZCwgJ2Vycm9yJywgeyBtZXNzYWdlOiBlcnJvck1lc3NhZ2UgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBxdWVyeUlkIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1F1ZXJ5KHF1ZXJ5SWQ6IHN0cmluZywgZmxvd1R5cGU6IHN0cmluZykge1xuICBjb25zb2xlLmxvZygnPT09IFBST0NFU1MgUVVFUlkgQ0FMTEVEID09PScsIHsgcXVlcnlJZCwgZmxvd1R5cGUgfSk7XG5cbiAgY29uc3QgcXVlcnlEYXRhID0gcXVlcmllcy5nZXQocXVlcnlJZCk7XG4gIGlmICghcXVlcnlEYXRhKSByZXR1cm47XG5cbiAgLy8gQllQQVNTIFRFU1Q6IERpcmVjdCBwcm92aWRlciBjYWxsIGZvciAnZGlyZWN0JyBtZXRob2RvbG9neVxuICBpZiAoZmxvd1R5cGUgPT09ICdkaXJlY3QnKSB7XG4gICAgY29uc29sZS5sb2coJz09PSBESVJFQ1QgVEVTVCBCWVBBU1MgPT09Jyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgY3JlYXRlUHJvdmlkZXJGcm9tRmFtaWx5IH0gPSBhd2FpdCBpbXBvcnQoJ0Bha2hhaS9jb3JlJyk7XG4gICAgICBjb25zdCBwcm92aWRlciA9IGNyZWF0ZVByb3ZpZGVyRnJvbUZhbWlseSgnYW50aHJvcGljJywge1xuICAgICAgICBhbnRocm9waWM6IHByb2Nlc3MuZW52LkFOVEhST1BJQ19BUElfS0VZISxcbiAgICAgICAgZGVlcHNlZWs6IHByb2Nlc3MuZW52LkRFRVBTRUVLX0FQSV9LRVkhLFxuICAgICAgICB4YWk6IHByb2Nlc3MuZW52LlhBSV9BUElfS0VZISxcbiAgICAgICAgbWlzdHJhbDogcHJvY2Vzcy5lbnYuTUlTVFJBTF9BUElfS0VZISxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZygnPT09IFBST1ZJREVSIENSRUFURUQsIENBTExJTkcgQ09NUExFVEUgPT09Jyk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHByb3ZpZGVyLmNvbXBsZXRlKHtcbiAgICAgICAgbWVzc2FnZXM6IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogcXVlcnlEYXRhLnF1ZXJ5IH1dLFxuICAgICAgICBzeXN0ZW1Qcm9tcHQ6ICdCZSBoZWxwZnVsIGFuZCBjb25jaXNlLicsXG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coJz09PSBESVJFQ1QgU1VDQ0VTUyA9PT0nLCByZXNwb25zZS5jb250ZW50LnN1YnN0cmluZygwLCAxMDApKTtcbiAgICAgIHVwZGF0ZVF1ZXJ5U3RhdHVzKHF1ZXJ5SWQsICdjb21wbGV0ZScsIHsgZmluYWxBbnN3ZXI6IHJlc3BvbnNlLmNvbnRlbnQgfSk7XG4gICAgICBhZGRRdWVyeUV2ZW50KHF1ZXJ5SWQsICdjb21wbGV0ZScsIHsgdG90YWxDb3N0OiAwLjAwMSwgdG90YWxUb2tlbnM6IHsgaW5wdXQ6IDAsIG91dHB1dDogMCwgdG90YWw6IDAgfSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJz09PSBESVJFQ1QgRkFJTEVEID09PScsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLy8gVmFsaWRhdGUgQVBJIGtleXMgYmVmb3JlIHN0YXJ0aW5nXG4gIGNvbnN0IG1pc3NpbmdLZXlzOiBzdHJpbmdbXSA9IFtdO1xuICBpZiAoIXByb2Nlc3MuZW52LkFOVEhST1BJQ19BUElfS0VZKSBtaXNzaW5nS2V5cy5wdXNoKCdBbnRocm9waWMgKE1vdGhlciBCYXNlKScpO1xuICBpZiAoIXByb2Nlc3MuZW52LkRFRVBTRUVLX0FQSV9LRVkpIG1pc3NpbmdLZXlzLnB1c2goJ0RlZXBTZWVrJyk7XG4gIGlmICghcHJvY2Vzcy5lbnYuWEFJX0FQSV9LRVkpIG1pc3NpbmdLZXlzLnB1c2goJ3hBSSAoR3JvayknKTtcbiAgaWYgKCFwcm9jZXNzLmVudi5NSVNUUkFMX0FQSV9LRVkpIG1pc3NpbmdLZXlzLnB1c2goJ01pc3RyYWwnKTtcblxuICBpZiAobWlzc2luZ0tleXMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBNaXNzaW5nIEFQSSBrZXlzOiAke21pc3NpbmdLZXlzLmpvaW4oJywgJyl9LiBQbGVhc2UgY29uZmlndXJlIHRoZW0gaW4gU2V0dGluZ3MuYDtcbiAgICB1cGRhdGVRdWVyeVN0YXR1cyhxdWVyeUlkLCAnZXJyb3InLCB1bmRlZmluZWQsIGVycm9yTWVzc2FnZSk7XG4gICAgYWRkUXVlcnlFdmVudChxdWVyeUlkLCAnZXJyb3InLCB7XG4gICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICBoaW50OiAnQWRkIHlvdXIgQVBJIGtleXMgaW4gdGhlIFNldHRpbmdzIHBhZ2UgdG8gZW5hYmxlIHF1ZXJ5IGV4ZWN1dGlvbi4nXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdXBkYXRlUXVlcnlTdGF0dXMocXVlcnlJZCwgJ3Byb2Nlc3NpbmcnKTtcblxuICB0cnkge1xuICAgIC8vIENvbmZpZ3VyYXRpb24gKGNhbiBiZSBtYWRlIGR5bmFtaWMgbGF0ZXIpXG4gICAgY29uc3QgbW90aGVyQmFzZUZhbWlseTogTW9kZWxGYW1pbHkgPSAnYW50aHJvcGljJztcbiAgICBjb25zdCBzbG90MUZhbWlseTogTW9kZWxGYW1pbHkgPSAnZGVlcHNlZWsnO1xuICAgIGNvbnN0IHNsb3QyRmFtaWx5OiBNb2RlbEZhbWlseSA9ICd4YWknO1xuXG4gICAgLy8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgZmxvdy9tZXRob2RvbG9neVxuICAgIGxldCByZXN1bHQ6IGFueTtcblxuICAgIGNvbnNvbGUubG9nKGBbUXVlcnkgUm91dGVdIEV4ZWN1dGluZyBtZXRob2RvbG9neTogJHtmbG93VHlwZX0gZm9yIHF1ZXJ5OiAke3F1ZXJ5SWR9YCk7XG5cbiAgICBpZiAoZmxvd1R5cGUgPT09ICdndHAnKSB7XG4gICAgICAvLyBHVFAgKEdlbmVyYXRpdmUgVGhvdWdodHMgUHJvY2VzcykgLSBwYXJhbGxlbCBGbGFzaCBhcmNoaXRlY3R1cmVcbiAgICAgIGNvbnNvbGUubG9nKGBbUXVlcnkgUm91dGVdIFVzaW5nIEdUUCBleGVjdXRvcmApO1xuICAgICAgY29uc3QgZ3RwUmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUdUUFdpdGhFdmVudHMoXG4gICAgICAgIHF1ZXJ5SWQsXG4gICAgICAgIHF1ZXJ5RGF0YS5xdWVyeSxcbiAgICAgICAgbW90aGVyQmFzZUZhbWlseSxcbiAgICAgICAgc2xvdDFGYW1pbHksXG4gICAgICAgIHNsb3QyRmFtaWx5XG4gICAgICApO1xuXG4gICAgICAvLyBGb3JtYXQgR1RQIHJlc3VsdCB0byBtYXRjaCBleGlzdGluZyByZXN1bHQgc3RydWN0dXJlXG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIGZpbmFsQW5zd2VyOiBndHBSZXN1bHQucmVzdWx0LnN5bnRoZXNpcy5jb250ZW50LFxuICAgICAgICBjb3N0UmVwb3J0OiBndHBSZXN1bHQuY29zdFJlcG9ydCxcbiAgICAgICAgbWV0aG9kb2xvZ3k6ICdndHAnLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGZsb3dUeXBlID09PSAnZGlyZWN0Jykge1xuICAgICAgLy8gRGlyZWN0OiBTaW5nbGUgQUkgcmVzcG9uc2UgZm9yIHNpbXBsZSBmYWN0dWFsIHF1ZXN0aW9uc1xuICAgICAgLy8gTWFwIHRvIEZsb3cgQSAoTW90aGVyIEJhc2UgZGlyZWN0IHJlc3BvbnNlKVxuICAgICAgY29uc29sZS5sb2coYFtRdWVyeSBSb3V0ZV0gVXNpbmcgRGlyZWN0IG1ldGhvZG9sb2d5IChGbG93IEEpYCk7XG4gICAgICByZXN1bHQgPSBhd2FpdCBleGVjdXRlRmxvd0FXaXRoRXZlbnRzKFxuICAgICAgICBxdWVyeUlkLFxuICAgICAgICBxdWVyeURhdGEucXVlcnksXG4gICAgICAgIG1vdGhlckJhc2VGYW1pbHksXG4gICAgICAgIHNsb3QxRmFtaWx5LFxuICAgICAgICBzbG90MkZhbWlseVxuICAgICAgKTtcbiAgICAgIHJlc3VsdC5tZXRob2RvbG9neSA9ICdkaXJlY3QnO1xuICAgIH0gZWxzZSBpZiAoZmxvd1R5cGUgPT09ICdjb3QnKSB7XG4gICAgICAvLyBDaGFpbiBvZiBUaG91Z2h0OiBTdGVwLWJ5LXN0ZXAgcmVhc29uaW5nXG4gICAgICAvLyBNYXAgdG8gRmxvdyBCIHdpdGggZXhwbGljaXQgQ29UIGluc3RydWN0aW9uc1xuICAgICAgY29uc29sZS5sb2coYFtRdWVyeSBSb3V0ZV0gVXNpbmcgQ2hhaW4gb2YgVGhvdWdodCBtZXRob2RvbG9neSAoRmxvdyBCKWApO1xuICAgICAgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUZsb3dCV2l0aEV2ZW50cyhcbiAgICAgICAgcXVlcnlJZCxcbiAgICAgICAgcXVlcnlEYXRhLnF1ZXJ5LFxuICAgICAgICAnUmVzZWFyY2hBZ2VudCcsXG4gICAgICAgIG1vdGhlckJhc2VGYW1pbHksXG4gICAgICAgIHNsb3QxRmFtaWx5LFxuICAgICAgICBzbG90MkZhbWlseVxuICAgICAgKTtcbiAgICAgIHJlc3VsdC5tZXRob2RvbG9neSA9ICdjb3QnO1xuICAgIH0gZWxzZSBpZiAoZmxvd1R5cGUgPT09ICdhb3QnKSB7XG4gICAgICAvLyBBdG9tIG9mIFRob3VnaHRzOiBEZWNvbXBvc2Ug4oaSIHNvbHZlIOKGkiBjb250cmFjdFxuICAgICAgLy8gTWFwIHRvIEZsb3cgQiB3aXRoIGRlY29tcG9zaXRpb24gc3RyYXRlZ3lcbiAgICAgIGNvbnNvbGUubG9nKGBbUXVlcnkgUm91dGVdIFVzaW5nIEF0b20gb2YgVGhvdWdodHMgbWV0aG9kb2xvZ3kgKEZsb3cgQilgKTtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVGbG93QldpdGhFdmVudHMoXG4gICAgICAgIHF1ZXJ5SWQsXG4gICAgICAgIHF1ZXJ5RGF0YS5xdWVyeSxcbiAgICAgICAgJ1Jlc2VhcmNoQWdlbnQnLFxuICAgICAgICBtb3RoZXJCYXNlRmFtaWx5LFxuICAgICAgICBzbG90MUZhbWlseSxcbiAgICAgICAgc2xvdDJGYW1pbHlcbiAgICAgICk7XG4gICAgICByZXN1bHQubWV0aG9kb2xvZ3kgPSAnYW90JztcbiAgICB9IGVsc2UgaWYgKGZsb3dUeXBlID09PSAnYXV0bycpIHtcbiAgICAgIC8vIEF1dG86IFNtYXJ0IG1ldGhvZG9sb2d5IHNlbGVjdGlvbiBiYXNlZCBvbiBxdWVyeSBhbmFseXNpc1xuICAgICAgLy8gRGVmYXVsdCB0byBGbG93IEEgZm9yIG5vd1xuICAgICAgY29uc29sZS5sb2coYFtRdWVyeSBSb3V0ZV0gVXNpbmcgQXV0byBtZXRob2RvbG9neSAoRmxvdyBBKWApO1xuICAgICAgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUZsb3dBV2l0aEV2ZW50cyhcbiAgICAgICAgcXVlcnlJZCxcbiAgICAgICAgcXVlcnlEYXRhLnF1ZXJ5LFxuICAgICAgICBtb3RoZXJCYXNlRmFtaWx5LFxuICAgICAgICBzbG90MUZhbWlseSxcbiAgICAgICAgc2xvdDJGYW1pbHlcbiAgICAgICk7XG4gICAgICByZXN1bHQubWV0aG9kb2xvZ3kgPSAnYXV0byc7XG4gICAgfSBlbHNlIGlmIChxdWVyeURhdGEuZmxvdyA9PT0gJ0EnIHx8IGZsb3dUeXBlID09PSAnQScpIHtcbiAgICAgIC8vIEZsb3cgQTogTW90aGVyIEJhc2UgRGVjaXNpb24gKGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXG4gICAgICBjb25zb2xlLmxvZyhgW1F1ZXJ5IFJvdXRlXSBVc2luZyBGbG93IEFgKTtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVGbG93QVdpdGhFdmVudHMoXG4gICAgICAgIHF1ZXJ5SWQsXG4gICAgICAgIHF1ZXJ5RGF0YS5xdWVyeSxcbiAgICAgICAgbW90aGVyQmFzZUZhbWlseSxcbiAgICAgICAgc2xvdDFGYW1pbHksXG4gICAgICAgIHNsb3QyRmFtaWx5XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGbG93IEI6IFN1Yi1BZ2VudCBFeGVjdXRpb24gKGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXG4gICAgICBjb25zb2xlLmxvZyhgW1F1ZXJ5IFJvdXRlXSBVc2luZyBGbG93IEJgKTtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVGbG93QldpdGhFdmVudHMoXG4gICAgICAgIHF1ZXJ5SWQsXG4gICAgICAgIHF1ZXJ5RGF0YS5xdWVyeSxcbiAgICAgICAgJ1Jlc2VhcmNoQWdlbnQnLFxuICAgICAgICBtb3RoZXJCYXNlRmFtaWx5LFxuICAgICAgICBzbG90MUZhbWlseSxcbiAgICAgICAgc2xvdDJGYW1pbHlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU2F2ZSB0b2tlbiB1c2FnZSB0byBkYXRhYmFzZVxuICAgIGlmIChyZXN1bHQuY29zdFJlcG9ydCAmJiByZXN1bHQuY29zdFJlcG9ydC5wcm92aWRlclVzYWdlKSB7XG4gICAgICBmb3IgKGNvbnN0IHVzYWdlIG9mIHJlc3VsdC5jb3N0UmVwb3J0LnByb3ZpZGVyVXNhZ2UpIHtcbiAgICAgICAgLy8gR2V0IG1vZGVsIG5hbWUgYmFzZWQgb24gZmFtaWx5XG4gICAgICAgIGxldCBtb2RlbE5hbWUgPSAndW5rbm93bic7XG4gICAgICAgIHN3aXRjaCAodXNhZ2UuZmFtaWx5KSB7XG4gICAgICAgICAgY2FzZSAnYW50aHJvcGljJzpcbiAgICAgICAgICAgIG1vZGVsTmFtZSA9ICdjbGF1ZGUtc29ubmV0LTQtMjAyNTA1MTQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZGVlcHNlZWsnOlxuICAgICAgICAgICAgbW9kZWxOYW1lID0gJ2RlZXBzZWVrLWNoYXQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAneGFpJzpcbiAgICAgICAgICAgIG1vZGVsTmFtZSA9ICdncm9rLTMnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbWlzdHJhbCc6XG4gICAgICAgICAgICBtb2RlbE5hbWUgPSAnbWlzdHJhbC1zbWFsbC1sYXRlc3QnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFja1VzYWdlKFxuICAgICAgICAgIHVzYWdlLmZhbWlseSxcbiAgICAgICAgICBtb2RlbE5hbWUsXG4gICAgICAgICAgdXNhZ2UudG90YWxJbnB1dFRva2VucyxcbiAgICAgICAgICB1c2FnZS50b3RhbE91dHB1dFRva2VucyxcbiAgICAgICAgICB1c2FnZS50b3RhbENvc3RcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgcXVlcnkgc3RhdHVzIHdpdGggdG9rZW4gYW5kIGNvc3QgZGF0YVxuICAgIGNvbnN0IHRvdGFsVG9rZW5zID0gcmVzdWx0LmNvc3RSZXBvcnQ/LnRvdGFsVG9rZW5zPy50b3RhbCB8fCAwO1xuICAgIGNvbnN0IHRvdGFsQ29zdCA9IHJlc3VsdC5jb3N0UmVwb3J0Py50b3RhbENvc3QgfHwgMDtcblxuICAgIHVwZGF0ZVF1ZXJ5U3RhdHVzKHF1ZXJ5SWQsICdjb21wbGV0ZScsIHJlc3VsdCk7XG5cbiAgICAvLyBBbHNvIHVwZGF0ZSB0b2tlbnNfdXNlZCBhbmQgY29zdCBpbiBkYXRhYmFzZVxuICAgIHVwZGF0ZVF1ZXJ5KHF1ZXJ5SWQsIHtcbiAgICAgIHRva2Vuc191c2VkOiB0b3RhbFRva2VucyxcbiAgICAgIGNvc3Q6IHRvdGFsQ29zdCxcbiAgICB9KTtcblxuICAgIC8vIEVtaXQgY29tcGxldGlvbiBldmVudFxuICAgIGFkZFF1ZXJ5RXZlbnQocXVlcnlJZCwgJ2NvbXBsZXRlJywge1xuICAgICAgdG90YWxDb3N0LFxuICAgICAgdG90YWxUb2tlbnM6IHJlc3VsdC5jb3N0UmVwb3J0Py50b3RhbFRva2VucyB8fCAwLFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FraEFJIGV4ZWN1dGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9ICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJztcbiAgICBsZXQgaGludCA9ICcnO1xuXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG5cbiAgICAgIC8vIFByb3ZpZGUgaGVscGZ1bCBoaW50cyBiYXNlZCBvbiBlcnJvciB0eXBlXG4gICAgICBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdBUEkga2V5JykpIHtcbiAgICAgICAgaGludCA9ICdDaGVjayB0aGF0IHlvdXIgQVBJIGtleXMgYXJlIGNvcnJlY3RseSBjb25maWd1cmVkIGluIFNldHRpbmdzLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygndGltZW91dCcpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnRVRJTUVET1VUJykpIHtcbiAgICAgICAgaGludCA9ICdUaGUgQUkgcHJvdmlkZXIgdG9vayB0b28gbG9uZyB0byByZXNwb25kLiBQbGVhc2UgdHJ5IGFnYWluLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygncmF0ZSBsaW1pdCcpKSB7XG4gICAgICAgIGhpbnQgPSAnWW91IGhhdmUgZXhjZWVkZWQgdGhlIEFQSSByYXRlIGxpbWl0LiBQbGVhc2Ugd2FpdCBhIGZldyBtaW51dGVzIGFuZCB0cnkgYWdhaW4uJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCduZXR3b3JrJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdFTk9URk9VTkQnKSkge1xuICAgICAgICBoaW50ID0gJ05ldHdvcmsgZXJyb3IuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24uJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpbnQgPSAnUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQgaWYgdGhlIHByb2JsZW0gcGVyc2lzdHMuJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVRdWVyeVN0YXR1cyhxdWVyeUlkLCAnZXJyb3InLCB1bmRlZmluZWQsIGVycm9yTWVzc2FnZSk7XG4gICAgYWRkUXVlcnlFdmVudChxdWVyeUlkLCAnZXJyb3InLCB7XG4gICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICBoaW50OiBoaW50IHx8ICdQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLidcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIm5hbm9pZCIsInF1ZXJpZXMiLCJhZGRRdWVyeUV2ZW50IiwiY3JlYXRlUXVlcnlSZWNvcmQiLCJ1cGRhdGVRdWVyeVN0YXR1cyIsInRyYWNrVXNhZ2UiLCJ1cGRhdGVRdWVyeSIsImV4ZWN1dGVGbG93QVdpdGhFdmVudHMiLCJleGVjdXRlRmxvd0JXaXRoRXZlbnRzIiwiZXhlY3V0ZUdUUFdpdGhFdmVudHMiLCJQT1NUIiwicmVxdWVzdCIsInF1ZXJ5IiwiZmxvdyIsIm1ldGhvZG9sb2d5IiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJzdWJzdHJpbmciLCJlcnJvciIsInN0YXR1cyIsInF1ZXJ5SWQiLCJmbG93VHlwZSIsInByb2Nlc3NRdWVyeSIsImNhdGNoIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsInVuZGVmaW5lZCIsInF1ZXJ5RGF0YSIsImdldCIsImNyZWF0ZVByb3ZpZGVyRnJvbUZhbWlseSIsInByb3ZpZGVyIiwiYW50aHJvcGljIiwicHJvY2VzcyIsImVudiIsIkFOVEhST1BJQ19BUElfS0VZIiwiZGVlcHNlZWsiLCJERUVQU0VFS19BUElfS0VZIiwieGFpIiwiWEFJX0FQSV9LRVkiLCJtaXN0cmFsIiwiTUlTVFJBTF9BUElfS0VZIiwicmVzcG9uc2UiLCJjb21wbGV0ZSIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJzeXN0ZW1Qcm9tcHQiLCJmaW5hbEFuc3dlciIsInRvdGFsQ29zdCIsInRvdGFsVG9rZW5zIiwiaW5wdXQiLCJvdXRwdXQiLCJ0b3RhbCIsImVyciIsIm1pc3NpbmdLZXlzIiwicHVzaCIsImxlbmd0aCIsImpvaW4iLCJoaW50IiwibW90aGVyQmFzZUZhbWlseSIsInNsb3QxRmFtaWx5Iiwic2xvdDJGYW1pbHkiLCJyZXN1bHQiLCJndHBSZXN1bHQiLCJzeW50aGVzaXMiLCJjb3N0UmVwb3J0IiwicHJvdmlkZXJVc2FnZSIsInVzYWdlIiwibW9kZWxOYW1lIiwiZmFtaWx5IiwidG90YWxJbnB1dFRva2VucyIsInRvdGFsT3V0cHV0VG9rZW5zIiwidG9rZW5zX3VzZWQiLCJjb3N0IiwiRXJyb3IiLCJpbmNsdWRlcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/query/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/akhai-executor.ts":
/*!*******************************!*\
  !*** ./lib/akhai-executor.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   executeFlowAWithEvents: () => (/* binding */ executeFlowAWithEvents),\n/* harmony export */   executeFlowBWithEvents: () => (/* binding */ executeFlowBWithEvents),\n/* harmony export */   executeGTPWithEvents: () => (/* binding */ executeGTPWithEvents)\n/* harmony export */ });\n/* harmony import */ var _akhai_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @akhai/core */ \"(rsc)/../core/dist/index.js\");\n/* harmony import */ var _query_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./query-store */ \"(rsc)/./lib/query-store.ts\");\n/* harmony import */ var _event_emitter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./event-emitter */ \"(rsc)/./lib/event-emitter.ts\");\n/**\n * AkhAI Execution Wrapper with Event Streaming\n *\n * This module wraps @akhai/core execution and emits events for real-time UI updates.\n */ \n\n\n\n\n/**\n * Timeout wrapper for execution - prevents queries from hanging indefinitely\n */ async function withExecutionTimeout(promise, timeoutMs, queryId) {\n    const timeout = new Promise((_, reject)=>{\n        setTimeout(()=>{\n            console.error(`[AkhAI]   Query ${queryId} timed out after ${timeoutMs / 1000}s`);\n            reject(new Error(`Query execution timed out after ${timeoutMs / 1000} seconds. The AI providers may be experiencing delays.`));\n        }, timeoutMs);\n    });\n    return Promise.race([\n        promise,\n        timeout\n    ]);\n}\n/**\n * Helper to emit events to both query-store and event-emitter (SSE)\n */ function emitEvent(queryId, type, data) {\n    const event = {\n        type,\n        data,\n        timestamp: Date.now()\n    };\n    // Store in query-store for persistence\n    (0,_query_store__WEBPACK_IMPORTED_MODULE_1__.addQueryEvent)(queryId, type, data);\n    // Emit to SSE subscribers for real-time updates\n    (0,_event_emitter__WEBPACK_IMPORTED_MODULE_2__.emitQueryEvent)(queryId, event);\n}\n/**\n * Execute Flow A (Mother Base Decision) with event streaming\n *\n * @param queryId - Query ID for event streaming\n * @param query - The query to process\n * @param motherBaseFamily - Mother Base model family\n * @param slot1Family - Advisor Slot 1 family\n * @param slot2Family - Advisor Slot 2 family\n * @returns Flow A result with cost report\n */ async function executeFlowAWithEvents(queryId, query, motherBaseFamily = 'anthropic', slot1Family = 'deepseek', slot2Family = 'xai') {\n    console.log(`[AkhAI]  Starting Flow A for query: ${queryId}`);\n    console.log(`[AkhAI]  Query text: ${query.substring(0, 100)}${query.length > 100 ? '...' : ''}`);\n    console.log(`[AkhAI]  Mother Base: ${motherBaseFamily}`);\n    console.log(`[AkhAI]  Advisors: Slot1=${slot1Family}, Slot2=${slot2Family}, Slot3=mistral (fixed)`);\n    const akhai = (0,_akhai_core__WEBPACK_IMPORTED_MODULE_0__.createAkhAI)(motherBaseFamily);\n    // Set API keys from environment\n    akhai.setApiKeys({\n        anthropic: process.env.ANTHROPIC_API_KEY,\n        deepseek: process.env.DEEPSEEK_API_KEY,\n        xai: process.env.XAI_API_KEY,\n        mistral: process.env.MISTRAL_API_KEY\n    });\n    // Set web search key if available\n    if (process.env.BRAVE_SEARCH_API_KEY) {\n        akhai.setWebSearchKey(process.env.BRAVE_SEARCH_API_KEY);\n        console.log(`[AkhAI]  Web search enabled (Brave API)`);\n    }\n    // Setup Mother Base and Advisor Layer\n    console.log(`[AkhAI]   Setting up Mother Base...`);\n    akhai.setupMotherBase();\n    console.log(`[AkhAI]   Setting up Advisor Layer...`);\n    akhai.setupAdvisorLayer(slot1Family, slot2Family);\n    // Create real-time callbacks that emit events as execution happens\n    const callbacks = {\n        onAdvisorStart: (slot, family, round)=>{\n            emitEvent(queryId, 'advisor-start', {\n                round,\n                slot,\n                family,\n                status: 'thinking',\n                response: `${family} is analyzing...`\n            });\n        },\n        onAdvisorComplete: (slot, family, round, output)=>{\n            emitEvent(queryId, 'advisor-complete', {\n                round,\n                slot,\n                family,\n                status: 'complete',\n                response: output\n            });\n        },\n        onConsensusCheck: (round, reached)=>{\n            if (reached) {\n                emitEvent(queryId, 'consensus-reached', {\n                    round\n                });\n            }\n        },\n        onRoundComplete: (round, totalRounds)=>{\n            emitEvent(queryId, 'round-complete', {\n                round,\n                totalRounds\n            });\n        },\n        onRedactorStart: ()=>{\n            emitEvent(queryId, 'redactor-start', {\n                status: 'analyzing',\n                output: 'Redactor is synthesizing advisor outputs...'\n            });\n        },\n        onRedactorComplete: (synthesis, family)=>{\n            emitEvent(queryId, 'redactor-complete', {\n                status: 'complete',\n                output: synthesis,\n                family\n            });\n        },\n        onMotherBaseReview: (exchange, approved, response)=>{\n            emitEvent(queryId, 'mother-base-review', {\n                exchange,\n                approved,\n                decision: response\n            });\n        }\n    };\n    // Execute Flow A with callbacks - wrapped in timeout (3 minutes)\n    console.log(`[AkhAI]  Executing Mother Base Flow (timeout: 180s)...`);\n    const startTime = Date.now();\n    try {\n        const result = await withExecutionTimeout(akhai.executeMotherBaseFlow(query, callbacks), 180000, queryId);\n        const duration = ((Date.now() - startTime) / 1000).toFixed(2);\n        console.log(`[AkhAI]  Flow A completed successfully in ${duration}s`);\n        // Get cost tracking data\n        const costReport = akhai.getCostReport();\n        console.log(`[AkhAI]  Total cost: $${costReport.totalCost.toFixed(4)}`);\n        console.log(`[AkhAI]  Total tokens: ${costReport.totalTokens.total}`);\n        // Execution complete - all events were already emitted in real-time via callbacks\n        return {\n            ...result,\n            costReport\n        };\n    } catch (error) {\n        const duration = ((Date.now() - startTime) / 1000).toFixed(2);\n        console.error(`[AkhAI]  Flow A failed after ${duration}s:`, error);\n        throw error; // Re-throw so the query route can handle it\n    }\n}\n/**\n * Execute Flow B (Sub-Agent Execution) with event streaming\n *\n * @param queryId - Query ID for event streaming\n * @param query - The query to process\n * @param agentName - Sub-Agent name to use\n * @param motherBaseFamily - Mother Base model family\n * @param slot1Family - Advisor Slot 1 family\n * @param slot2Family - Advisor Slot 2 family\n * @returns Flow B result with cost report\n */ async function executeFlowBWithEvents(queryId, query, agentName = 'ResearchAgent', motherBaseFamily = 'anthropic', slot1Family = 'deepseek', slot2Family = 'xai') {\n    console.log(`[AkhAI]  Starting Flow B for query: ${queryId}`);\n    console.log(`[AkhAI]  Query text: ${query.substring(0, 100)}${query.length > 100 ? '...' : ''}`);\n    console.log(`[AkhAI]  Sub-Agent: ${agentName}`);\n    console.log(`[AkhAI]  Mother Base: ${motherBaseFamily}`);\n    const akhai = (0,_akhai_core__WEBPACK_IMPORTED_MODULE_0__.createAkhAI)(motherBaseFamily);\n    // Set API keys from environment\n    akhai.setApiKeys({\n        anthropic: process.env.ANTHROPIC_API_KEY,\n        deepseek: process.env.DEEPSEEK_API_KEY,\n        xai: process.env.XAI_API_KEY,\n        mistral: process.env.MISTRAL_API_KEY\n    });\n    // Set web search key if available\n    if (process.env.BRAVE_SEARCH_API_KEY) {\n        akhai.setWebSearchKey(process.env.BRAVE_SEARCH_API_KEY);\n        console.log(`[AkhAI]  Web search enabled (Brave API)`);\n    }\n    // Setup Mother Base and Advisor Layer\n    console.log(`[AkhAI]   Setting up Mother Base...`);\n    akhai.setupMotherBase();\n    console.log(`[AkhAI]   Setting up Advisor Layer...`);\n    akhai.setupAdvisorLayer(slot1Family, slot2Family);\n    // Register sub-agent\n    console.log(`[AkhAI]   Registering sub-agent: ${agentName}...`);\n    akhai.registerSubAgent(agentName);\n    // Create real-time callbacks for Flow B\n    const callbacks = {\n        onAdvisorStart: (slot, family, round)=>{\n            emitEvent(queryId, 'advisor-start', {\n                round,\n                slot,\n                family,\n                status: 'thinking',\n                response: `${family} is analyzing...`\n            });\n        },\n        onAdvisorComplete: (slot, family, round, output)=>{\n            emitEvent(queryId, 'advisor-complete', {\n                round,\n                slot,\n                family,\n                status: 'complete',\n                response: output\n            });\n        },\n        onConsensusCheck: (round, reached)=>{\n            if (reached) {\n                emitEvent(queryId, 'consensus-reached', {\n                    round\n                });\n            }\n        },\n        onRoundComplete: (round, totalRounds)=>{\n            emitEvent(queryId, 'round-complete', {\n                round,\n                totalRounds\n            });\n        },\n        onRedactorStart: ()=>{\n            emitEvent(queryId, 'redactor-start', {\n                status: 'analyzing',\n                output: 'Redactor is synthesizing advisor outputs...'\n            });\n        },\n        onRedactorComplete: (synthesis, family)=>{\n            emitEvent(queryId, 'redactor-complete', {\n                status: 'complete',\n                output: synthesis,\n                family\n            });\n        },\n        onSubAgentStart: (agentName, exchange)=>{\n            emitEvent(queryId, 'sub-agent-start', {\n                agent: agentName,\n                exchange,\n                status: 'working'\n            });\n        },\n        onSubAgentComplete: (agentName, exchange, output, complete)=>{\n            emitEvent(queryId, 'sub-agent-complete', {\n                agent: agentName,\n                exchange,\n                response: output,\n                complete\n            });\n        },\n        onMotherBaseReview: (exchange, approved, response)=>{\n            emitEvent(queryId, 'mother-base-review', {\n                exchange,\n                approved,\n                decision: response\n            });\n        }\n    };\n    // Execute Flow B with callbacks - wrapped in timeout (5 minutes for sub-agent work)\n    console.log(`[AkhAI]  Executing Sub-Agent Flow (timeout: 300s)...`);\n    const startTime = Date.now();\n    try {\n        const result = await withExecutionTimeout(akhai.executeSubAgentFlow(query, agentName, callbacks), 300000, queryId);\n        const duration = ((Date.now() - startTime) / 1000).toFixed(2);\n        console.log(`[AkhAI]  Flow B completed successfully in ${duration}s`);\n        // Get cost tracking data\n        const costReport = akhai.getCostReport();\n        console.log(`[AkhAI]  Total cost: $${costReport.totalCost.toFixed(4)}`);\n        console.log(`[AkhAI]  Total tokens: ${costReport.totalTokens.total}`);\n        // Execution complete - all events were already emitted in real-time via callbacks\n        return {\n            ...result,\n            costReport\n        };\n    } catch (error) {\n        const duration = ((Date.now() - startTime) / 1000).toFixed(2);\n        console.error(`[AkhAI]  Flow B failed after ${duration}s:`, error);\n        throw error; // Re-throw so the query route can handle it\n    }\n}\n/**\n * Execute GTP (Generative Thoughts Process) with event streaming\n *\n * @param queryId - Query ID for event streaming\n * @param query - The query to process\n * @param motherBaseFamily - Mother Base model family\n * @param slot1Family - Advisor Slot 1 family\n * @param slot2Family - Advisor Slot 2 family\n * @returns GTP result with cost report\n */ async function executeGTPWithEvents(queryId, query, motherBaseFamily = 'anthropic', slot1Family = 'deepseek', slot2Family = 'xai') {\n    console.log('[GTP] Starting GTP execution for query: ' + queryId);\n    console.log('[GTP] Query text: ' + query.substring(0, 100) + (query.length > 100 ? '...' : ''));\n    console.log('[GTP] Mother Base: ' + motherBaseFamily);\n    console.log('[GTP] Advisors: Slot1=' + slot1Family + ', Slot2=' + slot2Family + ', Slot3=mistral (fixed)');\n    // Analyze query to get complexity and characteristics\n    console.log('[GTP] Analyzing query...');\n    const queryAnalysis = (0,_akhai_core__WEBPACK_IMPORTED_MODULE_0__.analyzeQuery)(query);\n    console.log('[GTP]    Complexity: ' + (queryAnalysis.complexity * 100).toFixed(0) + '%');\n    console.log('[GTP]    Type: ' + queryAnalysis.queryType);\n    emitEvent(queryId, 'gtp-analysis', {\n        complexity: queryAnalysis.complexity,\n        queryType: queryAnalysis.queryType,\n        requiresMultiplePerspectives: queryAnalysis.requiresMultiplePerspectives\n    });\n    // Create providers for each advisor slot\n    console.log('[GTP] Creating model providers...');\n    const apiKeys = {\n        anthropic: process.env.ANTHROPIC_API_KEY,\n        deepseek: process.env.DEEPSEEK_API_KEY,\n        xai: process.env.XAI_API_KEY,\n        mistral: process.env.MISTRAL_API_KEY\n    };\n    const motherBaseProvider = (0,_akhai_core__WEBPACK_IMPORTED_MODULE_0__.createProviderFromFamily)(motherBaseFamily, apiKeys);\n    const slot1Provider = (0,_akhai_core__WEBPACK_IMPORTED_MODULE_0__.createProviderFromFamily)(slot1Family, apiKeys);\n    const slot2Provider = (0,_akhai_core__WEBPACK_IMPORTED_MODULE_0__.createProviderFromFamily)(slot2Family, apiKeys);\n    const slot3Provider = (0,_akhai_core__WEBPACK_IMPORTED_MODULE_0__.createProviderFromFamily)('mistral', apiKeys);\n    const advisorSlots = [\n        {\n            slot: 1,\n            family: slot1Family,\n            provider: slot1Provider\n        },\n        {\n            slot: 2,\n            family: slot2Family,\n            provider: slot2Provider\n        },\n        {\n            slot: 3,\n            family: 'mistral',\n            provider: slot3Provider\n        }\n    ];\n    // Create GTP executor\n    const gtpExecutor = new _akhai_core__WEBPACK_IMPORTED_MODULE_0__.GTPExecutor();\n    // Setup real-time callbacks that emit events\n    const callbacks = {\n        onFlashPrepare: (frame)=>{\n            emitEvent(queryId, 'flash-prepare', {\n                advisorCount: frame.advisorTasks.length,\n                roles: frame.advisorTasks.map((t)=>t.role)\n            });\n        },\n        onFlashBroadcast: (advisorCount)=>{\n            emitEvent(queryId, 'flash-broadcast', {\n                advisorCount,\n                status: 'Broadcasting to all advisors in parallel...'\n            });\n        },\n        onAdvisorStart: (slot, family, role)=>{\n            emitEvent(queryId, 'advisor-start', {\n                slot,\n                family,\n                role,\n                status: 'thinking',\n                response: family + ' (' + role + ') is analyzing...'\n            });\n        },\n        onAdvisorComplete: (response)=>{\n            emitEvent(queryId, 'advisor-complete', {\n                slot: response.slot,\n                family: response.family,\n                role: response.role,\n                status: 'complete',\n                confidence: response.confidence,\n                keyPoints: response.keyPoints,\n                response: response.content.substring(0, 200) + '...'\n            });\n        },\n        onAdvisorFailed: (slot, family, error)=>{\n            emitEvent(queryId, 'advisor-failed', {\n                slot,\n                family,\n                error\n            });\n        },\n        onMergeUpdate: (state)=>{\n            emitEvent(queryId, 'merge-update', {\n                responsesReceived: state.metadata.responsesReceived,\n                responsesExpected: state.metadata.responsesExpected,\n                insightsCount: state.mergedInsights.length,\n                agreementLevel: state.consensusState.agreementLevel\n            });\n        },\n        onQuorumProgress: (result)=>{\n            emitEvent(queryId, 'quorum-progress', {\n                responsesReceived: result.responsesReceived,\n                responsesExpected: result.responsesExpected,\n                agreementLevel: result.agreementLevel,\n                timeElapsed: result.timeElapsed,\n                reached: result.reached,\n                reason: result.reason\n            });\n        },\n        onQuorumReached: (result)=>{\n            emitEvent(queryId, 'quorum-reached', {\n                reason: result.reason,\n                responsesReceived: result.responsesReceived,\n                agreementLevel: result.agreementLevel,\n                timeElapsed: result.timeElapsed\n            });\n        },\n        onSynthesisStart: ()=>{\n            emitEvent(queryId, 'synthesis-start', {\n                status: 'Mother Base is synthesizing advisor insights...'\n            });\n        },\n        onSynthesisComplete: (synthesis, family)=>{\n            emitEvent(queryId, 'synthesis-complete', {\n                status: 'complete',\n                output: synthesis,\n                family\n            });\n        }\n    };\n    // Execute GTP with callbacks - wrapped in timeout (2 minutes for parallel execution)\n    console.log('[GTP] Executing GTP methodology (timeout: 120s)...');\n    const startTime = Date.now();\n    try {\n        const result = await withExecutionTimeout(gtpExecutor.execute({\n            query,\n            queryAnalysis,\n            advisorSlots,\n            motherBaseProvider,\n            callbacks\n        }), 120000, queryId);\n        const duration = ((Date.now() - startTime) / 1000).toFixed(2);\n        console.log('[GTP] GTP completed successfully in ' + duration + 's');\n        console.log('[GTP] Total cost: $' + result.metrics.totalCost.toFixed(4));\n        console.log('[GTP] Total tokens: ' + result.metrics.totalTokens.total);\n        console.log('[GTP] Success rate: ' + (result.metrics.successRate * 100).toFixed(0) + '%');\n        console.log('[GTP] Agreement: ' + (result.livingDatabase.consensusState.agreementLevel * 100).toFixed(0) + '%');\n        // Format cost report to match existing interface\n        const costReport = {\n            totalCost: result.metrics.totalCost,\n            totalTokens: result.metrics.totalTokens,\n            providerUsage: [],\n            formattedReport: 'GTP Execution Complete\\nTotal: $' + result.metrics.totalCost.toFixed(4) + '\\nTokens: ' + result.metrics.totalTokens.total\n        };\n        return {\n            result,\n            costReport\n        };\n    } catch (error) {\n        const duration = ((Date.now() - startTime) / 1000).toFixed(2);\n        console.error('[GTP] GTP failed after ' + duration + 's:', error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLEtBQUs7UUFDckYzRCxRQUFRZ0IsR0FBRyxDQUFDLHNCQUFzQixDQUFDd0MsT0FBTzZELGNBQWMsQ0FBQ1YsY0FBYyxDQUFDRCxjQUFjLEdBQUcsR0FBRSxFQUFHL0MsT0FBTyxDQUFDLEtBQUs7UUFFM0csaURBQWlEO1FBQ2pELE1BQU1DLGFBQXlCO1lBQzdCRSxXQUFXTixPQUFPMkQsT0FBTyxDQUFDckQsU0FBUztZQUNuQ0MsYUFBYVAsT0FBTzJELE9BQU8sQ0FBQ3BELFdBQVc7WUFDdkN1RCxlQUFlLEVBQUU7WUFDakJDLGlCQUFpQixxQ0FBcUMvRCxPQUFPMkQsT0FBTyxDQUFDckQsU0FBUyxDQUFDSCxPQUFPLENBQUMsS0FBSyxlQUFlSCxPQUFPMkQsT0FBTyxDQUFDcEQsV0FBVyxDQUFDQyxLQUFLO1FBQzdJO1FBRUEsT0FBTztZQUFFUjtZQUFRSTtRQUFXO0lBQzlCLEVBQUUsT0FBTzNELE9BQU87UUFDZCxNQUFNeUQsV0FBVyxDQUFDLENBQUNqRCxLQUFLQyxHQUFHLEtBQUs2QyxTQUFRLElBQUssSUFBRyxFQUFHSSxPQUFPLENBQUM7UUFDM0QzRCxRQUFRQyxLQUFLLENBQUMsNEJBQTRCeUQsV0FBVyxNQUFNekQ7UUFDM0QsTUFBTUE7SUFDUjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvc2hlaXJyYXphL2FraGFpL3BhY2thZ2VzL3dlYi9saWIvYWtoYWktZXhlY3V0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBa2hBSSBFeGVjdXRpb24gV3JhcHBlciB3aXRoIEV2ZW50IFN0cmVhbWluZ1xuICpcbiAqIFRoaXMgbW9kdWxlIHdyYXBzIEBha2hhaS9jb3JlIGV4ZWN1dGlvbiBhbmQgZW1pdHMgZXZlbnRzIGZvciByZWFsLXRpbWUgVUkgdXBkYXRlcy5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVBa2hBSSB9IGZyb20gJ0Bha2hhaS9jb3JlJztcbmltcG9ydCB0eXBlIHsgTW9kZWxGYW1pbHksIEZsb3dBUmVzdWx0LCBGbG93QlJlc3VsdCB9IGZyb20gJ0Bha2hhaS9jb3JlJztcbmltcG9ydCB7IEdUUEV4ZWN1dG9yLCBhbmFseXplUXVlcnksIHR5cGUgR1RQUmVzdWx0IH0gZnJvbSAnQGFraGFpL2NvcmUnO1xuaW1wb3J0IHsgY3JlYXRlUHJvdmlkZXJGcm9tRmFtaWx5IH0gZnJvbSAnQGFraGFpL2NvcmUnO1xuaW1wb3J0IHsgYWRkUXVlcnlFdmVudCwgdHlwZSBRdWVyeUV2ZW50IH0gZnJvbSAnLi9xdWVyeS1zdG9yZSc7XG5pbXBvcnQgeyBlbWl0UXVlcnlFdmVudCB9IGZyb20gJy4vZXZlbnQtZW1pdHRlcic7XG5cbi8qKlxuICogVGltZW91dCB3cmFwcGVyIGZvciBleGVjdXRpb24gLSBwcmV2ZW50cyBxdWVyaWVzIGZyb20gaGFuZ2luZyBpbmRlZmluaXRlbHlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gd2l0aEV4ZWN1dGlvblRpbWVvdXQ8VD4oXG4gIHByb21pc2U6IFByb21pc2U8VD4sXG4gIHRpbWVvdXRNczogbnVtYmVyLFxuICBxdWVyeUlkOiBzdHJpbmdcbik6IFByb21pc2U8VD4ge1xuICBjb25zdCB0aW1lb3V0ID0gbmV3IFByb21pc2U8bmV2ZXI+KChfLCByZWplY3QpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtBa2hBSV0g4o+x77iPICBRdWVyeSAke3F1ZXJ5SWR9IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXRNcy8xMDAwfXNgKTtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoYFF1ZXJ5IGV4ZWN1dGlvbiB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0TXMvMTAwMH0gc2Vjb25kcy4gVGhlIEFJIHByb3ZpZGVycyBtYXkgYmUgZXhwZXJpZW5jaW5nIGRlbGF5cy5gKSk7XG4gICAgfSwgdGltZW91dE1zKTtcbiAgfSk7XG4gIHJldHVybiBQcm9taXNlLnJhY2UoW3Byb21pc2UsIHRpbWVvdXRdKTtcbn1cblxuLyoqXG4gKiBDb3N0IHJlcG9ydCBmcm9tIENvc3RUcmFja2VyXG4gKi9cbmludGVyZmFjZSBQcm92aWRlclVzYWdlIHtcbiAgZmFtaWx5OiBzdHJpbmc7XG4gIHRvdGFsSW5wdXRUb2tlbnM6IG51bWJlcjtcbiAgdG90YWxPdXRwdXRUb2tlbnM6IG51bWJlcjtcbiAgdG90YWxDb3N0OiBudW1iZXI7XG4gIHJlcXVlc3RDb3VudDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQ29zdFJlcG9ydCB7XG4gIHRvdGFsQ29zdDogbnVtYmVyO1xuICB0b3RhbFRva2Vuczoge1xuICAgIGlucHV0OiBudW1iZXI7XG4gICAgb3V0cHV0OiBudW1iZXI7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgfTtcbiAgcHJvdmlkZXJVc2FnZTogUHJvdmlkZXJVc2FnZVtdO1xuICBmb3JtYXR0ZWRSZXBvcnQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGbG93QVJlc3VsdFdpdGhDb3N0IGV4dGVuZHMgRmxvd0FSZXN1bHQge1xuICBjb3N0UmVwb3J0OiBDb3N0UmVwb3J0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZsb3dCUmVzdWx0V2l0aENvc3QgZXh0ZW5kcyBGbG93QlJlc3VsdCB7XG4gIGNvc3RSZXBvcnQ6IENvc3RSZXBvcnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR1RQUmVzdWx0V2l0aENvc3Qge1xuICByZXN1bHQ6IEdUUFJlc3VsdDtcbiAgY29zdFJlcG9ydDogQ29zdFJlcG9ydDtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZW1pdCBldmVudHMgdG8gYm90aCBxdWVyeS1zdG9yZSBhbmQgZXZlbnQtZW1pdHRlciAoU1NFKVxuICovXG5mdW5jdGlvbiBlbWl0RXZlbnQocXVlcnlJZDogc3RyaW5nLCB0eXBlOiBRdWVyeUV2ZW50Wyd0eXBlJ10sIGRhdGE6IGFueSkge1xuICBjb25zdCBldmVudCA9IHsgdHlwZSwgZGF0YSwgdGltZXN0YW1wOiBEYXRlLm5vdygpIH07XG5cbiAgLy8gU3RvcmUgaW4gcXVlcnktc3RvcmUgZm9yIHBlcnNpc3RlbmNlXG4gIGFkZFF1ZXJ5RXZlbnQocXVlcnlJZCwgdHlwZSwgZGF0YSk7XG5cbiAgLy8gRW1pdCB0byBTU0Ugc3Vic2NyaWJlcnMgZm9yIHJlYWwtdGltZSB1cGRhdGVzXG4gIGVtaXRRdWVyeUV2ZW50KHF1ZXJ5SWQsIGV2ZW50KTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlIEZsb3cgQSAoTW90aGVyIEJhc2UgRGVjaXNpb24pIHdpdGggZXZlbnQgc3RyZWFtaW5nXG4gKlxuICogQHBhcmFtIHF1ZXJ5SWQgLSBRdWVyeSBJRCBmb3IgZXZlbnQgc3RyZWFtaW5nXG4gKiBAcGFyYW0gcXVlcnkgLSBUaGUgcXVlcnkgdG8gcHJvY2Vzc1xuICogQHBhcmFtIG1vdGhlckJhc2VGYW1pbHkgLSBNb3RoZXIgQmFzZSBtb2RlbCBmYW1pbHlcbiAqIEBwYXJhbSBzbG90MUZhbWlseSAtIEFkdmlzb3IgU2xvdCAxIGZhbWlseVxuICogQHBhcmFtIHNsb3QyRmFtaWx5IC0gQWR2aXNvciBTbG90IDIgZmFtaWx5XG4gKiBAcmV0dXJucyBGbG93IEEgcmVzdWx0IHdpdGggY29zdCByZXBvcnRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVGbG93QVdpdGhFdmVudHMoXG4gIHF1ZXJ5SWQ6IHN0cmluZyxcbiAgcXVlcnk6IHN0cmluZyxcbiAgbW90aGVyQmFzZUZhbWlseTogTW9kZWxGYW1pbHkgPSAnYW50aHJvcGljJyxcbiAgc2xvdDFGYW1pbHk6IE1vZGVsRmFtaWx5ID0gJ2RlZXBzZWVrJyxcbiAgc2xvdDJGYW1pbHk6IE1vZGVsRmFtaWx5ID0gJ3hhaSdcbik6IFByb21pc2U8Rmxvd0FSZXN1bHRXaXRoQ29zdD4ge1xuICBjb25zb2xlLmxvZyhgW0FraEFJXSDwn5qAIFN0YXJ0aW5nIEZsb3cgQSBmb3IgcXVlcnk6ICR7cXVlcnlJZH1gKTtcbiAgY29uc29sZS5sb2coYFtBa2hBSV0g8J+TnSBRdWVyeSB0ZXh0OiAke3F1ZXJ5LnN1YnN0cmluZygwLCAxMDApfSR7cXVlcnkubGVuZ3RoID4gMTAwID8gJy4uLicgOiAnJ31gKTtcbiAgY29uc29sZS5sb2coYFtBa2hBSV0g8J+PoiBNb3RoZXIgQmFzZTogJHttb3RoZXJCYXNlRmFtaWx5fWApO1xuICBjb25zb2xlLmxvZyhgW0FraEFJXSDwn5GlIEFkdmlzb3JzOiBTbG90MT0ke3Nsb3QxRmFtaWx5fSwgU2xvdDI9JHtzbG90MkZhbWlseX0sIFNsb3QzPW1pc3RyYWwgKGZpeGVkKWApO1xuXG4gIGNvbnN0IGFraGFpID0gY3JlYXRlQWtoQUkobW90aGVyQmFzZUZhbWlseSk7XG5cbiAgLy8gU2V0IEFQSSBrZXlzIGZyb20gZW52aXJvbm1lbnRcbiAgYWtoYWkuc2V0QXBpS2V5cyh7XG4gICAgYW50aHJvcGljOiBwcm9jZXNzLmVudi5BTlRIUk9QSUNfQVBJX0tFWSxcbiAgICBkZWVwc2VlazogcHJvY2Vzcy5lbnYuREVFUFNFRUtfQVBJX0tFWSxcbiAgICB4YWk6IHByb2Nlc3MuZW52LlhBSV9BUElfS0VZLFxuICAgIG1pc3RyYWw6IHByb2Nlc3MuZW52Lk1JU1RSQUxfQVBJX0tFWSxcbiAgfSk7XG5cbiAgLy8gU2V0IHdlYiBzZWFyY2gga2V5IGlmIGF2YWlsYWJsZVxuICBpZiAocHJvY2Vzcy5lbnYuQlJBVkVfU0VBUkNIX0FQSV9LRVkpIHtcbiAgICBha2hhaS5zZXRXZWJTZWFyY2hLZXkocHJvY2Vzcy5lbnYuQlJBVkVfU0VBUkNIX0FQSV9LRVkpO1xuICAgIGNvbnNvbGUubG9nKGBbQWtoQUldIPCflI0gV2ViIHNlYXJjaCBlbmFibGVkIChCcmF2ZSBBUEkpYCk7XG4gIH1cblxuICAvLyBTZXR1cCBNb3RoZXIgQmFzZSBhbmQgQWR2aXNvciBMYXllclxuICBjb25zb2xlLmxvZyhgW0FraEFJXSDimpnvuI8gIFNldHRpbmcgdXAgTW90aGVyIEJhc2UuLi5gKTtcbiAgYWtoYWkuc2V0dXBNb3RoZXJCYXNlKCk7XG4gIGNvbnNvbGUubG9nKGBbQWtoQUldIOKame+4jyAgU2V0dGluZyB1cCBBZHZpc29yIExheWVyLi4uYCk7XG4gIGFraGFpLnNldHVwQWR2aXNvckxheWVyKHNsb3QxRmFtaWx5LCBzbG90MkZhbWlseSk7XG5cbiAgLy8gQ3JlYXRlIHJlYWwtdGltZSBjYWxsYmFja3MgdGhhdCBlbWl0IGV2ZW50cyBhcyBleGVjdXRpb24gaGFwcGVuc1xuICBjb25zdCBjYWxsYmFja3MgPSB7XG4gICAgb25BZHZpc29yU3RhcnQ6IChzbG90OiBudW1iZXIsIGZhbWlseTogc3RyaW5nLCByb3VuZDogbnVtYmVyKSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ2Fkdmlzb3Itc3RhcnQnLCB7XG4gICAgICAgIHJvdW5kLFxuICAgICAgICBzbG90LFxuICAgICAgICBmYW1pbHksXG4gICAgICAgIHN0YXR1czogJ3RoaW5raW5nJyxcbiAgICAgICAgcmVzcG9uc2U6IGAke2ZhbWlseX0gaXMgYW5hbHl6aW5nLi4uYCxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25BZHZpc29yQ29tcGxldGU6IChzbG90OiBudW1iZXIsIGZhbWlseTogc3RyaW5nLCByb3VuZDogbnVtYmVyLCBvdXRwdXQ6IHN0cmluZykgPT4ge1xuICAgICAgZW1pdEV2ZW50KHF1ZXJ5SWQsICdhZHZpc29yLWNvbXBsZXRlJywge1xuICAgICAgICByb3VuZCxcbiAgICAgICAgc2xvdCxcbiAgICAgICAgZmFtaWx5LFxuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZScsXG4gICAgICAgIHJlc3BvbnNlOiBvdXRwdXQsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uQ29uc2Vuc3VzQ2hlY2s6IChyb3VuZDogbnVtYmVyLCByZWFjaGVkOiBib29sZWFuKSA9PiB7XG4gICAgICBpZiAocmVhY2hlZCkge1xuICAgICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ2NvbnNlbnN1cy1yZWFjaGVkJywge1xuICAgICAgICAgIHJvdW5kLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uUm91bmRDb21wbGV0ZTogKHJvdW5kOiBudW1iZXIsIHRvdGFsUm91bmRzOiBudW1iZXIpID0+IHtcbiAgICAgIGVtaXRFdmVudChxdWVyeUlkLCAncm91bmQtY29tcGxldGUnLCB7XG4gICAgICAgIHJvdW5kLFxuICAgICAgICB0b3RhbFJvdW5kcyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25SZWRhY3RvclN0YXJ0OiAoKSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ3JlZGFjdG9yLXN0YXJ0Jywge1xuICAgICAgICBzdGF0dXM6ICdhbmFseXppbmcnLFxuICAgICAgICBvdXRwdXQ6ICdSZWRhY3RvciBpcyBzeW50aGVzaXppbmcgYWR2aXNvciBvdXRwdXRzLi4uJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25SZWRhY3RvckNvbXBsZXRlOiAoc3ludGhlc2lzOiBzdHJpbmcsIGZhbWlseTogc3RyaW5nKSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ3JlZGFjdG9yLWNvbXBsZXRlJywge1xuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZScsXG4gICAgICAgIG91dHB1dDogc3ludGhlc2lzLFxuICAgICAgICBmYW1pbHksXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uTW90aGVyQmFzZVJldmlldzogKGV4Y2hhbmdlOiBudW1iZXIsIGFwcHJvdmVkOiBib29sZWFuLCByZXNwb25zZTogc3RyaW5nKSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ21vdGhlci1iYXNlLXJldmlldycsIHtcbiAgICAgICAgZXhjaGFuZ2UsXG4gICAgICAgIGFwcHJvdmVkLFxuICAgICAgICBkZWNpc2lvbjogcmVzcG9uc2UsXG4gICAgICB9KTtcbiAgICB9LFxuICB9O1xuXG4gIC8vIEV4ZWN1dGUgRmxvdyBBIHdpdGggY2FsbGJhY2tzIC0gd3JhcHBlZCBpbiB0aW1lb3V0ICgzIG1pbnV0ZXMpXG4gIGNvbnNvbGUubG9nKGBbQWtoQUldIPCflKUgRXhlY3V0aW5nIE1vdGhlciBCYXNlIEZsb3cgKHRpbWVvdXQ6IDE4MHMpLi4uYCk7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXRoRXhlY3V0aW9uVGltZW91dChcbiAgICAgIGFraGFpLmV4ZWN1dGVNb3RoZXJCYXNlRmxvdyhxdWVyeSwgY2FsbGJhY2tzKSxcbiAgICAgIDE4MDAwMCwgLy8gMyBtaW51dGVzXG4gICAgICBxdWVyeUlkXG4gICAgKTtcblxuICAgIGNvbnN0IGR1cmF0aW9uID0gKChEYXRlLm5vdygpIC0gc3RhcnRUaW1lKSAvIDEwMDApLnRvRml4ZWQoMik7XG4gICAgY29uc29sZS5sb2coYFtBa2hBSV0g4pyFIEZsb3cgQSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IGluICR7ZHVyYXRpb259c2ApO1xuXG4gICAgLy8gR2V0IGNvc3QgdHJhY2tpbmcgZGF0YVxuICAgIGNvbnN0IGNvc3RSZXBvcnQgPSBha2hhaS5nZXRDb3N0UmVwb3J0KCk7XG4gICAgY29uc29sZS5sb2coYFtBa2hBSV0g8J+SsCBUb3RhbCBjb3N0OiAkJHtjb3N0UmVwb3J0LnRvdGFsQ29zdC50b0ZpeGVkKDQpfWApO1xuICAgIGNvbnNvbGUubG9nKGBbQWtoQUldIPCflKIgVG90YWwgdG9rZW5zOiAke2Nvc3RSZXBvcnQudG90YWxUb2tlbnMudG90YWx9YCk7XG5cbiAgICAvLyBFeGVjdXRpb24gY29tcGxldGUgLSBhbGwgZXZlbnRzIHdlcmUgYWxyZWFkeSBlbWl0dGVkIGluIHJlYWwtdGltZSB2aWEgY2FsbGJhY2tzXG4gICAgcmV0dXJuIHsgLi4ucmVzdWx0LCBjb3N0UmVwb3J0IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc3QgZHVyYXRpb24gPSAoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCkudG9GaXhlZCgyKTtcbiAgICBjb25zb2xlLmVycm9yKGBbQWtoQUldIOKdjCBGbG93IEEgZmFpbGVkIGFmdGVyICR7ZHVyYXRpb259czpgLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IHNvIHRoZSBxdWVyeSByb3V0ZSBjYW4gaGFuZGxlIGl0XG4gIH1cbn1cblxuLyoqXG4gKiBFeGVjdXRlIEZsb3cgQiAoU3ViLUFnZW50IEV4ZWN1dGlvbikgd2l0aCBldmVudCBzdHJlYW1pbmdcbiAqXG4gKiBAcGFyYW0gcXVlcnlJZCAtIFF1ZXJ5IElEIGZvciBldmVudCBzdHJlYW1pbmdcbiAqIEBwYXJhbSBxdWVyeSAtIFRoZSBxdWVyeSB0byBwcm9jZXNzXG4gKiBAcGFyYW0gYWdlbnROYW1lIC0gU3ViLUFnZW50IG5hbWUgdG8gdXNlXG4gKiBAcGFyYW0gbW90aGVyQmFzZUZhbWlseSAtIE1vdGhlciBCYXNlIG1vZGVsIGZhbWlseVxuICogQHBhcmFtIHNsb3QxRmFtaWx5IC0gQWR2aXNvciBTbG90IDEgZmFtaWx5XG4gKiBAcGFyYW0gc2xvdDJGYW1pbHkgLSBBZHZpc29yIFNsb3QgMiBmYW1pbHlcbiAqIEByZXR1cm5zIEZsb3cgQiByZXN1bHQgd2l0aCBjb3N0IHJlcG9ydFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZUZsb3dCV2l0aEV2ZW50cyhcbiAgcXVlcnlJZDogc3RyaW5nLFxuICBxdWVyeTogc3RyaW5nLFxuICBhZ2VudE5hbWU6IHN0cmluZyA9ICdSZXNlYXJjaEFnZW50JyxcbiAgbW90aGVyQmFzZUZhbWlseTogTW9kZWxGYW1pbHkgPSAnYW50aHJvcGljJyxcbiAgc2xvdDFGYW1pbHk6IE1vZGVsRmFtaWx5ID0gJ2RlZXBzZWVrJyxcbiAgc2xvdDJGYW1pbHk6IE1vZGVsRmFtaWx5ID0gJ3hhaSdcbik6IFByb21pc2U8Rmxvd0JSZXN1bHRXaXRoQ29zdD4ge1xuICBjb25zb2xlLmxvZyhgW0FraEFJXSDwn5qAIFN0YXJ0aW5nIEZsb3cgQiBmb3IgcXVlcnk6ICR7cXVlcnlJZH1gKTtcbiAgY29uc29sZS5sb2coYFtBa2hBSV0g8J+TnSBRdWVyeSB0ZXh0OiAke3F1ZXJ5LnN1YnN0cmluZygwLCAxMDApfSR7cXVlcnkubGVuZ3RoID4gMTAwID8gJy4uLicgOiAnJ31gKTtcbiAgY29uc29sZS5sb2coYFtBa2hBSV0g8J+kliBTdWItQWdlbnQ6ICR7YWdlbnROYW1lfWApO1xuICBjb25zb2xlLmxvZyhgW0FraEFJXSDwn4+iIE1vdGhlciBCYXNlOiAke21vdGhlckJhc2VGYW1pbHl9YCk7XG5cbiAgY29uc3QgYWtoYWkgPSBjcmVhdGVBa2hBSShtb3RoZXJCYXNlRmFtaWx5KTtcblxuICAvLyBTZXQgQVBJIGtleXMgZnJvbSBlbnZpcm9ubWVudFxuICBha2hhaS5zZXRBcGlLZXlzKHtcbiAgICBhbnRocm9waWM6IHByb2Nlc3MuZW52LkFOVEhST1BJQ19BUElfS0VZLFxuICAgIGRlZXBzZWVrOiBwcm9jZXNzLmVudi5ERUVQU0VFS19BUElfS0VZLFxuICAgIHhhaTogcHJvY2Vzcy5lbnYuWEFJX0FQSV9LRVksXG4gICAgbWlzdHJhbDogcHJvY2Vzcy5lbnYuTUlTVFJBTF9BUElfS0VZLFxuICB9KTtcblxuICAvLyBTZXQgd2ViIHNlYXJjaCBrZXkgaWYgYXZhaWxhYmxlXG4gIGlmIChwcm9jZXNzLmVudi5CUkFWRV9TRUFSQ0hfQVBJX0tFWSkge1xuICAgIGFraGFpLnNldFdlYlNlYXJjaEtleShwcm9jZXNzLmVudi5CUkFWRV9TRUFSQ0hfQVBJX0tFWSk7XG4gICAgY29uc29sZS5sb2coYFtBa2hBSV0g8J+UjSBXZWIgc2VhcmNoIGVuYWJsZWQgKEJyYXZlIEFQSSlgKTtcbiAgfVxuXG4gIC8vIFNldHVwIE1vdGhlciBCYXNlIGFuZCBBZHZpc29yIExheWVyXG4gIGNvbnNvbGUubG9nKGBbQWtoQUldIOKame+4jyAgU2V0dGluZyB1cCBNb3RoZXIgQmFzZS4uLmApO1xuICBha2hhaS5zZXR1cE1vdGhlckJhc2UoKTtcbiAgY29uc29sZS5sb2coYFtBa2hBSV0g4pqZ77iPICBTZXR0aW5nIHVwIEFkdmlzb3IgTGF5ZXIuLi5gKTtcbiAgYWtoYWkuc2V0dXBBZHZpc29yTGF5ZXIoc2xvdDFGYW1pbHksIHNsb3QyRmFtaWx5KTtcblxuICAvLyBSZWdpc3RlciBzdWItYWdlbnRcbiAgY29uc29sZS5sb2coYFtBa2hBSV0g4pqZ77iPICBSZWdpc3RlcmluZyBzdWItYWdlbnQ6ICR7YWdlbnROYW1lfS4uLmApO1xuICBha2hhaS5yZWdpc3RlclN1YkFnZW50KGFnZW50TmFtZSk7XG5cbiAgLy8gQ3JlYXRlIHJlYWwtdGltZSBjYWxsYmFja3MgZm9yIEZsb3cgQlxuICBjb25zdCBjYWxsYmFja3MgPSB7XG4gICAgb25BZHZpc29yU3RhcnQ6IChzbG90OiBudW1iZXIsIGZhbWlseTogc3RyaW5nLCByb3VuZDogbnVtYmVyKSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ2Fkdmlzb3Itc3RhcnQnLCB7XG4gICAgICAgIHJvdW5kLFxuICAgICAgICBzbG90LFxuICAgICAgICBmYW1pbHksXG4gICAgICAgIHN0YXR1czogJ3RoaW5raW5nJyxcbiAgICAgICAgcmVzcG9uc2U6IGAke2ZhbWlseX0gaXMgYW5hbHl6aW5nLi4uYCxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25BZHZpc29yQ29tcGxldGU6IChzbG90OiBudW1iZXIsIGZhbWlseTogc3RyaW5nLCByb3VuZDogbnVtYmVyLCBvdXRwdXQ6IHN0cmluZykgPT4ge1xuICAgICAgZW1pdEV2ZW50KHF1ZXJ5SWQsICdhZHZpc29yLWNvbXBsZXRlJywge1xuICAgICAgICByb3VuZCxcbiAgICAgICAgc2xvdCxcbiAgICAgICAgZmFtaWx5LFxuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZScsXG4gICAgICAgIHJlc3BvbnNlOiBvdXRwdXQsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uQ29uc2Vuc3VzQ2hlY2s6IChyb3VuZDogbnVtYmVyLCByZWFjaGVkOiBib29sZWFuKSA9PiB7XG4gICAgICBpZiAocmVhY2hlZCkge1xuICAgICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ2NvbnNlbnN1cy1yZWFjaGVkJywge1xuICAgICAgICAgIHJvdW5kLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uUm91bmRDb21wbGV0ZTogKHJvdW5kOiBudW1iZXIsIHRvdGFsUm91bmRzOiBudW1iZXIpID0+IHtcbiAgICAgIGVtaXRFdmVudChxdWVyeUlkLCAncm91bmQtY29tcGxldGUnLCB7XG4gICAgICAgIHJvdW5kLFxuICAgICAgICB0b3RhbFJvdW5kcyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25SZWRhY3RvclN0YXJ0OiAoKSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ3JlZGFjdG9yLXN0YXJ0Jywge1xuICAgICAgICBzdGF0dXM6ICdhbmFseXppbmcnLFxuICAgICAgICBvdXRwdXQ6ICdSZWRhY3RvciBpcyBzeW50aGVzaXppbmcgYWR2aXNvciBvdXRwdXRzLi4uJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25SZWRhY3RvckNvbXBsZXRlOiAoc3ludGhlc2lzOiBzdHJpbmcsIGZhbWlseTogc3RyaW5nKSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ3JlZGFjdG9yLWNvbXBsZXRlJywge1xuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZScsXG4gICAgICAgIG91dHB1dDogc3ludGhlc2lzLFxuICAgICAgICBmYW1pbHksXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uU3ViQWdlbnRTdGFydDogKGFnZW50TmFtZTogc3RyaW5nLCBleGNoYW5nZTogbnVtYmVyKSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ3N1Yi1hZ2VudC1zdGFydCcsIHtcbiAgICAgICAgYWdlbnQ6IGFnZW50TmFtZSxcbiAgICAgICAgZXhjaGFuZ2UsXG4gICAgICAgIHN0YXR1czogJ3dvcmtpbmcnLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvblN1YkFnZW50Q29tcGxldGU6IChhZ2VudE5hbWU6IHN0cmluZywgZXhjaGFuZ2U6IG51bWJlciwgb3V0cHV0OiBzdHJpbmcsIGNvbXBsZXRlOiBib29sZWFuKSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ3N1Yi1hZ2VudC1jb21wbGV0ZScsIHtcbiAgICAgICAgYWdlbnQ6IGFnZW50TmFtZSxcbiAgICAgICAgZXhjaGFuZ2UsXG4gICAgICAgIHJlc3BvbnNlOiBvdXRwdXQsXG4gICAgICAgIGNvbXBsZXRlLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbk1vdGhlckJhc2VSZXZpZXc6IChleGNoYW5nZTogbnVtYmVyLCBhcHByb3ZlZDogYm9vbGVhbiwgcmVzcG9uc2U6IHN0cmluZykgPT4ge1xuICAgICAgZW1pdEV2ZW50KHF1ZXJ5SWQsICdtb3RoZXItYmFzZS1yZXZpZXcnLCB7XG4gICAgICAgIGV4Y2hhbmdlLFxuICAgICAgICBhcHByb3ZlZCxcbiAgICAgICAgZGVjaXNpb246IHJlc3BvbnNlLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfTtcblxuICAvLyBFeGVjdXRlIEZsb3cgQiB3aXRoIGNhbGxiYWNrcyAtIHdyYXBwZWQgaW4gdGltZW91dCAoNSBtaW51dGVzIGZvciBzdWItYWdlbnQgd29yaylcbiAgY29uc29sZS5sb2coYFtBa2hBSV0g8J+UpSBFeGVjdXRpbmcgU3ViLUFnZW50IEZsb3cgKHRpbWVvdXQ6IDMwMHMpLi4uYCk7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXRoRXhlY3V0aW9uVGltZW91dChcbiAgICAgIGFraGFpLmV4ZWN1dGVTdWJBZ2VudEZsb3cocXVlcnksIGFnZW50TmFtZSwgY2FsbGJhY2tzKSxcbiAgICAgIDMwMDAwMCwgLy8gNSBtaW51dGVzIChzdWItYWdlbnRzIG1heSBuZWVkIG1vcmUgdGltZSlcbiAgICAgIHF1ZXJ5SWRcbiAgICApO1xuXG4gICAgY29uc3QgZHVyYXRpb24gPSAoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCkudG9GaXhlZCgyKTtcbiAgICBjb25zb2xlLmxvZyhgW0FraEFJXSDinIUgRmxvdyBCIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgaW4gJHtkdXJhdGlvbn1zYCk7XG5cbiAgICAvLyBHZXQgY29zdCB0cmFja2luZyBkYXRhXG4gICAgY29uc3QgY29zdFJlcG9ydCA9IGFraGFpLmdldENvc3RSZXBvcnQoKTtcbiAgICBjb25zb2xlLmxvZyhgW0FraEFJXSDwn5KwIFRvdGFsIGNvc3Q6ICQke2Nvc3RSZXBvcnQudG90YWxDb3N0LnRvRml4ZWQoNCl9YCk7XG4gICAgY29uc29sZS5sb2coYFtBa2hBSV0g8J+UoiBUb3RhbCB0b2tlbnM6ICR7Y29zdFJlcG9ydC50b3RhbFRva2Vucy50b3RhbH1gKTtcblxuICAgIC8vIEV4ZWN1dGlvbiBjb21wbGV0ZSAtIGFsbCBldmVudHMgd2VyZSBhbHJlYWR5IGVtaXR0ZWQgaW4gcmVhbC10aW1lIHZpYSBjYWxsYmFja3NcbiAgICByZXR1cm4geyAuLi5yZXN1bHQsIGNvc3RSZXBvcnQgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zdCBkdXJhdGlvbiA9ICgoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkgLyAxMDAwKS50b0ZpeGVkKDIpO1xuICAgIGNvbnNvbGUuZXJyb3IoYFtBa2hBSV0g4p2MIEZsb3cgQiBmYWlsZWQgYWZ0ZXIgJHtkdXJhdGlvbn1zOmAsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgc28gdGhlIHF1ZXJ5IHJvdXRlIGNhbiBoYW5kbGUgaXRcbiAgfVxufVxuXG4vKipcbiAqIEV4ZWN1dGUgR1RQIChHZW5lcmF0aXZlIFRob3VnaHRzIFByb2Nlc3MpIHdpdGggZXZlbnQgc3RyZWFtaW5nXG4gKlxuICogQHBhcmFtIHF1ZXJ5SWQgLSBRdWVyeSBJRCBmb3IgZXZlbnQgc3RyZWFtaW5nXG4gKiBAcGFyYW0gcXVlcnkgLSBUaGUgcXVlcnkgdG8gcHJvY2Vzc1xuICogQHBhcmFtIG1vdGhlckJhc2VGYW1pbHkgLSBNb3RoZXIgQmFzZSBtb2RlbCBmYW1pbHlcbiAqIEBwYXJhbSBzbG90MUZhbWlseSAtIEFkdmlzb3IgU2xvdCAxIGZhbWlseVxuICogQHBhcmFtIHNsb3QyRmFtaWx5IC0gQWR2aXNvciBTbG90IDIgZmFtaWx5XG4gKiBAcmV0dXJucyBHVFAgcmVzdWx0IHdpdGggY29zdCByZXBvcnRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVHVFBXaXRoRXZlbnRzKFxuICBxdWVyeUlkOiBzdHJpbmcsXG4gIHF1ZXJ5OiBzdHJpbmcsXG4gIG1vdGhlckJhc2VGYW1pbHk6IE1vZGVsRmFtaWx5ID0gJ2FudGhyb3BpYycsXG4gIHNsb3QxRmFtaWx5OiBNb2RlbEZhbWlseSA9ICdkZWVwc2VlaycsXG4gIHNsb3QyRmFtaWx5OiBNb2RlbEZhbWlseSA9ICd4YWknXG4pOiBQcm9taXNlPEdUUFJlc3VsdFdpdGhDb3N0PiB7XG4gIGNvbnNvbGUubG9nKCdbR1RQXSBTdGFydGluZyBHVFAgZXhlY3V0aW9uIGZvciBxdWVyeTogJyArIHF1ZXJ5SWQpO1xuICBjb25zb2xlLmxvZygnW0dUUF0gUXVlcnkgdGV4dDogJyArIHF1ZXJ5LnN1YnN0cmluZygwLCAxMDApICsgKHF1ZXJ5Lmxlbmd0aCA+IDEwMCA/ICcuLi4nIDogJycpKTtcbiAgY29uc29sZS5sb2coJ1tHVFBdIE1vdGhlciBCYXNlOiAnICsgbW90aGVyQmFzZUZhbWlseSk7XG4gIGNvbnNvbGUubG9nKCdbR1RQXSBBZHZpc29yczogU2xvdDE9JyArIHNsb3QxRmFtaWx5ICsgJywgU2xvdDI9JyArIHNsb3QyRmFtaWx5ICsgJywgU2xvdDM9bWlzdHJhbCAoZml4ZWQpJyk7XG5cbiAgLy8gQW5hbHl6ZSBxdWVyeSB0byBnZXQgY29tcGxleGl0eSBhbmQgY2hhcmFjdGVyaXN0aWNzXG4gIGNvbnNvbGUubG9nKCdbR1RQXSBBbmFseXppbmcgcXVlcnkuLi4nKTtcbiAgY29uc3QgcXVlcnlBbmFseXNpcyA9IGFuYWx5emVRdWVyeShxdWVyeSk7XG4gIGNvbnNvbGUubG9nKCdbR1RQXSAgICBDb21wbGV4aXR5OiAnICsgKHF1ZXJ5QW5hbHlzaXMuY29tcGxleGl0eSAqIDEwMCkudG9GaXhlZCgwKSArICclJyk7XG4gIGNvbnNvbGUubG9nKCdbR1RQXSAgICBUeXBlOiAnICsgcXVlcnlBbmFseXNpcy5xdWVyeVR5cGUpO1xuXG4gIGVtaXRFdmVudChxdWVyeUlkLCAnZ3RwLWFuYWx5c2lzJywge1xuICAgIGNvbXBsZXhpdHk6IHF1ZXJ5QW5hbHlzaXMuY29tcGxleGl0eSxcbiAgICBxdWVyeVR5cGU6IHF1ZXJ5QW5hbHlzaXMucXVlcnlUeXBlLFxuICAgIHJlcXVpcmVzTXVsdGlwbGVQZXJzcGVjdGl2ZXM6IHF1ZXJ5QW5hbHlzaXMucmVxdWlyZXNNdWx0aXBsZVBlcnNwZWN0aXZlcyxcbiAgfSk7XG5cbiAgLy8gQ3JlYXRlIHByb3ZpZGVycyBmb3IgZWFjaCBhZHZpc29yIHNsb3RcbiAgY29uc29sZS5sb2coJ1tHVFBdIENyZWF0aW5nIG1vZGVsIHByb3ZpZGVycy4uLicpO1xuXG4gIGNvbnN0IGFwaUtleXMgPSB7XG4gICAgYW50aHJvcGljOiBwcm9jZXNzLmVudi5BTlRIUk9QSUNfQVBJX0tFWSEsXG4gICAgZGVlcHNlZWs6IHByb2Nlc3MuZW52LkRFRVBTRUVLX0FQSV9LRVkhLFxuICAgIHhhaTogcHJvY2Vzcy5lbnYuWEFJX0FQSV9LRVkhLFxuICAgIG1pc3RyYWw6IHByb2Nlc3MuZW52Lk1JU1RSQUxfQVBJX0tFWSEsXG4gIH07XG5cbiAgY29uc3QgbW90aGVyQmFzZVByb3ZpZGVyID0gY3JlYXRlUHJvdmlkZXJGcm9tRmFtaWx5KG1vdGhlckJhc2VGYW1pbHksIGFwaUtleXMpO1xuICBjb25zdCBzbG90MVByb3ZpZGVyID0gY3JlYXRlUHJvdmlkZXJGcm9tRmFtaWx5KHNsb3QxRmFtaWx5LCBhcGlLZXlzKTtcbiAgY29uc3Qgc2xvdDJQcm92aWRlciA9IGNyZWF0ZVByb3ZpZGVyRnJvbUZhbWlseShzbG90MkZhbWlseSwgYXBpS2V5cyk7XG4gIGNvbnN0IHNsb3QzUHJvdmlkZXIgPSBjcmVhdGVQcm92aWRlckZyb21GYW1pbHkoJ21pc3RyYWwnLCBhcGlLZXlzKTtcblxuICBjb25zdCBhZHZpc29yU2xvdHMgPSBbXG4gICAgeyBzbG90OiAxLCBmYW1pbHk6IHNsb3QxRmFtaWx5LCBwcm92aWRlcjogc2xvdDFQcm92aWRlciB9LFxuICAgIHsgc2xvdDogMiwgZmFtaWx5OiBzbG90MkZhbWlseSwgcHJvdmlkZXI6IHNsb3QyUHJvdmlkZXIgfSxcbiAgICB7IHNsb3Q6IDMsIGZhbWlseTogJ21pc3RyYWwnIGFzIE1vZGVsRmFtaWx5LCBwcm92aWRlcjogc2xvdDNQcm92aWRlciB9LFxuICBdO1xuXG4gIC8vIENyZWF0ZSBHVFAgZXhlY3V0b3JcbiAgY29uc3QgZ3RwRXhlY3V0b3IgPSBuZXcgR1RQRXhlY3V0b3IoKTtcblxuICAvLyBTZXR1cCByZWFsLXRpbWUgY2FsbGJhY2tzIHRoYXQgZW1pdCBldmVudHNcbiAgY29uc3QgY2FsbGJhY2tzID0ge1xuICAgIG9uRmxhc2hQcmVwYXJlOiAoZnJhbWU6IGFueSkgPT4ge1xuICAgICAgZW1pdEV2ZW50KHF1ZXJ5SWQsICdmbGFzaC1wcmVwYXJlJywge1xuICAgICAgICBhZHZpc29yQ291bnQ6IGZyYW1lLmFkdmlzb3JUYXNrcy5sZW5ndGgsXG4gICAgICAgIHJvbGVzOiBmcmFtZS5hZHZpc29yVGFza3MubWFwKCh0OiBhbnkpID0+IHQucm9sZSksXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uRmxhc2hCcm9hZGNhc3Q6IChhZHZpc29yQ291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgZW1pdEV2ZW50KHF1ZXJ5SWQsICdmbGFzaC1icm9hZGNhc3QnLCB7XG4gICAgICAgIGFkdmlzb3JDb3VudCxcbiAgICAgICAgc3RhdHVzOiAnQnJvYWRjYXN0aW5nIHRvIGFsbCBhZHZpc29ycyBpbiBwYXJhbGxlbC4uLicsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uQWR2aXNvclN0YXJ0OiAoc2xvdDogbnVtYmVyLCBmYW1pbHk6IE1vZGVsRmFtaWx5LCByb2xlOiBzdHJpbmcpID0+IHtcbiAgICAgIGVtaXRFdmVudChxdWVyeUlkLCAnYWR2aXNvci1zdGFydCcsIHtcbiAgICAgICAgc2xvdCxcbiAgICAgICAgZmFtaWx5LFxuICAgICAgICByb2xlLFxuICAgICAgICBzdGF0dXM6ICd0aGlua2luZycsXG4gICAgICAgIHJlc3BvbnNlOiBmYW1pbHkgKyAnICgnICsgcm9sZSArICcpIGlzIGFuYWx5emluZy4uLicsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uQWR2aXNvckNvbXBsZXRlOiAocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgZW1pdEV2ZW50KHF1ZXJ5SWQsICdhZHZpc29yLWNvbXBsZXRlJywge1xuICAgICAgICBzbG90OiByZXNwb25zZS5zbG90LFxuICAgICAgICBmYW1pbHk6IHJlc3BvbnNlLmZhbWlseSxcbiAgICAgICAgcm9sZTogcmVzcG9uc2Uucm9sZSxcbiAgICAgICAgc3RhdHVzOiAnY29tcGxldGUnLFxuICAgICAgICBjb25maWRlbmNlOiByZXNwb25zZS5jb25maWRlbmNlLFxuICAgICAgICBrZXlQb2ludHM6IHJlc3BvbnNlLmtleVBvaW50cyxcbiAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLmNvbnRlbnQuc3Vic3RyaW5nKDAsIDIwMCkgKyAnLi4uJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25BZHZpc29yRmFpbGVkOiAoc2xvdDogbnVtYmVyLCBmYW1pbHk6IE1vZGVsRmFtaWx5LCBlcnJvcjogc3RyaW5nKSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ2Fkdmlzb3ItZmFpbGVkJywge1xuICAgICAgICBzbG90LFxuICAgICAgICBmYW1pbHksXG4gICAgICAgIGVycm9yLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBvbk1lcmdlVXBkYXRlOiAoc3RhdGU6IGFueSkgPT4ge1xuICAgICAgZW1pdEV2ZW50KHF1ZXJ5SWQsICdtZXJnZS11cGRhdGUnLCB7XG4gICAgICAgIHJlc3BvbnNlc1JlY2VpdmVkOiBzdGF0ZS5tZXRhZGF0YS5yZXNwb25zZXNSZWNlaXZlZCxcbiAgICAgICAgcmVzcG9uc2VzRXhwZWN0ZWQ6IHN0YXRlLm1ldGFkYXRhLnJlc3BvbnNlc0V4cGVjdGVkLFxuICAgICAgICBpbnNpZ2h0c0NvdW50OiBzdGF0ZS5tZXJnZWRJbnNpZ2h0cy5sZW5ndGgsXG4gICAgICAgIGFncmVlbWVudExldmVsOiBzdGF0ZS5jb25zZW5zdXNTdGF0ZS5hZ3JlZW1lbnRMZXZlbCxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25RdW9ydW1Qcm9ncmVzczogKHJlc3VsdDogYW55KSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ3F1b3J1bS1wcm9ncmVzcycsIHtcbiAgICAgICAgcmVzcG9uc2VzUmVjZWl2ZWQ6IHJlc3VsdC5yZXNwb25zZXNSZWNlaXZlZCxcbiAgICAgICAgcmVzcG9uc2VzRXhwZWN0ZWQ6IHJlc3VsdC5yZXNwb25zZXNFeHBlY3RlZCxcbiAgICAgICAgYWdyZWVtZW50TGV2ZWw6IHJlc3VsdC5hZ3JlZW1lbnRMZXZlbCxcbiAgICAgICAgdGltZUVsYXBzZWQ6IHJlc3VsdC50aW1lRWxhcHNlZCxcbiAgICAgICAgcmVhY2hlZDogcmVzdWx0LnJlYWNoZWQsXG4gICAgICAgIHJlYXNvbjogcmVzdWx0LnJlYXNvbixcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25RdW9ydW1SZWFjaGVkOiAocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgIGVtaXRFdmVudChxdWVyeUlkLCAncXVvcnVtLXJlYWNoZWQnLCB7XG4gICAgICAgIHJlYXNvbjogcmVzdWx0LnJlYXNvbixcbiAgICAgICAgcmVzcG9uc2VzUmVjZWl2ZWQ6IHJlc3VsdC5yZXNwb25zZXNSZWNlaXZlZCxcbiAgICAgICAgYWdyZWVtZW50TGV2ZWw6IHJlc3VsdC5hZ3JlZW1lbnRMZXZlbCxcbiAgICAgICAgdGltZUVsYXBzZWQ6IHJlc3VsdC50aW1lRWxhcHNlZCxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25TeW50aGVzaXNTdGFydDogKCkgPT4ge1xuICAgICAgZW1pdEV2ZW50KHF1ZXJ5SWQsICdzeW50aGVzaXMtc3RhcnQnLCB7XG4gICAgICAgIHN0YXR1czogJ01vdGhlciBCYXNlIGlzIHN5bnRoZXNpemluZyBhZHZpc29yIGluc2lnaHRzLi4uJyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25TeW50aGVzaXNDb21wbGV0ZTogKHN5bnRoZXNpczogc3RyaW5nLCBmYW1pbHk6IE1vZGVsRmFtaWx5KSA9PiB7XG4gICAgICBlbWl0RXZlbnQocXVlcnlJZCwgJ3N5bnRoZXNpcy1jb21wbGV0ZScsIHtcbiAgICAgICAgc3RhdHVzOiAnY29tcGxldGUnLFxuICAgICAgICBvdXRwdXQ6IHN5bnRoZXNpcyxcbiAgICAgICAgZmFtaWx5LFxuICAgICAgfSk7XG4gICAgfSxcbiAgfTtcblxuICAvLyBFeGVjdXRlIEdUUCB3aXRoIGNhbGxiYWNrcyAtIHdyYXBwZWQgaW4gdGltZW91dCAoMiBtaW51dGVzIGZvciBwYXJhbGxlbCBleGVjdXRpb24pXG4gIGNvbnNvbGUubG9nKCdbR1RQXSBFeGVjdXRpbmcgR1RQIG1ldGhvZG9sb2d5ICh0aW1lb3V0OiAxMjBzKS4uLicpO1xuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l0aEV4ZWN1dGlvblRpbWVvdXQoXG4gICAgICBndHBFeGVjdXRvci5leGVjdXRlKHtcbiAgICAgICAgcXVlcnksXG4gICAgICAgIHF1ZXJ5QW5hbHlzaXMsXG4gICAgICAgIGFkdmlzb3JTbG90cyxcbiAgICAgICAgbW90aGVyQmFzZVByb3ZpZGVyLFxuICAgICAgICBjYWxsYmFja3MsXG4gICAgICB9KSxcbiAgICAgIDEyMDAwMCwgLy8gMiBtaW51dGVzIChHVFAgaXMgZmFzdGVyIHRoYW4gc2VxdWVudGlhbCBmbG93cylcbiAgICAgIHF1ZXJ5SWRcbiAgICApO1xuXG4gICAgY29uc3QgZHVyYXRpb24gPSAoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCkudG9GaXhlZCgyKTtcbiAgICBjb25zb2xlLmxvZygnW0dUUF0gR1RQIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgaW4gJyArIGR1cmF0aW9uICsgJ3MnKTtcbiAgICBjb25zb2xlLmxvZygnW0dUUF0gVG90YWwgY29zdDogJCcgKyByZXN1bHQubWV0cmljcy50b3RhbENvc3QudG9GaXhlZCg0KSk7XG4gICAgY29uc29sZS5sb2coJ1tHVFBdIFRvdGFsIHRva2VuczogJyArIHJlc3VsdC5tZXRyaWNzLnRvdGFsVG9rZW5zLnRvdGFsKTtcbiAgICBjb25zb2xlLmxvZygnW0dUUF0gU3VjY2VzcyByYXRlOiAnICsgKHJlc3VsdC5tZXRyaWNzLnN1Y2Nlc3NSYXRlICogMTAwKS50b0ZpeGVkKDApICsgJyUnKTtcbiAgICBjb25zb2xlLmxvZygnW0dUUF0gQWdyZWVtZW50OiAnICsgKHJlc3VsdC5saXZpbmdEYXRhYmFzZS5jb25zZW5zdXNTdGF0ZS5hZ3JlZW1lbnRMZXZlbCAqIDEwMCkudG9GaXhlZCgwKSArICclJyk7XG5cbiAgICAvLyBGb3JtYXQgY29zdCByZXBvcnQgdG8gbWF0Y2ggZXhpc3RpbmcgaW50ZXJmYWNlXG4gICAgY29uc3QgY29zdFJlcG9ydDogQ29zdFJlcG9ydCA9IHtcbiAgICAgIHRvdGFsQ29zdDogcmVzdWx0Lm1ldHJpY3MudG90YWxDb3N0LFxuICAgICAgdG90YWxUb2tlbnM6IHJlc3VsdC5tZXRyaWNzLnRvdGFsVG9rZW5zLFxuICAgICAgcHJvdmlkZXJVc2FnZTogW10sIC8vIFRPRE86IEV4dHJhY3QgZnJvbSBHVFAgbWV0cmljcyBpZiBuZWVkZWRcbiAgICAgIGZvcm1hdHRlZFJlcG9ydDogJ0dUUCBFeGVjdXRpb24gQ29tcGxldGVcXG5Ub3RhbDogJCcgKyByZXN1bHQubWV0cmljcy50b3RhbENvc3QudG9GaXhlZCg0KSArICdcXG5Ub2tlbnM6ICcgKyByZXN1bHQubWV0cmljcy50b3RhbFRva2Vucy50b3RhbCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHsgcmVzdWx0LCBjb3N0UmVwb3J0IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc3QgZHVyYXRpb24gPSAoKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMCkudG9GaXhlZCgyKTtcbiAgICBjb25zb2xlLmVycm9yKCdbR1RQXSBHVFAgZmFpbGVkIGFmdGVyICcgKyBkdXJhdGlvbiArICdzOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUFraEFJIiwiR1RQRXhlY3V0b3IiLCJhbmFseXplUXVlcnkiLCJjcmVhdGVQcm92aWRlckZyb21GYW1pbHkiLCJhZGRRdWVyeUV2ZW50IiwiZW1pdFF1ZXJ5RXZlbnQiLCJ3aXRoRXhlY3V0aW9uVGltZW91dCIsInByb21pc2UiLCJ0aW1lb3V0TXMiLCJxdWVyeUlkIiwidGltZW91dCIsIlByb21pc2UiLCJfIiwicmVqZWN0Iiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJlcnJvciIsIkVycm9yIiwicmFjZSIsImVtaXRFdmVudCIsInR5cGUiLCJkYXRhIiwiZXZlbnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiZXhlY3V0ZUZsb3dBV2l0aEV2ZW50cyIsInF1ZXJ5IiwibW90aGVyQmFzZUZhbWlseSIsInNsb3QxRmFtaWx5Iiwic2xvdDJGYW1pbHkiLCJsb2ciLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJha2hhaSIsInNldEFwaUtleXMiLCJhbnRocm9waWMiLCJwcm9jZXNzIiwiZW52IiwiQU5USFJPUElDX0FQSV9LRVkiLCJkZWVwc2VlayIsIkRFRVBTRUVLX0FQSV9LRVkiLCJ4YWkiLCJYQUlfQVBJX0tFWSIsIm1pc3RyYWwiLCJNSVNUUkFMX0FQSV9LRVkiLCJCUkFWRV9TRUFSQ0hfQVBJX0tFWSIsInNldFdlYlNlYXJjaEtleSIsInNldHVwTW90aGVyQmFzZSIsInNldHVwQWR2aXNvckxheWVyIiwiY2FsbGJhY2tzIiwib25BZHZpc29yU3RhcnQiLCJzbG90IiwiZmFtaWx5Iiwicm91bmQiLCJzdGF0dXMiLCJyZXNwb25zZSIsIm9uQWR2aXNvckNvbXBsZXRlIiwib3V0cHV0Iiwib25Db25zZW5zdXNDaGVjayIsInJlYWNoZWQiLCJvblJvdW5kQ29tcGxldGUiLCJ0b3RhbFJvdW5kcyIsIm9uUmVkYWN0b3JTdGFydCIsIm9uUmVkYWN0b3JDb21wbGV0ZSIsInN5bnRoZXNpcyIsIm9uTW90aGVyQmFzZVJldmlldyIsImV4Y2hhbmdlIiwiYXBwcm92ZWQiLCJkZWNpc2lvbiIsInN0YXJ0VGltZSIsInJlc3VsdCIsImV4ZWN1dGVNb3RoZXJCYXNlRmxvdyIsImR1cmF0aW9uIiwidG9GaXhlZCIsImNvc3RSZXBvcnQiLCJnZXRDb3N0UmVwb3J0IiwidG90YWxDb3N0IiwidG90YWxUb2tlbnMiLCJ0b3RhbCIsImV4ZWN1dGVGbG93QldpdGhFdmVudHMiLCJhZ2VudE5hbWUiLCJyZWdpc3RlclN1YkFnZW50Iiwib25TdWJBZ2VudFN0YXJ0IiwiYWdlbnQiLCJvblN1YkFnZW50Q29tcGxldGUiLCJjb21wbGV0ZSIsImV4ZWN1dGVTdWJBZ2VudEZsb3ciLCJleGVjdXRlR1RQV2l0aEV2ZW50cyIsInF1ZXJ5QW5hbHlzaXMiLCJjb21wbGV4aXR5IiwicXVlcnlUeXBlIiwicmVxdWlyZXNNdWx0aXBsZVBlcnNwZWN0aXZlcyIsImFwaUtleXMiLCJtb3RoZXJCYXNlUHJvdmlkZXIiLCJzbG90MVByb3ZpZGVyIiwic2xvdDJQcm92aWRlciIsInNsb3QzUHJvdmlkZXIiLCJhZHZpc29yU2xvdHMiLCJwcm92aWRlciIsImd0cEV4ZWN1dG9yIiwib25GbGFzaFByZXBhcmUiLCJmcmFtZSIsImFkdmlzb3JDb3VudCIsImFkdmlzb3JUYXNrcyIsInJvbGVzIiwibWFwIiwidCIsInJvbGUiLCJvbkZsYXNoQnJvYWRjYXN0IiwiY29uZmlkZW5jZSIsImtleVBvaW50cyIsImNvbnRlbnQiLCJvbkFkdmlzb3JGYWlsZWQiLCJvbk1lcmdlVXBkYXRlIiwic3RhdGUiLCJyZXNwb25zZXNSZWNlaXZlZCIsIm1ldGFkYXRhIiwicmVzcG9uc2VzRXhwZWN0ZWQiLCJpbnNpZ2h0c0NvdW50IiwibWVyZ2VkSW5zaWdodHMiLCJhZ3JlZW1lbnRMZXZlbCIsImNvbnNlbnN1c1N0YXRlIiwib25RdW9ydW1Qcm9ncmVzcyIsInRpbWVFbGFwc2VkIiwicmVhc29uIiwib25RdW9ydW1SZWFjaGVkIiwib25TeW50aGVzaXNTdGFydCIsIm9uU3ludGhlc2lzQ29tcGxldGUiLCJleGVjdXRlIiwibWV0cmljcyIsInN1Y2Nlc3NSYXRlIiwibGl2aW5nRGF0YWJhc2UiLCJwcm92aWRlclVzYWdlIiwiZm9ybWF0dGVkUmVwb3J0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/akhai-executor.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addEvent: () => (/* binding */ addEvent),\n/* harmony export */   closeDatabase: () => (/* binding */ closeDatabase),\n/* harmony export */   createQuery: () => (/* binding */ createQuery),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   getEvents: () => (/* binding */ getEvents),\n/* harmony export */   getQuery: () => (/* binding */ getQuery),\n/* harmony export */   getRecentQueries: () => (/* binding */ getRecentQueries),\n/* harmony export */   getStats: () => (/* binding */ getStats),\n/* harmony export */   trackUsage: () => (/* binding */ trackUsage),\n/* harmony export */   updateQuery: () => (/* binding */ updateQuery)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/**\n * SQLite Database for AkhAI\n *\n * Provides persistent storage for queries, events, and usage statistics.\n */ \n\n\n// Ensure data directory exists\nconst dataDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), 'data');\nif (!fs__WEBPACK_IMPORTED_MODULE_2___default().existsSync(dataDir)) {\n    fs__WEBPACK_IMPORTED_MODULE_2___default().mkdirSync(dataDir, {\n        recursive: true\n    });\n}\nconst dbPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(dataDir, 'akhai.db');\nconst db = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default())(dbPath);\n// Enable WAL mode for better concurrency\ndb.pragma('journal_mode = WAL');\n// Initialize database schema\ndb.exec(`\n  CREATE TABLE IF NOT EXISTS queries (\n    id TEXT PRIMARY KEY,\n    query TEXT NOT NULL,\n    flow TEXT NOT NULL,\n    status TEXT DEFAULT 'pending',\n    result TEXT,\n    tokens_used INTEGER DEFAULT 0,\n    cost REAL DEFAULT 0,\n    created_at INTEGER DEFAULT (strftime('%s', 'now')),\n    completed_at INTEGER\n  );\n\n  CREATE TABLE IF NOT EXISTS events (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    query_id TEXT NOT NULL,\n    type TEXT NOT NULL,\n    data TEXT,\n    timestamp INTEGER DEFAULT (strftime('%s', 'now')),\n    FOREIGN KEY (query_id) REFERENCES queries(id)\n  );\n\n  CREATE TABLE IF NOT EXISTS usage (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    provider TEXT NOT NULL,\n    model TEXT NOT NULL,\n    input_tokens INTEGER NOT NULL,\n    output_tokens INTEGER NOT NULL,\n    cost REAL NOT NULL,\n    timestamp INTEGER DEFAULT (strftime('%s', 'now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_queries_created_at ON queries(created_at DESC);\n  CREATE INDEX IF NOT EXISTS idx_queries_status ON queries(status);\n  CREATE INDEX IF NOT EXISTS idx_events_query_id ON events(query_id);\n  CREATE INDEX IF NOT EXISTS idx_usage_provider ON usage(provider);\n  CREATE INDEX IF NOT EXISTS idx_usage_timestamp ON usage(timestamp);\n`);\nconsole.log(` Database initialized: ${dbPath}`);\n\n/**\n * Create a new query\n */ function createQuery(id, query, flow) {\n    const stmt = db.prepare('INSERT INTO queries (id, query, flow) VALUES (?, ?, ?)');\n    stmt.run(id, query, flow);\n}\n/**\n * Update query details\n */ function updateQuery(id, updates) {\n    const fields = Object.keys(updates);\n    if (fields.length === 0) return;\n    const sets = fields.map((f)=>`${f} = ?`).join(', ');\n    const values = fields.map((f)=>updates[f]);\n    const stmt = db.prepare(`UPDATE queries SET ${sets}, completed_at = strftime('%s', 'now') WHERE id = ?`);\n    stmt.run(...values, id);\n}\n/**\n * Get a query by ID\n */ function getQuery(id) {\n    const stmt = db.prepare('SELECT * FROM queries WHERE id = ?');\n    return stmt.get(id);\n}\n/**\n * Add an event to a query\n */ function addEvent(queryId, type, data) {\n    const stmt = db.prepare('INSERT INTO events (query_id, type, data) VALUES (?, ?, ?)');\n    stmt.run(queryId, type, JSON.stringify(data));\n}\n/**\n * Get events for a query\n */ function getEvents(queryId, offset = 0) {\n    const stmt = db.prepare('SELECT * FROM events WHERE query_id = ? ORDER BY id ASC LIMIT -1 OFFSET ?');\n    return stmt.all(queryId, offset);\n}\n/**\n * Track API usage\n */ function trackUsage(provider, model, inputTokens, outputTokens, cost) {\n    const stmt = db.prepare('INSERT INTO usage (provider, model, input_tokens, output_tokens, cost) VALUES (?, ?, ?, ?, ?)');\n    stmt.run(provider, model, inputTokens, outputTokens, cost);\n}\n/**\n * Get dashboard statistics\n */ function getStats() {\n    const now = Math.floor(Date.now() / 1000);\n    const todayStart = now - now % 86400;\n    // Start of current month\n    const date = new Date();\n    const monthStart = Math.floor(new Date(date.getFullYear(), date.getMonth(), 1).getTime() / 1000);\n    const queriesToday = db.prepare('SELECT COUNT(*) as count FROM queries WHERE created_at >= ?').get(todayStart);\n    const queriesMonth = db.prepare('SELECT COUNT(*) as count FROM queries WHERE created_at >= ?').get(monthStart);\n    const totals = db.prepare('SELECT SUM(tokens_used) as tokens, SUM(cost) as cost FROM queries').get();\n    const avgTime = db.prepare(\"SELECT AVG(completed_at - created_at) as avg FROM queries WHERE status = 'complete' AND completed_at IS NOT NULL\").get();\n    const providerStats = db.prepare(`SELECT provider, COUNT(*) as queries, SUM(cost) as cost\n       FROM usage\n       GROUP BY provider`).all();\n    return {\n        queriesToday: queriesToday?.count || 0,\n        queriesThisMonth: queriesMonth?.count || 0,\n        totalTokens: totals?.tokens || 0,\n        totalCost: totals?.cost || 0,\n        avgResponseTime: avgTime?.avg || 0,\n        providerStats\n    };\n}\n/**\n * Get recent queries\n */ function getRecentQueries(limit = 10) {\n    const stmt = db.prepare(`\n    SELECT id, query, flow, status, created_at, completed_at\n    FROM queries\n    ORDER BY created_at DESC\n    LIMIT ?\n  `);\n    return stmt.all(limit);\n}\n/**\n * Close database connection (for graceful shutdown)\n */ function closeDatabase() {\n    db.close();\n    console.log('Database connection closed');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsK0RBQ1JhLEdBQUcsQ0FBQ3FCO0lBRVAsTUFBTU8sZUFBZW5ELEdBQ2xCVSxPQUFPLENBQUMsK0RBQ1JhLEdBQUcsQ0FBQ3VCO0lBRVAsTUFBTU0sU0FBU3BELEdBQ1pVLE9BQU8sQ0FBQyxxRUFDUmEsR0FBRztJQUVOLE1BQU04QixVQUFVckQsR0FDYlUsT0FBTyxDQUNOLG9IQUVEYSxHQUFHO0lBRU4sTUFBTStCLGdCQUFnQnRELEdBQ25CVSxPQUFPLENBQ04sQ0FBQzs7d0JBRWlCLENBQUMsRUFFcEJzQixHQUFHO0lBRU4sT0FBTztRQUNMa0IsY0FBY0EsY0FBY0ssU0FBUztRQUNyQ0Msa0JBQWtCTCxjQUFjSSxTQUFTO1FBQ3pDRSxhQUFhTCxRQUFRTSxVQUFVO1FBQy9CQyxXQUFXUCxRQUFRZCxRQUFRO1FBQzNCc0IsaUJBQWlCUCxTQUFTUSxPQUFPO1FBQ2pDUDtJQUNGO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLFNBQVNRLGlCQUFpQkMsUUFBZ0IsRUFBRTtJQUNqRCxNQUFNdEQsT0FBT1QsR0FBR1UsT0FBTyxDQUFDLENBQUM7Ozs7O0VBS3pCLENBQUM7SUFDRCxPQUFPRCxLQUFLdUIsR0FBRyxDQUFDK0I7QUFRbEI7QUFFQTs7Q0FFQyxHQUNNLFNBQVNDO0lBQ2RoRSxHQUFHaUUsS0FBSztJQUNSOUQsUUFBUUMsR0FBRyxDQUFDO0FBQ2QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaGVpcnJhemEvYWtoYWkvcGFja2FnZXMvd2ViL2xpYi9kYXRhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNRTGl0ZSBEYXRhYmFzZSBmb3IgQWtoQUlcbiAqXG4gKiBQcm92aWRlcyBwZXJzaXN0ZW50IHN0b3JhZ2UgZm9yIHF1ZXJpZXMsIGV2ZW50cywgYW5kIHVzYWdlIHN0YXRpc3RpY3MuXG4gKi9cblxuaW1wb3J0IERhdGFiYXNlIGZyb20gJ2JldHRlci1zcWxpdGUzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcblxuLy8gRW5zdXJlIGRhdGEgZGlyZWN0b3J5IGV4aXN0c1xuY29uc3QgZGF0YURpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScpO1xuaWYgKCFmcy5leGlzdHNTeW5jKGRhdGFEaXIpKSB7XG4gIGZzLm1rZGlyU3luYyhkYXRhRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbn1cblxuY29uc3QgZGJQYXRoID0gcGF0aC5qb2luKGRhdGFEaXIsICdha2hhaS5kYicpO1xuY29uc3QgZGIgPSBuZXcgRGF0YWJhc2UoZGJQYXRoKTtcblxuLy8gRW5hYmxlIFdBTCBtb2RlIGZvciBiZXR0ZXIgY29uY3VycmVuY3lcbmRiLnByYWdtYSgnam91cm5hbF9tb2RlID0gV0FMJyk7XG5cbi8vIEluaXRpYWxpemUgZGF0YWJhc2Ugc2NoZW1hXG5kYi5leGVjKGBcbiAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcXVlcmllcyAoXG4gICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICBxdWVyeSBURVhUIE5PVCBOVUxMLFxuICAgIGZsb3cgVEVYVCBOT1QgTlVMTCxcbiAgICBzdGF0dXMgVEVYVCBERUZBVUxUICdwZW5kaW5nJyxcbiAgICByZXN1bHQgVEVYVCxcbiAgICB0b2tlbnNfdXNlZCBJTlRFR0VSIERFRkFVTFQgMCxcbiAgICBjb3N0IFJFQUwgREVGQVVMVCAwLFxuICAgIGNyZWF0ZWRfYXQgSU5URUdFUiBERUZBVUxUIChzdHJmdGltZSgnJXMnLCAnbm93JykpLFxuICAgIGNvbXBsZXRlZF9hdCBJTlRFR0VSXG4gICk7XG5cbiAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZXZlbnRzIChcbiAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsXG4gICAgcXVlcnlfaWQgVEVYVCBOT1QgTlVMTCxcbiAgICB0eXBlIFRFWFQgTk9UIE5VTEwsXG4gICAgZGF0YSBURVhULFxuICAgIHRpbWVzdGFtcCBJTlRFR0VSIERFRkFVTFQgKHN0cmZ0aW1lKCclcycsICdub3cnKSksXG4gICAgRk9SRUlHTiBLRVkgKHF1ZXJ5X2lkKSBSRUZFUkVOQ0VTIHF1ZXJpZXMoaWQpXG4gICk7XG5cbiAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNhZ2UgKFxuICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcbiAgICBwcm92aWRlciBURVhUIE5PVCBOVUxMLFxuICAgIG1vZGVsIFRFWFQgTk9UIE5VTEwsXG4gICAgaW5wdXRfdG9rZW5zIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgb3V0cHV0X3Rva2VucyBJTlRFR0VSIE5PVCBOVUxMLFxuICAgIGNvc3QgUkVBTCBOT1QgTlVMTCxcbiAgICB0aW1lc3RhbXAgSU5URUdFUiBERUZBVUxUIChzdHJmdGltZSgnJXMnLCAnbm93JykpXG4gICk7XG5cbiAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X3F1ZXJpZXNfY3JlYXRlZF9hdCBPTiBxdWVyaWVzKGNyZWF0ZWRfYXQgREVTQyk7XG4gIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9xdWVyaWVzX3N0YXR1cyBPTiBxdWVyaWVzKHN0YXR1cyk7XG4gIENSRUFURSBJTkRFWCBJRiBOT1QgRVhJU1RTIGlkeF9ldmVudHNfcXVlcnlfaWQgT04gZXZlbnRzKHF1ZXJ5X2lkKTtcbiAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X3VzYWdlX3Byb3ZpZGVyIE9OIHVzYWdlKHByb3ZpZGVyKTtcbiAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X3VzYWdlX3RpbWVzdGFtcCBPTiB1c2FnZSh0aW1lc3RhbXApO1xuYCk7XG5cbmNvbnNvbGUubG9nKGDinIUgRGF0YWJhc2UgaW5pdGlhbGl6ZWQ6ICR7ZGJQYXRofWApO1xuXG5leHBvcnQgeyBkYiB9O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBxdWVyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUXVlcnkoaWQ6IHN0cmluZywgcXVlcnk6IHN0cmluZywgZmxvdzogc3RyaW5nKSB7XG4gIGNvbnN0IHN0bXQgPSBkYi5wcmVwYXJlKCdJTlNFUlQgSU5UTyBxdWVyaWVzIChpZCwgcXVlcnksIGZsb3cpIFZBTFVFUyAoPywgPywgPyknKTtcbiAgc3RtdC5ydW4oaWQsIHF1ZXJ5LCBmbG93KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgcXVlcnkgZGV0YWlsc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUXVlcnkoXG4gIGlkOiBzdHJpbmcsXG4gIHVwZGF0ZXM6IHtcbiAgICBzdGF0dXM/OiBzdHJpbmc7XG4gICAgcmVzdWx0Pzogc3RyaW5nO1xuICAgIHRva2Vuc191c2VkPzogbnVtYmVyO1xuICAgIGNvc3Q/OiBudW1iZXI7XG4gIH1cbikge1xuICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVzKTtcbiAgaWYgKGZpZWxkcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICBjb25zdCBzZXRzID0gZmllbGRzLm1hcCgoZikgPT4gYCR7Zn0gPSA/YCkuam9pbignLCAnKTtcbiAgY29uc3QgdmFsdWVzID0gZmllbGRzLm1hcCgoZikgPT4gdXBkYXRlc1tmIGFzIGtleW9mIHR5cGVvZiB1cGRhdGVzXSk7XG5cbiAgY29uc3Qgc3RtdCA9IGRiLnByZXBhcmUoXG4gICAgYFVQREFURSBxdWVyaWVzIFNFVCAke3NldHN9LCBjb21wbGV0ZWRfYXQgPSBzdHJmdGltZSgnJXMnLCAnbm93JykgV0hFUkUgaWQgPSA/YFxuICApO1xuICBzdG10LnJ1biguLi52YWx1ZXMsIGlkKTtcbn1cblxuLyoqXG4gKiBHZXQgYSBxdWVyeSBieSBJRFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXVlcnkoaWQ6IHN0cmluZykge1xuICBjb25zdCBzdG10ID0gZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSBxdWVyaWVzIFdIRVJFIGlkID0gPycpO1xuICByZXR1cm4gc3RtdC5nZXQoaWQpO1xufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCB0byBhIHF1ZXJ5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudChxdWVyeUlkOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgZGF0YTogYW55KSB7XG4gIGNvbnN0IHN0bXQgPSBkYi5wcmVwYXJlKCdJTlNFUlQgSU5UTyBldmVudHMgKHF1ZXJ5X2lkLCB0eXBlLCBkYXRhKSBWQUxVRVMgKD8sID8sID8pJyk7XG4gIHN0bXQucnVuKHF1ZXJ5SWQsIHR5cGUsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbn1cblxuLyoqXG4gKiBHZXQgZXZlbnRzIGZvciBhIHF1ZXJ5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudHMocXVlcnlJZDogc3RyaW5nLCBvZmZzZXQ6IG51bWJlciA9IDApIHtcbiAgY29uc3Qgc3RtdCA9IGRiLnByZXBhcmUoXG4gICAgJ1NFTEVDVCAqIEZST00gZXZlbnRzIFdIRVJFIHF1ZXJ5X2lkID0gPyBPUkRFUiBCWSBpZCBBU0MgTElNSVQgLTEgT0ZGU0VUID8nXG4gICk7XG4gIHJldHVybiBzdG10LmFsbChxdWVyeUlkLCBvZmZzZXQpIGFzIEFycmF5PHtcbiAgICBpZDogbnVtYmVyO1xuICAgIHF1ZXJ5X2lkOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGRhdGE6IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgfT47XG59XG5cbi8qKlxuICogVHJhY2sgQVBJIHVzYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFja1VzYWdlKFxuICBwcm92aWRlcjogc3RyaW5nLFxuICBtb2RlbDogc3RyaW5nLFxuICBpbnB1dFRva2VuczogbnVtYmVyLFxuICBvdXRwdXRUb2tlbnM6IG51bWJlcixcbiAgY29zdDogbnVtYmVyXG4pIHtcbiAgY29uc3Qgc3RtdCA9IGRiLnByZXBhcmUoXG4gICAgJ0lOU0VSVCBJTlRPIHVzYWdlIChwcm92aWRlciwgbW9kZWwsIGlucHV0X3Rva2Vucywgb3V0cHV0X3Rva2VucywgY29zdCkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KSdcbiAgKTtcbiAgc3RtdC5ydW4ocHJvdmlkZXIsIG1vZGVsLCBpbnB1dFRva2Vucywgb3V0cHV0VG9rZW5zLCBjb3N0KTtcbn1cblxuLyoqXG4gKiBHZXQgZGFzaGJvYXJkIHN0YXRpc3RpY3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRzKCkge1xuICBjb25zdCBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgY29uc3QgdG9kYXlTdGFydCA9IG5vdyAtIChub3cgJSA4NjQwMCk7XG5cbiAgLy8gU3RhcnQgb2YgY3VycmVudCBtb250aFxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgY29uc3QgbW9udGhTdGFydCA9IE1hdGguZmxvb3IobmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpLmdldFRpbWUoKSAvIDEwMDApO1xuXG4gIGNvbnN0IHF1ZXJpZXNUb2RheSA9IGRiXG4gICAgLnByZXBhcmUoJ1NFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHF1ZXJpZXMgV0hFUkUgY3JlYXRlZF9hdCA+PSA/JylcbiAgICAuZ2V0KHRvZGF5U3RhcnQpIGFzIGFueTtcblxuICBjb25zdCBxdWVyaWVzTW9udGggPSBkYlxuICAgIC5wcmVwYXJlKCdTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSBxdWVyaWVzIFdIRVJFIGNyZWF0ZWRfYXQgPj0gPycpXG4gICAgLmdldChtb250aFN0YXJ0KSBhcyBhbnk7XG5cbiAgY29uc3QgdG90YWxzID0gZGJcbiAgICAucHJlcGFyZSgnU0VMRUNUIFNVTSh0b2tlbnNfdXNlZCkgYXMgdG9rZW5zLCBTVU0oY29zdCkgYXMgY29zdCBGUk9NIHF1ZXJpZXMnKVxuICAgIC5nZXQoKSBhcyBhbnk7XG5cbiAgY29uc3QgYXZnVGltZSA9IGRiXG4gICAgLnByZXBhcmUoXG4gICAgICBcIlNFTEVDVCBBVkcoY29tcGxldGVkX2F0IC0gY3JlYXRlZF9hdCkgYXMgYXZnIEZST00gcXVlcmllcyBXSEVSRSBzdGF0dXMgPSAnY29tcGxldGUnIEFORCBjb21wbGV0ZWRfYXQgSVMgTk9UIE5VTExcIlxuICAgIClcbiAgICAuZ2V0KCkgYXMgYW55O1xuXG4gIGNvbnN0IHByb3ZpZGVyU3RhdHMgPSBkYlxuICAgIC5wcmVwYXJlKFxuICAgICAgYFNFTEVDVCBwcm92aWRlciwgQ09VTlQoKikgYXMgcXVlcmllcywgU1VNKGNvc3QpIGFzIGNvc3RcbiAgICAgICBGUk9NIHVzYWdlXG4gICAgICAgR1JPVVAgQlkgcHJvdmlkZXJgXG4gICAgKVxuICAgIC5hbGwoKSBhcyBBcnJheTx7IHByb3ZpZGVyOiBzdHJpbmc7IHF1ZXJpZXM6IG51bWJlcjsgY29zdDogbnVtYmVyIH0+O1xuXG4gIHJldHVybiB7XG4gICAgcXVlcmllc1RvZGF5OiBxdWVyaWVzVG9kYXk/LmNvdW50IHx8IDAsXG4gICAgcXVlcmllc1RoaXNNb250aDogcXVlcmllc01vbnRoPy5jb3VudCB8fCAwLFxuICAgIHRvdGFsVG9rZW5zOiB0b3RhbHM/LnRva2VucyB8fCAwLFxuICAgIHRvdGFsQ29zdDogdG90YWxzPy5jb3N0IHx8IDAsXG4gICAgYXZnUmVzcG9uc2VUaW1lOiBhdmdUaW1lPy5hdmcgfHwgMCxcbiAgICBwcm92aWRlclN0YXRzLFxuICB9O1xufVxuXG4vKipcbiAqIEdldCByZWNlbnQgcXVlcmllc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVjZW50UXVlcmllcyhsaW1pdDogbnVtYmVyID0gMTApIHtcbiAgY29uc3Qgc3RtdCA9IGRiLnByZXBhcmUoYFxuICAgIFNFTEVDVCBpZCwgcXVlcnksIGZsb3csIHN0YXR1cywgY3JlYXRlZF9hdCwgY29tcGxldGVkX2F0XG4gICAgRlJPTSBxdWVyaWVzXG4gICAgT1JERVIgQlkgY3JlYXRlZF9hdCBERVNDXG4gICAgTElNSVQgP1xuICBgKTtcbiAgcmV0dXJuIHN0bXQuYWxsKGxpbWl0KSBhcyBBcnJheTx7XG4gICAgaWQ6IHN0cmluZztcbiAgICBxdWVyeTogc3RyaW5nO1xuICAgIGZsb3c6IHN0cmluZztcbiAgICBzdGF0dXM6IHN0cmluZztcbiAgICBjcmVhdGVkX2F0OiBudW1iZXI7XG4gICAgY29tcGxldGVkX2F0OiBudW1iZXIgfCBudWxsO1xuICB9Pjtcbn1cblxuLyoqXG4gKiBDbG9zZSBkYXRhYmFzZSBjb25uZWN0aW9uIChmb3IgZ3JhY2VmdWwgc2h1dGRvd24pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZURhdGFiYXNlKCkge1xuICBkYi5jbG9zZSgpO1xuICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBjbG9zZWQnKTtcbn1cbiJdLCJuYW1lcyI6WyJEYXRhYmFzZSIsInBhdGgiLCJmcyIsImRhdGFEaXIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJkYlBhdGgiLCJkYiIsInByYWdtYSIsImV4ZWMiLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlUXVlcnkiLCJpZCIsInF1ZXJ5IiwiZmxvdyIsInN0bXQiLCJwcmVwYXJlIiwicnVuIiwidXBkYXRlUXVlcnkiLCJ1cGRhdGVzIiwiZmllbGRzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInNldHMiLCJtYXAiLCJmIiwidmFsdWVzIiwiZ2V0UXVlcnkiLCJnZXQiLCJhZGRFdmVudCIsInF1ZXJ5SWQiLCJ0eXBlIiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRFdmVudHMiLCJvZmZzZXQiLCJhbGwiLCJ0cmFja1VzYWdlIiwicHJvdmlkZXIiLCJtb2RlbCIsImlucHV0VG9rZW5zIiwib3V0cHV0VG9rZW5zIiwiY29zdCIsImdldFN0YXRzIiwibm93IiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsInRvZGF5U3RhcnQiLCJkYXRlIiwibW9udGhTdGFydCIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXRUaW1lIiwicXVlcmllc1RvZGF5IiwicXVlcmllc01vbnRoIiwidG90YWxzIiwiYXZnVGltZSIsInByb3ZpZGVyU3RhdHMiLCJjb3VudCIsInF1ZXJpZXNUaGlzTW9udGgiLCJ0b3RhbFRva2VucyIsInRva2VucyIsInRvdGFsQ29zdCIsImF2Z1Jlc3BvbnNlVGltZSIsImF2ZyIsImdldFJlY2VudFF1ZXJpZXMiLCJsaW1pdCIsImNsb3NlRGF0YWJhc2UiLCJjbG9zZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/database.ts\n");

/***/ }),

/***/ "(rsc)/./lib/event-emitter.ts":
/*!******************************!*\
  !*** ./lib/event-emitter.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearQuerySubscribers: () => (/* binding */ clearQuerySubscribers),\n/* harmony export */   emitQueryEvent: () => (/* binding */ emitQueryEvent),\n/* harmony export */   hasSubscribers: () => (/* binding */ hasSubscribers),\n/* harmony export */   subscribeToQuery: () => (/* binding */ subscribeToQuery)\n/* harmony export */ });\nconst subscribers = new Map();\nfunction emitQueryEvent(queryId, event) {\n    const subs = subscribers.get(queryId);\n    if (subs) {\n        subs.forEach((cb)=>{\n            try {\n                cb(event);\n            } catch (error) {\n                console.error('Error in event callback:', error);\n            }\n        });\n    }\n}\nfunction subscribeToQuery(queryId, callback) {\n    if (!subscribers.has(queryId)) {\n        subscribers.set(queryId, new Set());\n    }\n    subscribers.get(queryId).add(callback);\n    // Return unsubscribe function\n    return ()=>{\n        const subs = subscribers.get(queryId);\n        if (subs) {\n            subs.delete(callback);\n            // Clean up empty subscriber sets\n            if (subs.size === 0) {\n                subscribers.delete(queryId);\n            }\n        }\n    };\n}\nfunction clearQuerySubscribers(queryId) {\n    subscribers.delete(queryId);\n}\nfunction hasSubscribers(queryId) {\n    const subs = subscribers.get(queryId);\n    return subs ? subs.size > 0 : false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZXZlbnQtZW1pdHRlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUEsTUFBTUEsY0FBYyxJQUFJQztBQUVqQixTQUFTQyxlQUFlQyxPQUFlLEVBQUVDLEtBQVU7SUFDeEQsTUFBTUMsT0FBT0wsWUFBWU0sR0FBRyxDQUFDSDtJQUM3QixJQUFJRSxNQUFNO1FBQ1JBLEtBQUtFLE9BQU8sQ0FBQyxDQUFDQztZQUNaLElBQUk7Z0JBQ0ZBLEdBQUdKO1lBQ0wsRUFBRSxPQUFPSyxPQUFPO2dCQUNkQyxRQUFRRCxLQUFLLENBQUMsNEJBQTRCQTtZQUM1QztRQUNGO0lBQ0Y7QUFDRjtBQUVPLFNBQVNFLGlCQUNkUixPQUFlLEVBQ2ZTLFFBQXVCO0lBRXZCLElBQUksQ0FBQ1osWUFBWWEsR0FBRyxDQUFDVixVQUFVO1FBQzdCSCxZQUFZYyxHQUFHLENBQUNYLFNBQVMsSUFBSVk7SUFDL0I7SUFDQWYsWUFBWU0sR0FBRyxDQUFDSCxTQUFVYSxHQUFHLENBQUNKO0lBRTlCLDhCQUE4QjtJQUM5QixPQUFPO1FBQ0wsTUFBTVAsT0FBT0wsWUFBWU0sR0FBRyxDQUFDSDtRQUM3QixJQUFJRSxNQUFNO1lBQ1JBLEtBQUtZLE1BQU0sQ0FBQ0w7WUFDWixpQ0FBaUM7WUFDakMsSUFBSVAsS0FBS2EsSUFBSSxLQUFLLEdBQUc7Z0JBQ25CbEIsWUFBWWlCLE1BQU0sQ0FBQ2Q7WUFDckI7UUFDRjtJQUNGO0FBQ0Y7QUFFTyxTQUFTZ0Isc0JBQXNCaEIsT0FBZTtJQUNuREgsWUFBWWlCLE1BQU0sQ0FBQ2Q7QUFDckI7QUFFTyxTQUFTaUIsZUFBZWpCLE9BQWU7SUFDNUMsTUFBTUUsT0FBT0wsWUFBWU0sR0FBRyxDQUFDSDtJQUM3QixPQUFPRSxPQUFPQSxLQUFLYSxJQUFJLEdBQUcsSUFBSTtBQUNoQyIsInNvdXJjZXMiOlsiL1VzZXJzL3NoZWlycmF6YS9ha2hhaS9wYWNrYWdlcy93ZWIvbGliL2V2ZW50LWVtaXR0ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsidHlwZSBFdmVudENhbGxiYWNrID0gKGV2ZW50OiBhbnkpID0+IHZvaWQ7XG5cbmNvbnN0IHN1YnNjcmliZXJzID0gbmV3IE1hcDxzdHJpbmcsIFNldDxFdmVudENhbGxiYWNrPj4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVtaXRRdWVyeUV2ZW50KHF1ZXJ5SWQ6IHN0cmluZywgZXZlbnQ6IGFueSkge1xuICBjb25zdCBzdWJzID0gc3Vic2NyaWJlcnMuZ2V0KHF1ZXJ5SWQpO1xuICBpZiAoc3Vicykge1xuICAgIHN1YnMuZm9yRWFjaCgoY2IpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNiKGV2ZW50KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGV2ZW50IGNhbGxiYWNrOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlVG9RdWVyeShcbiAgcXVlcnlJZDogc3RyaW5nLFxuICBjYWxsYmFjazogRXZlbnRDYWxsYmFja1xuKTogKCkgPT4gdm9pZCB7XG4gIGlmICghc3Vic2NyaWJlcnMuaGFzKHF1ZXJ5SWQpKSB7XG4gICAgc3Vic2NyaWJlcnMuc2V0KHF1ZXJ5SWQsIG5ldyBTZXQoKSk7XG4gIH1cbiAgc3Vic2NyaWJlcnMuZ2V0KHF1ZXJ5SWQpIS5hZGQoY2FsbGJhY2spO1xuXG4gIC8vIFJldHVybiB1bnN1YnNjcmliZSBmdW5jdGlvblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGNvbnN0IHN1YnMgPSBzdWJzY3JpYmVycy5nZXQocXVlcnlJZCk7XG4gICAgaWYgKHN1YnMpIHtcbiAgICAgIHN1YnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgIC8vIENsZWFuIHVwIGVtcHR5IHN1YnNjcmliZXIgc2V0c1xuICAgICAgaWYgKHN1YnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBzdWJzY3JpYmVycy5kZWxldGUocXVlcnlJZCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJRdWVyeVN1YnNjcmliZXJzKHF1ZXJ5SWQ6IHN0cmluZykge1xuICBzdWJzY3JpYmVycy5kZWxldGUocXVlcnlJZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNTdWJzY3JpYmVycyhxdWVyeUlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3Qgc3VicyA9IHN1YnNjcmliZXJzLmdldChxdWVyeUlkKTtcbiAgcmV0dXJuIHN1YnMgPyBzdWJzLnNpemUgPiAwIDogZmFsc2U7XG59XG4iXSwibmFtZXMiOlsic3Vic2NyaWJlcnMiLCJNYXAiLCJlbWl0UXVlcnlFdmVudCIsInF1ZXJ5SWQiLCJldmVudCIsInN1YnMiLCJnZXQiLCJmb3JFYWNoIiwiY2IiLCJlcnJvciIsImNvbnNvbGUiLCJzdWJzY3JpYmVUb1F1ZXJ5IiwiY2FsbGJhY2siLCJoYXMiLCJzZXQiLCJTZXQiLCJhZGQiLCJkZWxldGUiLCJzaXplIiwiY2xlYXJRdWVyeVN1YnNjcmliZXJzIiwiaGFzU3Vic2NyaWJlcnMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/event-emitter.ts\n");

/***/ }),

/***/ "(rsc)/./lib/query-store.ts":
/*!****************************!*\
  !*** ./lib/query-store.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addQueryEvent: () => (/* binding */ addQueryEvent),\n/* harmony export */   createQueryRecord: () => (/* binding */ createQueryRecord),\n/* harmony export */   getQueryEvents: () => (/* binding */ getQueryEvents),\n/* harmony export */   loadQuery: () => (/* binding */ loadQuery),\n/* harmony export */   queries: () => (/* binding */ queries),\n/* harmony export */   updateQueryStatus: () => (/* binding */ updateQueryStatus)\n/* harmony export */ });\n/* harmony import */ var _database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database */ \"(rsc)/./lib/database.ts\");\n/**\n * Query store with SQLite persistence and in-memory cache\n */ \n// In-memory cache for fast access\nconst queries = new Map();\n/**\n * Create a new query (persists to database)\n */ function createQueryRecord(id, query, flow) {\n    const queryData = {\n        query,\n        flow,\n        status: 'pending',\n        events: []\n    };\n    queries.set(id, queryData);\n    // Persist to database\n    try {\n        (0,_database__WEBPACK_IMPORTED_MODULE_0__.createQuery)(id, query, flow);\n    } catch (error) {\n        console.error('Failed to create query in database:', error);\n    }\n}\n/**\n * Update query status (persists to database)\n */ function updateQueryStatus(queryId, status, result, error) {\n    const queryData = queries.get(queryId);\n    if (!queryData) return;\n    queryData.status = status;\n    if (result) queryData.result = result;\n    if (error) queryData.error = error;\n    // Persist to database\n    try {\n        (0,_database__WEBPACK_IMPORTED_MODULE_0__.updateQuery)(queryId, {\n            status,\n            result: result ? JSON.stringify(result) : undefined\n        });\n    } catch (dbError) {\n        console.error('Failed to update query in database:', dbError);\n    }\n}\n/**\n * Add an event to a query's event stream (persists to database)\n */ function addQueryEvent(queryId, type, data) {\n    const queryData = queries.get(queryId);\n    if (!queryData) return;\n    const event = {\n        type,\n        data,\n        timestamp: Date.now()\n    };\n    queryData.events.push(event);\n    // Persist to database\n    try {\n        (0,_database__WEBPACK_IMPORTED_MODULE_0__.addEvent)(queryId, type, data);\n    } catch (error) {\n        console.error('Failed to add event to database:', error);\n    }\n}\n/**\n * Get events for a query starting from a specific index\n */ function getQueryEvents(queryId, fromIndex = 0) {\n    const queryData = queries.get(queryId);\n    if (!queryData) return [];\n    return queryData.events.slice(fromIndex);\n}\n/**\n * Load query from database if not in memory\n */ function loadQuery(queryId) {\n    // Check memory cache first\n    if (queries.has(queryId)) {\n        return queries.get(queryId);\n    }\n    // Try to load from database\n    try {\n        const dbQuery = (0,_database__WEBPACK_IMPORTED_MODULE_0__.getQuery)(queryId);\n        if (!dbQuery) return null;\n        const events = (0,_database__WEBPACK_IMPORTED_MODULE_0__.getEvents)(queryId).map((e)=>({\n                type: e.type,\n                data: JSON.parse(e.data),\n                timestamp: e.timestamp * 1000\n            }));\n        const queryData = {\n            query: dbQuery.query,\n            flow: dbQuery.flow,\n            status: dbQuery.status,\n            result: dbQuery.result ? JSON.parse(dbQuery.result) : undefined,\n            events,\n            error: undefined\n        };\n        // Cache in memory\n        queries.set(queryId, queryData);\n        return queryData;\n    } catch (error) {\n        console.error('Failed to load query from database:', error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sSUFBSUk7WUFDdERWO1lBQ0FFLE9BQU9RO1FBQ1Q7UUFFQSxrQkFBa0I7UUFDbEJsQixRQUFRUyxHQUFHLENBQUNJLFNBQVNQO1FBRXJCLE9BQU9BO0lBQ1QsRUFBRSxPQUFPSSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx1Q0FBdUNBO1FBQ3JELE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvc2hlaXJyYXphL2FraGFpL3BhY2thZ2VzL3dlYi9saWIvcXVlcnktc3RvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBRdWVyeSBzdG9yZSB3aXRoIFNRTGl0ZSBwZXJzaXN0ZW5jZSBhbmQgaW4tbWVtb3J5IGNhY2hlXG4gKi9cblxuaW1wb3J0IHtcbiAgY3JlYXRlUXVlcnkgYXMgZGJDcmVhdGVRdWVyeSxcbiAgdXBkYXRlUXVlcnkgYXMgZGJVcGRhdGVRdWVyeSxcbiAgZ2V0UXVlcnkgYXMgZGJHZXRRdWVyeSxcbiAgYWRkRXZlbnQgYXMgZGJBZGRFdmVudCxcbiAgZ2V0RXZlbnRzIGFzIGRiR2V0RXZlbnRzLFxufSBmcm9tICcuL2RhdGFiYXNlJztcblxuZXhwb3J0IGludGVyZmFjZSBRdWVyeUV2ZW50IHtcbiAgdHlwZTpcbiAgICB8ICdhZHZpc29yLXN0YXJ0J1xuICAgIHwgJ2Fkdmlzb3ItY29tcGxldGUnXG4gICAgfCAnYWR2aXNvci1yZXNwb25zZSdcbiAgICB8ICdjb25zZW5zdXMtcmVhY2hlZCdcbiAgICB8ICdyb3VuZC1jb21wbGV0ZSdcbiAgICB8ICdyZWRhY3Rvci1zdGFydCdcbiAgICB8ICdyZWRhY3Rvci1jb21wbGV0ZSdcbiAgICB8ICdyZWRhY3Rvci1zeW50aGVzaXMnXG4gICAgfCAnbW90aGVyLWJhc2UtcmV2aWV3J1xuICAgIHwgJ21vdGhlci1iYXNlLWRlY2lzaW9uJ1xuICAgIHwgJ3N1Yi1hZ2VudC1zdGFydCdcbiAgICB8ICdzdWItYWdlbnQtY29tcGxldGUnXG4gICAgfCAnc3ViLWFnZW50LXJlc3BvbnNlJ1xuICAgIHwgJ2NvbXBsZXRlJ1xuICAgIHwgJ2Vycm9yJ1xuICAgIC8vIEdUUC1zcGVjaWZpYyBldmVudHNcbiAgICB8ICdndHAtYW5hbHlzaXMnXG4gICAgfCAnZmxhc2gtcHJlcGFyZSdcbiAgICB8ICdmbGFzaC1icm9hZGNhc3QnXG4gICAgfCAnYWR2aXNvci1mYWlsZWQnXG4gICAgfCAnbWVyZ2UtdXBkYXRlJ1xuICAgIHwgJ3F1b3J1bS1wcm9ncmVzcydcbiAgICB8ICdxdW9ydW0tcmVhY2hlZCdcbiAgICB8ICdzeW50aGVzaXMtc3RhcnQnXG4gICAgfCAnc3ludGhlc2lzLWNvbXBsZXRlJztcbiAgZGF0YTogYW55O1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRdWVyeURhdGEge1xuICBxdWVyeTogc3RyaW5nO1xuICBmbG93OiAnQScgfCAnQic7XG4gIHN0YXR1czogJ3BlbmRpbmcnIHwgJ3Byb2Nlc3NpbmcnIHwgJ2NvbXBsZXRlJyB8ICdlcnJvcic7XG4gIHJlc3VsdD86IGFueTtcbiAgZXZlbnRzOiBRdWVyeUV2ZW50W107XG4gIGVycm9yPzogc3RyaW5nO1xufVxuXG4vLyBJbi1tZW1vcnkgY2FjaGUgZm9yIGZhc3QgYWNjZXNzXG5leHBvcnQgY29uc3QgcXVlcmllcyA9IG5ldyBNYXA8c3RyaW5nLCBRdWVyeURhdGE+KCk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHF1ZXJ5IChwZXJzaXN0cyB0byBkYXRhYmFzZSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVF1ZXJ5UmVjb3JkKGlkOiBzdHJpbmcsIHF1ZXJ5OiBzdHJpbmcsIGZsb3c6ICdBJyB8ICdCJyk6IHZvaWQge1xuICBjb25zdCBxdWVyeURhdGE6IFF1ZXJ5RGF0YSA9IHtcbiAgICBxdWVyeSxcbiAgICBmbG93LFxuICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgIGV2ZW50czogW10sXG4gIH07XG5cbiAgcXVlcmllcy5zZXQoaWQsIHF1ZXJ5RGF0YSk7XG5cbiAgLy8gUGVyc2lzdCB0byBkYXRhYmFzZVxuICB0cnkge1xuICAgIGRiQ3JlYXRlUXVlcnkoaWQsIHF1ZXJ5LCBmbG93KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHF1ZXJ5IGluIGRhdGFiYXNlOicsIGVycm9yKTtcbiAgfVxufVxuXG4vKipcbiAqIFVwZGF0ZSBxdWVyeSBzdGF0dXMgKHBlcnNpc3RzIHRvIGRhdGFiYXNlKVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUXVlcnlTdGF0dXMoXG4gIHF1ZXJ5SWQ6IHN0cmluZyxcbiAgc3RhdHVzOiBRdWVyeURhdGFbJ3N0YXR1cyddLFxuICByZXN1bHQ/OiBhbnksXG4gIGVycm9yPzogc3RyaW5nXG4pOiB2b2lkIHtcbiAgY29uc3QgcXVlcnlEYXRhID0gcXVlcmllcy5nZXQocXVlcnlJZCk7XG4gIGlmICghcXVlcnlEYXRhKSByZXR1cm47XG5cbiAgcXVlcnlEYXRhLnN0YXR1cyA9IHN0YXR1cztcbiAgaWYgKHJlc3VsdCkgcXVlcnlEYXRhLnJlc3VsdCA9IHJlc3VsdDtcbiAgaWYgKGVycm9yKSBxdWVyeURhdGEuZXJyb3IgPSBlcnJvcjtcblxuICAvLyBQZXJzaXN0IHRvIGRhdGFiYXNlXG4gIHRyeSB7XG4gICAgZGJVcGRhdGVRdWVyeShxdWVyeUlkLCB7IHN0YXR1cywgcmVzdWx0OiByZXN1bHQgPyBKU09OLnN0cmluZ2lmeShyZXN1bHQpIDogdW5kZWZpbmVkIH0pO1xuICB9IGNhdGNoIChkYkVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBxdWVyeSBpbiBkYXRhYmFzZTonLCBkYkVycm9yKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCB0byBhIHF1ZXJ5J3MgZXZlbnQgc3RyZWFtIChwZXJzaXN0cyB0byBkYXRhYmFzZSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFF1ZXJ5RXZlbnQocXVlcnlJZDogc3RyaW5nLCB0eXBlOiBRdWVyeUV2ZW50Wyd0eXBlJ10sIGRhdGE6IGFueSk6IHZvaWQge1xuICBjb25zdCBxdWVyeURhdGEgPSBxdWVyaWVzLmdldChxdWVyeUlkKTtcbiAgaWYgKCFxdWVyeURhdGEpIHJldHVybjtcblxuICBjb25zdCBldmVudCA9IHtcbiAgICB0eXBlLFxuICAgIGRhdGEsXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICB9O1xuXG4gIHF1ZXJ5RGF0YS5ldmVudHMucHVzaChldmVudCk7XG5cbiAgLy8gUGVyc2lzdCB0byBkYXRhYmFzZVxuICB0cnkge1xuICAgIGRiQWRkRXZlbnQocXVlcnlJZCwgdHlwZSwgZGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGFkZCBldmVudCB0byBkYXRhYmFzZTonLCBlcnJvcik7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgZXZlbnRzIGZvciBhIHF1ZXJ5IHN0YXJ0aW5nIGZyb20gYSBzcGVjaWZpYyBpbmRleFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXVlcnlFdmVudHMocXVlcnlJZDogc3RyaW5nLCBmcm9tSW5kZXg6IG51bWJlciA9IDApOiBRdWVyeUV2ZW50W10ge1xuICBjb25zdCBxdWVyeURhdGEgPSBxdWVyaWVzLmdldChxdWVyeUlkKTtcbiAgaWYgKCFxdWVyeURhdGEpIHJldHVybiBbXTtcblxuICByZXR1cm4gcXVlcnlEYXRhLmV2ZW50cy5zbGljZShmcm9tSW5kZXgpO1xufVxuXG4vKipcbiAqIExvYWQgcXVlcnkgZnJvbSBkYXRhYmFzZSBpZiBub3QgaW4gbWVtb3J5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkUXVlcnkocXVlcnlJZDogc3RyaW5nKTogUXVlcnlEYXRhIHwgbnVsbCB7XG4gIC8vIENoZWNrIG1lbW9yeSBjYWNoZSBmaXJzdFxuICBpZiAocXVlcmllcy5oYXMocXVlcnlJZCkpIHtcbiAgICByZXR1cm4gcXVlcmllcy5nZXQocXVlcnlJZCkhO1xuICB9XG5cbiAgLy8gVHJ5IHRvIGxvYWQgZnJvbSBkYXRhYmFzZVxuICB0cnkge1xuICAgIGNvbnN0IGRiUXVlcnkgPSBkYkdldFF1ZXJ5KHF1ZXJ5SWQpIGFzIGFueTtcbiAgICBpZiAoIWRiUXVlcnkpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgZXZlbnRzID0gZGJHZXRFdmVudHMocXVlcnlJZCkubWFwKChlKSA9PiAoe1xuICAgICAgdHlwZTogZS50eXBlIGFzIFF1ZXJ5RXZlbnRbJ3R5cGUnXSxcbiAgICAgIGRhdGE6IEpTT04ucGFyc2UoZS5kYXRhKSxcbiAgICAgIHRpbWVzdGFtcDogZS50aW1lc3RhbXAgKiAxMDAwLCAvLyBDb252ZXJ0IHRvIG1pbGxpc2Vjb25kc1xuICAgIH0pKTtcblxuICAgIGNvbnN0IHF1ZXJ5RGF0YTogUXVlcnlEYXRhID0ge1xuICAgICAgcXVlcnk6IGRiUXVlcnkucXVlcnksXG4gICAgICBmbG93OiBkYlF1ZXJ5LmZsb3csXG4gICAgICBzdGF0dXM6IGRiUXVlcnkuc3RhdHVzLFxuICAgICAgcmVzdWx0OiBkYlF1ZXJ5LnJlc3VsdCA/IEpTT04ucGFyc2UoZGJRdWVyeS5yZXN1bHQpIDogdW5kZWZpbmVkLFxuICAgICAgZXZlbnRzLFxuICAgICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICB9O1xuXG4gICAgLy8gQ2FjaGUgaW4gbWVtb3J5XG4gICAgcXVlcmllcy5zZXQocXVlcnlJZCwgcXVlcnlEYXRhKTtcblxuICAgIHJldHVybiBxdWVyeURhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgcXVlcnkgZnJvbSBkYXRhYmFzZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVRdWVyeSIsImRiQ3JlYXRlUXVlcnkiLCJ1cGRhdGVRdWVyeSIsImRiVXBkYXRlUXVlcnkiLCJnZXRRdWVyeSIsImRiR2V0UXVlcnkiLCJhZGRFdmVudCIsImRiQWRkRXZlbnQiLCJnZXRFdmVudHMiLCJkYkdldEV2ZW50cyIsInF1ZXJpZXMiLCJNYXAiLCJjcmVhdGVRdWVyeVJlY29yZCIsImlkIiwicXVlcnkiLCJmbG93IiwicXVlcnlEYXRhIiwic3RhdHVzIiwiZXZlbnRzIiwic2V0IiwiZXJyb3IiLCJjb25zb2xlIiwidXBkYXRlUXVlcnlTdGF0dXMiLCJxdWVyeUlkIiwicmVzdWx0IiwiZ2V0IiwiSlNPTiIsInN0cmluZ2lmeSIsInVuZGVmaW5lZCIsImRiRXJyb3IiLCJhZGRRdWVyeUV2ZW50IiwidHlwZSIsImRhdGEiLCJldmVudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJwdXNoIiwiZ2V0UXVlcnlFdmVudHMiLCJmcm9tSW5kZXgiLCJzbGljZSIsImxvYWRRdWVyeSIsImhhcyIsImRiUXVlcnkiLCJtYXAiLCJlIiwicGFyc2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/query-store.ts\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("better-sqlite3");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3","vendor-chunks/@opentelemetry","vendor-chunks/nanoid@5.1.6"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@15.5.9_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquery%2Froute&page=%2Fapi%2Fquery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquery%2Froute.ts&appDir=%2FUsers%2Fsheirraza%2Fakhai%2Fpackages%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsheirraza%2Fakhai%2Fpackages%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();